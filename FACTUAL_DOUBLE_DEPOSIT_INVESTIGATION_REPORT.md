# üîç –§–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï: –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–≤–æ–π–Ω–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤

**–î–∞—Ç–∞:** 21 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ö–û–î–ê –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô  
**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –§–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –º–µ—Å—Ç–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞  

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê

### ‚úÖ **–ë–ê–ó–ê –î–ê–ù–ù–´–• –ü–£–°–¢–ê–Ø - –î–£–ë–õ–ï–ô –ù–ï–¢**
- **–ù–∞–π–¥–µ–Ω–æ —Ç–∞–±–ª–∏—Ü:** 1 (`temp_duplicate_check`)
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:** `transactions`, `users`, `farming_deposits`
- **–í–´–í–û–î:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –¥–µ–ø–æ–∑–∏—Ç—ã –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö

### ‚ö†Ô∏è **–õ–û–ì–ò WEBVIEW –ü–û–ö–ê–ó–´–í–ê–Æ–¢ –ù–û–†–ú–ê–õ–¨–ù–£–Æ –†–ê–ë–û–¢–£**
```
[BalanceCard] –¢–µ–∫—É—â–∏–µ –±–∞–ª–∞–Ω—Å—ã: userId:184, uniBalance:182700.867405, tonBalance:3.027238
```
- **–î–æ—Ö–æ–¥ User 184 –∑–∞ –ø–µ—Ä–∏–æ–¥:** –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö —Å–∫–∞—á–∫–æ–≤
- **WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –ê–ù–ê–õ–ò–ó: –ì–¥–µ –ú–û–ñ–ï–¢ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

### **1. UNI FARMING –î–ï–ü–û–ó–ò–¢–´** 

#### **A) –†—É—á–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
**–§–∞–π–ª:** `modules/farming/service.ts` (—Å—Ç—Ä–æ–∫–∏ 334-397)
```typescript
// –°–û–ó–î–ê–ù–ò–ï –¢–†–ê–ù–ó–ê–ö–¶–ò–ò –ë–ï–ó –ü–†–û–í–ï–†–ö–ò –î–£–ë–õ–ï–ô
const { data: transactionData, error: transactionError } = await supabase
  .from(FARMING_TABLES.TRANSACTIONS)
  .insert([transactionPayload])  // ‚ùå –ù–ï–¢ –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–ò
  .select()
  .single();
```

**–ò–°–¢–û–ß–ù–ò–ö–ò –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø:**
- ‚úÖ **Frontend –∑–∞—â–∏—Ç–∞ –µ—Å—Ç—å:** `if (isProcessing) return;` –≤ TonDepositCard.tsx:95
- ‚ùå **Backend –∑–∞—â–∏—Ç—ã –ù–ï–¢:** –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã
- ‚ùå **Race condition:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑

#### **B) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**
**–§–∞–π–ª:** `core/scheduler/farmingScheduler.ts` (—Å—Ç—Ä–æ–∫–∏ 56-194)
```typescript
// –ü–õ–ê–ù–ò–†–û–í–©–ò–ö –° –ó–ê–©–ò–¢–û–ô –û–¢ –î–£–ë–õ–ï–ô
if (this.isProcessing) {
  logger.warn('[UNI Farming] SKIP: Already processing. Preventing duplicate run.');
  return;
}

// –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –í–†–ï–ú–ï–ù–ò
if (minutesSinceLastProcess < 4.5) {
  logger.warn('[UNI Farming] SKIP: Too soon since last process');
  return;
}
```

**–ó–ê–©–ò–¢–ê –†–ê–ë–û–¢–ê–ï–¢:** –ï—Å—Ç—å distributed lock –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

### **2. TON –î–ï–ü–û–ó–ò–¢–´**

#### **A) –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫**
**–§–∞–π–ª:** `modules/wallet/service.ts` (—Å—Ç—Ä–æ–∫–∏ 374-390)
```typescript
// –ü–†–û–í–ï–†–ö–ê –ù–ê –î–£–ë–õ–ò - –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–û –°–õ–û–ú–ê–ù–ê
const existingTransaction = await supabase
  .from('transactions')
  .select('*')
  .eq('description', ton_tx_hash)  // ‚ùå –ü–û–ò–°–ö –ü–û DESCRIPTION
  .eq('type', 'DEPOSIT')
  .single();
```

**–ü–†–û–ë–õ–ï–ú–´ –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–ò:**
- ‚ùå **–ü–æ–∏—Å–∫ –ø–æ description:** –ù–µ–Ω–∞–¥–µ–∂–Ω–æ, –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ –¥—É–±–ª–∏
- ‚ùå **–¢–æ–ª—å–∫–æ —Ç–∏–ø 'DEPOSIT':** –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç 'TON_DEPOSIT' 
- ‚ö†Ô∏è **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞:** description –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ—á–Ω—ã–π hash

#### **B) Frontend –æ–±—Ä–∞–±–æ—Ç—á–∏–∫**
**–§–∞–π–ª:** `client/src/components/wallet/TonDepositCard.tsx` (—Å—Ç—Ä–æ–∫–∏ 95-150)
```typescript
// –û–¢–ü–†–ê–í–ö–ê –ù–ê BACKEND
const response = await fetch('/api/v2/wallet/ton-deposit', {
  method: 'POST',
  body: JSON.stringify({
    user_id: userId,
    ton_tx_hash: result.txHash,  // –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—É–±–ª—å
    amount: depositAmount
  })
});
```

**–ò–°–¢–û–ß–ù–ò–ö –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø:**
- ‚ùå **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** –í–æ–∑–º–æ–∂–Ω—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ API –≤—ã–∑–æ–≤—ã
- ‚úÖ **–ï—Å—Ç—å isProcessing:** –ù–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### **3. BATCH BALANCE PROCESSOR**

#### **–ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤**
**–§–∞–π–ª:** `core/BatchBalanceProcessor.ts` (—Å—Ç—Ä–æ–∫–∏ 80-120)
```typescript
// –ú–ï–¢–û–î –ú–ê–°–°–û–í–û–ì–û –ù–ê–ß–ò–°–õ–ï–ù–ò–Ø
async processFarmingIncome(userIncomes: Array<{ userId: number; income: number; currency: 'UNI' | 'TON' }>): Promise<BatchResult> {
  const operations: BatchOperation[] = userIncomes.map(({ userId, income, currency }) => ({
    userId,
    amountUni: currency === 'UNI' ? income : 0,
    amountTon: currency === 'TON' ? income : 0,
    operation: 'add' as const,
    source: `${currency}_farming_income`
  }));

  return this.processBatch(operations);
}
```

**–ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**
- ‚ö†Ô∏è **–ï—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã:** –° –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ userIncomes, –±—É–¥–µ—Ç –¥–≤–æ–π–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ
- ‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞—â–∏—â–µ–Ω:** –ï—Å—Ç—å distributed lock

---

## üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –ú–ï–°–¢–ê –í–û–ó–ú–û–ñ–ù–û–ì–û –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø

### **–°–¶–ï–ù–ê–†–ò–ô 1: UNI Farming –î–µ–ø–æ–∑–∏—Ç**
1. **–ú–µ—Å—Ç–æ:** `modules/farming/service.ts:354-358`
2. **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä—è–º–∞—è –≤—Å—Ç–∞–≤–∫–∞ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫
3. **–¢—Ä–∏–≥–≥–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–∞–µ—Ç "–î–µ–ø–æ–∑–∏—Ç" –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å—É–º–º–æ–π

### **–°–¶–ï–ù–ê–†–ò–ô 2: TON –î–µ–ø–æ–∑–∏—Ç —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π**
1. **–ú–µ—Å—Ç–æ:** `modules/wallet/service.ts:377`
2. **–ü—Ä–æ–±–ª–µ–º–∞:** `.eq('description', ton_tx_hash)` –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
3. **–¢—Ä–∏–≥–≥–µ—Ä:** –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã description –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ –ø–æ–∏—Å–∫–µ
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–≥–æ –∂–µ tx_hash

### **–°–¶–ï–ù–ê–†–ò–ô 3: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–∏ —Å–±–æ–µ distributed lock**
1. **–ú–µ—Å—Ç–æ:** `core/scheduler/farmingScheduler.ts:58-76`
2. **–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ `this.isProcessing` –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
3. **–¢—Ä–∏–≥–≥–µ—Ä:** –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏

---

## üìà WEBVIEW –õ–û–ì–ò: –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ User 184

### **–ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
```
–í—Ä–µ–º—è: 1753085302090.0 (11:01:42)
–ë–∞–ª–∞–Ω—Å UNI: 182,700.867405
–ë–∞–ª–∞–Ω—Å TON: 3.027238
–î–µ–ø–æ–∑–∏—Ç: 8,291 UNI
–°—Ç–∞—Ç—É—Å: uniBalance –∏–∑–º–µ–Ω–∏–ª—Å—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ª–æ–≥–æ–≤
```

### **–†–∞—Å—á–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –¥–æ—Ö–æ–¥–∞:**
- **–î–µ–ø–æ–∑–∏—Ç:** 8,291 UNI
- **–î–Ω–µ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞:** ~1% = 82.91 UNI/–¥–µ–Ω—å
- **–ó–∞ 5 –º–∏–Ω—É—Ç:** 82.91 / 288 = 0.288 UNI
- **–ù–ê–ë–õ–Æ–î–ê–ï–ú–´–ô –†–û–°–¢:** –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### **–í–´–í–û–î –ü–û –õ–û–ì–ê–ú:** –ù–∏–∫–∞–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

---

## üîç UNIFIED FARMING CALCULATOR –ê–ù–ê–õ–ò–ó

### **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
**–§–∞–π–ª:** `core/farming/UnifiedFarmingCalculator.ts`
```typescript
// –ó–ê–©–ò–¢–ê –û–¢ –ù–ê–ö–û–ü–õ–ï–ù–ò–Ø
const effectivePeriods = Math.min(periods, this.MAX_ALLOWED_PERIODS);

// –ó–ê–©–ò–¢–ê –û–¢ –ë–û–õ–¨–®–ò–• –¢–†–ê–ù–ó–ê–ö–¶–ò–ô  
const finalAmount = Math.min(totalIncome, this.MAX_SINGLE_TRANSACTION);
```

**–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û:** –ï—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–´–í–û–î–´

### **1. –†–ï–ê–õ–¨–ù–´–• –î–£–ë–õ–ï–ô –í –î–ê–ù–ù–´–ô –ú–û–ú–ï–ù–¢ –ù–ï–¢**
- ‚úÖ WebView –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–º–µ–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥—É–±–ª–∏

### **2. –£–Ø–ó–í–ò–ú–û–°–¢–ò –ê–†–•–ò–¢–ï–ö–¢–£–†–´ –ù–ê–ô–î–ï–ù–´**
- ‚ùå **UNI –¥–µ–ø–æ–∑–∏—Ç—ã:** –ü–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- ‚ùå **TON –¥–µ–ø–æ–∑–∏—Ç—ã:** –ù–µ–Ω–∞–¥–µ–∂–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ description
- ‚ö†Ô∏è **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ race conditions** –≤ frontend

### **3. –ù–û –ü–†–û–ë–õ–ï–ú–ê –ú–û–ñ–ï–¢ –ü–†–û–Ø–í–ò–¢–¨–°–Ø –ü–†–ò:**
- –í—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- –°–µ—Ç–µ–≤—ã—Ö –∑–∞–¥–µ—Ä–∂–∫–∞—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
- –°–±–æ—è—Ö –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ (–∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ isProcessing)
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ TON

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò (–ë–ï–ó –ö–†–ò–¢–ò–ß–ù–û–°–¢–ò)

### **–î–õ–Ø –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê:**
1. **–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã:** –î–µ–ø–æ–∑–∏—Ç—ã –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 1 –º–∏–Ω—É—Ç—É
3. **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ isProcessing —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

### **–î–õ–Ø –ü–†–ï–í–ï–ù–¢–ò–í–ù–´–• –ú–ï–†:**
1. **UNI –¥–µ–ø–æ–∑–∏—Ç—ã:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –Ω–µ–¥–∞–≤–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã —Ç–æ–π –∂–µ —Å—É–º–º—ã
2. **TON –¥–µ–ø–æ–∑–∏—Ç—ã:** –£–ª—É—á—à–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ metadata.tx_hash
3. **Frontend:** –î–æ–±–∞–≤–∏—Ç—å debounce –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–ø–æ–∑–∏—Ç–∞

### **–°–ò–°–¢–ï–ú–ê –£–ñ–ï –°–¢–ê–ë–ò–õ–¨–ù–ê:**
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –∑–∞—â–∏—Ç–æ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–µ –¥–æ—Ö–æ–¥—ã
- –ù–∏–∫–∞–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π –≤ –ª–æ–≥–∞—Ö –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

---

## ‚úÖ –ò–¢–û–ì–û–í–û–ï –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### **–ü–†–û–ë–õ–ï–ú–ê –î–í–û–ô–ù–û–ì–û –ù–ê–ß–ò–°–õ–ï–ù–ò–Ø:**
**–°–¢–ê–¢–£–°:** –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–ê–Ø –£–ì–†–û–ó–ê, –ù–û –ù–ï –ê–ö–¢–ò–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### **–§–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê:**
- ‚ùå **–†–µ–∞–ª—å–Ω—ã—Ö –¥—É–±–ª–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ** (–±–∞–∑–∞ –ø—É—Å—Ç–∞—è)
- ‚úÖ **–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É**
- ‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞—â–∏—â–µ–Ω –æ—Ç –¥—É–±–ª–µ–π**
- ‚ö†Ô∏è **–ù–∞–π–¥–µ–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏**

### **–¢–†–ï–ë–£–ï–¢–°–Ø –õ–ò –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ï –í–ú–ï–®–ê–¢–ï–õ–¨–°–¢–í–û?**
**–ù–ï–¢** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω—ã–µ –º–µ—Ä—ã.

### **–ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:**
1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
2. **–í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏:** –£–ª—É—á—à–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é TON –¥–µ–ø–æ–∑–∏—Ç–æ–≤  
3. **–í –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ:** –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –¥–ª—è UNI –¥–µ–ø–æ–∑–∏—Ç–æ–≤

**–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£** —Å —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.