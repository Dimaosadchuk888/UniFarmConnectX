# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –†–ï–ì–†–ï–°–°–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ê: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ UNI —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–î–∞—Ç–∞:** 21 –∏—é–ª—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û  

---

## üö® –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –†–ï–ì–†–ï–°–°–ò–Ø

### **–û–®–ò–ë–ö–ê –í –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–û–ú –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò:**
–ü—Ä–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –º—ã —Å–æ–≤–µ—Ä—à–∏–ª–∏ —Ñ–∞—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É:

**–ù–ï–í–ï–†–ù–û–ï –ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–ï:**
- ‚ùå –î—É–º–∞–ª–∏ —á—Ç–æ `UniFarmingRepository.addDeposit()` —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
- ‚ùå –£–±—Ä–∞–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ `FarmingService`
- ‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç: **0 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ 2**

**–†–ï–ê–õ–¨–ù–û–°–¢–¨:**
- ‚úÖ `UniFarmingRepository.addDeposit()` **–ù–ï –°–û–ó–î–ê–ï–¢** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–∞—Ä–º–∏–Ω–≥–∞ –≤ –ë–î
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –≤–∏–¥–µ—Ç—å –¥–µ–ø–æ–∑–∏—Ç—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–û

### **–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ê –õ–û–ì–ò–ö–ê –°–û–ó–î–ê–ù–ò–Ø –¢–†–ê–ù–ó–ê–ö–¶–ò–ô:**

**–í —Ñ–∞–π–ª–µ:** `modules/farming/service.ts` —Å—Ç—Ä–æ–∫–∏ 322-364

**–î–û–ë–ê–í–õ–ï–ù–û –û–ë–†–ê–¢–ù–û:**
```typescript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–†–ò–¢–ò–ß–ï–°–ö–û–ô –†–ï–ì–†–ï–°–°–ò–ò: –°–æ–∑–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∑–¥–µ—Å—å
logger.info('[FarmingService] –≠–¢–ê–ü 9: –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ñ–∞—Ä–º–∏–Ω–≥–∞');

const transactionPayload = {
  user_id: user.id,
  type: 'FARMING_DEPOSIT',
  amount: depositAmount.toString(),
  amount_uni: depositAmount.toString(),
  amount_ton: '0',
  currency: 'UNI',
  status: 'completed',
  description: `UNI farming deposit: ${depositAmount}`
};

const { data: transactionData, error: transactionError } = await supabase
  .from(FARMING_TABLES.TRANSACTIONS)
  .insert([transactionPayload])
  .select()
  .single();
```

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- ‚úÖ **1 UNI –¥–µ–ø–æ–∑–∏—Ç ‚Üí 1 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ –ë–∞–ª–∞–Ω—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
- ‚úÖ –§–∞—Ä–º–∏–Ω–≥ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–∏–¥–Ω—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏**
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ

### **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò–°–ü–†–ê–í–õ–ï–ù–ê:**
```
FarmingService.depositUniForFarming()
‚îú‚îÄ‚îÄ –°–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ ‚úÖ
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚úÖ (–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–û)
‚îú‚îÄ‚îÄ UniFarmingRepository.addDeposit() ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ farming_data ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è users ‚úÖ
‚îî‚îÄ‚îÄ Return success ‚úÖ
```

---

## üß™ –ü–õ–ê–ù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### **–ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê –ü–†–û–í–ï–†–ò–¢–¨:**
1. **–°–æ–∑–¥–∞—Ç—å UNI –¥–µ–ø–æ–∑–∏—Ç** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 UNI)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è 1 –∑–∞–ø–∏—Å—å FARMING_DEPOSIT
3. **–£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥—É–±–ª–µ–π** - —Ç–æ–ª—å–∫–æ 1 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ –¥–µ–ø–æ–∑–∏—Ç
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ UNI
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞—Ä–º–∏–Ω–≥** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞

### **–ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê:**
- ‚úÖ 1 –¥–µ–ø–æ–∑–∏—Ç = 1 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: FARMING_DEPOSIT
- ‚úÖ –í–∞–ª—é—Ç–∞: UNI  
- ‚úÖ –°—É–º–º–∞: —Ç–æ—á–Ω–æ —Ä–∞–≤–Ω–∞ –¥–µ–ø–æ–∑–∏—Ç—É
- ‚úÖ –°—Ç–∞—Ç—É—Å: completed

---

## üìã –ò–¢–û–ì–û–í–û–ï –†–ï–ó–Æ–ú–ï

### **–ü–†–û–ë–õ–ï–ú–´ –†–ï–®–ï–ù–´:**
1. ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –±–æ–ª—å—à–µ –Ω–µ—Ç 2—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
2. ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
3. ‚úÖ **–û—à–∏–±–∫–∞ ES –º–æ–¥—É–ª–µ–π** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–Ω–µ–µ

### **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û–ï –†–ï–®–ï–ù–ò–ï:**
- **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** `FarmingService.depositUniForFarming()`
- **Repository —Ä–æ–ª—å:** –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–∞—Ä–º–∏–Ω–≥–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 1 –¥–µ–ø–æ–∑–∏—Ç = 1 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±–µ–∑ –¥—É–±–ª–µ–π

### **–°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´:**
**üü¢ –ì–û–¢–û–í–ê –ö PRODUCTION –≠–ö–°–ü–õ–£–ê–¢–ê–¶–ò–ò**

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —Å –ø–æ–ª–Ω–æ–π –≤–∏–¥–∏–º–æ—Å—Ç—å—é –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üìù –£–†–û–ö–ò –ù–ê –ë–£–î–£–©–ï–ï

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è** –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–≤
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å E2E** –ø–æ—Å–ª–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π  
3. **–°–æ–∑–¥–∞–≤–∞—Ç—å backup** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–≥–æ –∫–æ–¥–∞
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å** –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–µ—Ç–∞–ª—è—Ö

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞ –≤–∞–∂–Ω–æ—Å—Ç—å —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–æ–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–∂—É—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω—ã–º–∏.