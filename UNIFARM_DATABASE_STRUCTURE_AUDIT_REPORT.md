# üìã –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –°–¢–†–£–ö–¢–£–†–´ –ë–ê–ó–´ –î–ê–ù–ù–´–• UNIFARM
### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ SQL-—Å—Ö–µ–º—ã –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞**: 13 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π  
**–í—Å–µ–≥–æ —Ç–∞–±–ª–∏—Ü –≤ –ë–î**: 30

---

## üîç –°–í–û–î–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

| ‚Ññ | –¢–∞–±–ª–∏—Ü–∞ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ | –ú–æ–¥—É–ª–∏/–§–∞–π–ª—ã | –°—Ç–∞—Ç—É—Å |
|---|---------|------------------------|--------------|--------|
| 1 | **users** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | –í—Å–µ –º–æ–¥—É–ª–∏ | –û—Å–Ω–æ–≤–Ω–∞—è |
| 2 | **transactions** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | UnifiedTransactionService, –≤—Å–µ –º–æ–¥—É–ª–∏ | –û—Å–Ω–æ–≤–Ω–∞—è |
| 3 | **uni_farming_data** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | UniFarmingRepository, farming/service | –û—Å–Ω–æ–≤–Ω–∞—è |
| 4 | **ton_farming_data** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | TonFarmingRepository, boost/service | –û—Å–Ω–æ–≤–Ω–∞—è |
| 5 | **boost_purchases** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ü—É—Å—Ç–∞—è |
| 6 | **withdraw_requests** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | wallet/service, AdminBot | –û—Å–Ω–æ–≤–Ω–∞—è |
| 7 | **missions** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | missions/service | –û—Å–Ω–æ–≤–Ω–∞—è |
| 8 | **user_missions** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | missions/service (—á–µ—Ä–µ–∑ mission_progress) | –î—É–±–ª–∏—Ä—É–µ—Ç |
| 9 | **mission_progress** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | missions/service | –û—Å–Ω–æ–≤–Ω–∞—è |
| 10 | **daily_bonus_logs** | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ | dailyBonus/service | –û—Å–Ω–æ–≤–Ω–∞—è |
| 11 | **referrals** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ü—É—Å—Ç–∞—è |
| 12 | **wallet** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è |
| 13 | **wallet_logs** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 14 | **farming_sessions** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ü—É—Å—Ç–∞—è |
| 15 | **airdrops** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | airdrop/service | –ú–∞–ª–æ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è |
| 16 | **airdrop_claims** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | airdrop/service | –ú–∞–ª–æ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è |
| 17 | **airdrop_missions** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 18 | **user_sessions** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | JWT –≤–º–µ—Å—Ç–æ sessions | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 19 | **auth_logs** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 20 | **boosts** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –î—É–±–ª–∏—Ä—É–µ—Ç boost_purchases |
| 21 | **ton_boost_schedules** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 22 | **farming_deposits** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è |
| 23 | **daily_bonus_history** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –î—É–±–ª–∏—Ä—É–µ—Ç daily_bonus_logs |
| 24 | **referral_analytics** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 25 | **referral_earnings** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 26 | **mission_templates** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 27 | **user_mission_claims** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 28 | **user_mission_completions** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 29 | **system_metrics** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |
| 30 | **webhook_logs** | ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | - | –ù–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ |

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø

### 1. **–¢–ò–ü–´ –¢–†–ê–ù–ó–ê–ö–¶–ò–ô**
**–ü—Ä–æ–±–ª–µ–º–∞**: Enum –≤ –ë–î (`type USER-DEFINED`) –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º —Ç–∏–ø–∞–º –≤ –∫–æ–¥–µ

**–í –∫–æ–¥–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã** (modules/transactions/types.ts):
- `FARMING_REWARD` ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è UNI farming + TON Boost –¥–æ—Ö–æ–¥–æ–≤)
- `FARMING_DEPOSIT` ‚ùì (–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ enum –ë–î)
- `REFERRAL_REWARD` ‚ùì
- `MISSION_REWARD` ‚ùì
- `DAILY_BONUS` ‚ùì

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã** (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ë–î):
- `TON_BOOST_INCOME` ‚ùå
- `BOOST_PURCHASE` ‚ùå
- `AIRDROP_REWARD` ‚ùå

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**: –ü–æ–∫—É–ø–∫–∏ TON Boost –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ `FARMING_REWARD` —Å metadata `original_type`

### 2. **–†–ï–§–ï–†–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê**
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–±–ª–∏—Ü–∞ `referrals` –ø—É—Å—Ç–∞—è, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–æ–ª–µ `referred_by` –≤ `users`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**:
- `users.referred_by` - ID –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ
- `users.ref_code` - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
- –ù–∞—á–∏—Å–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `transactions` —Å —Ç–∏–ø–æ–º `REFERRAL_REWARD`

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**:
- –¢–∞–±–ª–∏—Ü–∞ `referrals` (–¥–ª—è 20-—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –¢–∞–±–ª–∏—Ü–∞ `referral_earnings`
- –¢–∞–±–ª–∏—Ü–∞ `referral_analytics`

### 3. **BOOST –ü–û–ö–£–ü–ö–ò**
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–±–ª–∏—Ü–∞ `boost_purchases` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ü–æ–∫—É–ø–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `transactions` –∫–∞–∫ `FARMING_REWARD`
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `ton_farming_data`
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ —Ç–æ–ª—å–∫–æ –≤ `transactions`

### 4. **–î–£–ë–õ–ò–†–£–Æ–©–ò–ï –°–¢–†–£–ö–¢–£–†–´**

**–ú–∏—Å—Å–∏–∏**:
- `missions` ‚úÖ - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
- `user_missions` ‚ö†Ô∏è - —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `mission_progress` ‚úÖ - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- `airdrop_missions` ‚ùå - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `mission_templates` ‚ùå - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**Daily Bonus**:
- `daily_bonus_logs` ‚úÖ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `daily_bonus_history` ‚ùå - –¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**Farming –¥–∞–Ω–Ω—ã–µ –≤ `users`** (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–ª—è):
- `uni_deposit_amount`, `uni_farming_*` - –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `uni_farming_data`
- `ton_farming_*`, `ton_boost_*` - –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `ton_farming_data`

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### 1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**
- **UnifiedTransactionService** - –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- **BalanceManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `users`
- **Supabase SDK** - –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ SQL

### 2. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤**
- **UniFarmingRepository** - —Ä–∞–±–æ—Ç–∞ —Å `uni_farming_data` (fallback –Ω–∞ `users`)
- **TonFarmingRepository** - —Ä–∞–±–æ—Ç–∞ —Å `ton_farming_data` (fallback –Ω–∞ `users`)
- **SupabaseUserRepository** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 3. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ë–î**
- 18 –∏–∑ 30 —Ç–∞–±–ª–∏—Ü (60%) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (auth_logs, webhook_logs)
- –ù–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (referral_analytics, system_metrics)
- –°–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ JWT, –∞ –Ω–µ user_sessions

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã –≤ enum
ALTER TYPE transaction_type ADD VALUE 'FARMING_DEPOSIT';
ALTER TYPE transaction_type ADD VALUE 'REFERRAL_REWARD';
ALTER TYPE transaction_type ADD VALUE 'MISSION_REWARD';
ALTER TYPE transaction_type ADD VALUE 'DAILY_BONUS';
ALTER TYPE transaction_type ADD VALUE 'BOOST_PURCHASE';
```

### 2. **–û—á–∏—Å—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î**
- –£–¥–∞–ª–∏—Ç—å 18 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü
- –£–±—Ä–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–ª—è –∏–∑ `users`
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –º–∏—Å—Å–∏–π

### 3. **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å `auth_logs` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `system_metrics` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –í–Ω–µ–¥—Ä–∏—Ç—å `referral_analytics` –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å metadata –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- –û–ø–∏—Å–∞—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

- **–ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**: 10 —Ç–∞–±–ª–∏—Ü (33%)
- **–ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**: 3 —Ç–∞–±–ª–∏—Ü—ã (10%)
- **–ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**: 17 —Ç–∞–±–ª–∏—Ü (57%)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã**: users, transactions, farming –¥–∞–Ω–Ω—ã–µ
- **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏**: —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, boost –ø–æ–∫—É–ø–∫–∏

---

## üìÅ –î–ï–¢–ê–õ–¨–ù–ê–Ø –ö–ê–†–¢–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –¢–ê–ë–õ–ò–¶

### **USERS** (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)
**–ú–æ–¥—É–ª–∏**: –í—Å–µ  
**–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è**:
- `balance_uni`, `balance_ton` - –æ—Å–Ω–æ–≤–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã
- `referred_by`, `ref_code` - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- `telegram_id`, `username` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–ª—è**: `uni_farming_*`, `ton_farming_*`, `ton_boost_*`

### **TRANSACTIONS** (–ñ—É—Ä–Ω–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–π)
**–ú–æ–¥—É–ª–∏**: UnifiedTransactionService, –≤—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏  
**–ü—Ä–æ–±–ª–µ–º—ã**:
- –ü–æ–ª–µ `type USER-DEFINED` - –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–æ—Å—Ç–∞–≤ enum
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: `amount`, `amount_uni`, `amount_ton`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π (–¥–µ–ø–æ–∑–∏—Ç—ã, –≤—ã–≤–æ–¥—ã, –Ω–∞–≥—Ä–∞–¥—ã)

### **UNI_FARMING_DATA** (UNI —Ñ–∞—Ä–º–∏–Ω–≥)
**–ú–æ–¥—É–ª–∏**: UniFarmingRepository, modules/farming/  
**–°–≤—è–∑—å**: user_id ‚Üí users.id  
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Ç–∞–±–ª–∏—Ü—É users –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏**

### **TON_FARMING_DATA** (TON Boost)
**–ú–æ–¥—É–ª–∏**: TonFarmingRepository, modules/boost/, tonBoostIncomeScheduler  
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: user_id —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ TEXT (–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤)  
**–ü–æ–ª—è**: boost_active, boost_package_id, farming_rate

### **WITHDRAW_REQUESTS** (–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥)
**–ú–æ–¥—É–ª–∏**: wallet/service, telegram/AdminBotController  
**–°—Ç–∞—Ç—É—Å—ã**: pending ‚Üí approved/rejected  
**–û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ @unifarm_admin_bot**

### **MISSIONS** + **MISSION_PROGRESS**
**–ú–æ–¥—É–ª–∏**: missions/service, missions/controller  
**–î–≤–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**:
- `missions` - —à–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞–Ω–∏–π
- `mission_progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `user_missions` - —á–∞—Å—Ç–∏—á–Ω–æ –¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### **DAILY_BONUS_LOGS**
**–ú–æ–¥—É–ª–∏**: dailyBonus/service  
**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç**: bonus_amount, day_number, streak_bonus  
**–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å —Ç–∏–ø–æ–º DAILY_BONUS**

---

## üîÑ –ú–ê–†–®–†–£–¢–´ –î–ê–ù–ù–´–• –í –°–ò–°–¢–ï–ú–ï

### 1. **–ü–æ–∫—É–ø–∫–∞ TON Boost**
```
UI ‚Üí boost/controller ‚Üí boost/service ‚Üí 
‚Üí BalanceManager (—Å–ø–∏—Å–∞–Ω–∏–µ TON)
‚Üí ton_farming_data (–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞)
‚Üí transactions (type: FARMING_REWARD, metadata: {original_type: 'BOOST_PURCHASE'})
‚ùå boost_purchases (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

### 2. **UNI Farming –¥–µ–ø–æ–∑–∏—Ç**
```
UI ‚Üí farming/directDeposit ‚Üí 
‚Üí BalanceManager (—Å–ø–∏—Å–∞–Ω–∏–µ UNI)
‚Üí uni_farming_data (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞)
‚Üí transactions (type: FARMING_DEPOSIT)
‚Üí users.uni_farming_active = true
```

### 3. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è**
```
farmingScheduler ‚Üí ReferralService ‚Üí
‚Üí users.referred_by (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏)
‚Üí BalanceManager (–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π)
‚Üí transactions (type: REFERRAL_REWARD)
‚ùå referrals —Ç–∞–±–ª–∏—Ü–∞ (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

### 4. **–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤**
```
UI ‚Üí wallet/controller ‚Üí wallet/service ‚Üí
‚Üí withdraw_requests (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏)
‚Üí Telegram Admin Bot (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
‚Üí Admin approve/reject
‚Üí BalanceManager (—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ approve)
‚Üí transactions (type: TON_WITHDRAWAL/UNI_WITHDRAWAL)
```

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–°–∏—Å—Ç–µ–º–∞ UniFarm —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –Ω–∞ **33% —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î**, –ø—Ä–∏ —ç—Ç–æ–º:
1. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. –ï—Å—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è
3. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞—é—Ç –ø—É—Ç–∞–Ω–∏—Ü—É
4. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å enum —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚ö°
2. –í–Ω–µ–¥—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `boost_purchases` üì¶
3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã üë•
4. –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã üóëÔ∏è