# SUPABASE SCHEMA ADAPTATION REPORT
**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-06-14T19:21:04.338Z

## üìã –°–¢–†–£–ö–¢–£–†–ê –¢–ê–ë–õ–ò–¶:

### USERS
‚úÖ **–°—Ç–∞—Ç—É—Å:** –î–æ—Å—Ç—É–ø–Ω–∞
üìä **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π:** 22
üìã **–ü–æ–ª—è:** id, telegram_id, username, first_name, wallet, ton_wallet_address, ref_code, parent_ref_code, referred_by, balance_uni, balance_ton, uni_deposit_amount, uni_farming_start_timestamp, uni_farming_balance, uni_farming_rate, uni_farming_last_update, uni_farming_deposit, uni_farming_activated_at, created_at, checkin_last_date, checkin_streak, is_admin


### REFERRALS
‚úÖ **–°—Ç–∞—Ç—É—Å:** –î–æ—Å—Ç—É–ø–Ω–∞
üìä **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π:** 3
üìã **–ü–æ–ª—è:** id, created_at, updated_at
‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞

### FARMING_SESSIONS
‚úÖ **–°—Ç–∞—Ç—É—Å:** –î–æ—Å—Ç—É–ø–Ω–∞
üìä **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π:** 4
üìã **–ü–æ–ª—è:** id, user_id, created_at, updated_at
‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞

### USER_SESSIONS
‚úÖ **–°—Ç–∞—Ç—É—Å:** –î–æ—Å—Ç—É–ø–Ω–∞
üìä **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π:** 6
üìã **–ü–æ–ª—è:** id, user_id, session_token, expires_at, is_active, created_at
‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞

### TRANSACTIONS
‚úÖ **–°—Ç–∞—Ç—É—Å:** –î–æ—Å—Ç—É–ø–Ω–∞
üìä **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π:** 11
üìã **–ü–æ–ª—è:** id, user_id, type, amount_uni, amount_ton, description, created_at, metadata, status, source, tx_hash


## üîÑ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ó–ê–ú–ï–ù–´ –ü–û–õ–ï–ô:

### USERS
- `last_active` ‚Üí `checkin_last_date`
- `updated_at` ‚Üí `created_at`
- `is_active` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `daily_bonus_last_claim` ‚Üí `checkin_last_date`

### REFERRALS
- `referrer_id` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `level` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `commission_rate` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `total_earned` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)

### FARMING_SESSIONS
- `amount` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `rate` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)
- `farming_type` ‚Üí **–õ–û–ì–ò–ö–ê –ë–ï–ó –ü–û–õ–Ø** (—Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫–æ–¥–∞)

## üõ†Ô∏è –ü–õ–ê–ù –ê–î–ê–ü–¢–ê–¶–ò–ò –ú–û–î–£–õ–ï–ô:

### 1. modules/user/model.ts
- –ó–∞–º–µ–Ω–∏—Ç—å `last_active` –Ω–∞ `checkin_last_date`
- –£–±—Ä–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `updated_at` –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `created_at`
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É `is_active` (—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–∫—Ç–∏–≤–Ω—ã–º–∏)

### 2. modules/referral/service.ts
- **–ö–†–ò–¢–ò–ß–ù–û:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ –¥–ª—è referrer_id - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- –í—ã—á–∏—Å–ª—è—Ç—å `level` –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å `commission_rate` –≤ –∫–æ–¥–µ
- –í—ã—á–∏—Å–ª—è—Ç—å `total_earned` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã transactions

### 3. modules/farming/service.ts
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `uni_deposit_amount` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã users –≤–º–µ—Å—Ç–æ amount –≤ farming_sessions
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å `farming_type` –∫–∞–∫ 'UNI_FARMING'
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `uni_farming_rate` –∏–∑ users –≤–º–µ—Å—Ç–æ rate –≤ sessions

### 4. modules/dailyBonus/service.ts
- –ó–∞–º–µ–Ω–∏—Ç—å `daily_bonus_last_claim` –Ω–∞ `checkin_last_date`

## üö´ –ù–ï–í–û–ó–ú–û–ñ–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–¢–¨:

- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ –¥–ª—è —Å–≤—è–∑–∏ referrer_id
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞—Ä–º–∏–Ω–≥ —Å–µ—Å—Å–∏–∏** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ amount, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ users

## ‚úÖ –ì–û–¢–û–í–´–ï –ö –ê–î–ê–ü–¢–ê–¶–ò–ò –ú–û–î–£–õ–ò:

- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞
- **–ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –∫–æ—à–µ–ª–µ–∫** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–µ—Å—Å–∏–∏** - —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ö–µ–º—É, –∏–∑–±–µ–≥–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.