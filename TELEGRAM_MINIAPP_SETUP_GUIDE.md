# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram Mini App - UniFarm

## üéØ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Å—Ç—ã–º initData

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
–ò–∑ –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ, —á—Ç–æ `initData` –ø—É—Å—Ç–æ–π (–¥–ª–∏–Ω–∞ = 0), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–µ —á–µ—Ä–µ–∑ Telegram Mini App
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Web App URL –≤ BotFather
3. –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π Telegram WebApp SDK

## üîß –®–∞–≥–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ BotFather

**–ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–æ:**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ BotFather –¥–ª—è @UniFarming_Bot –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

```
/setmenubutton
–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞: @UniFarming_Bot
Web App URL: https://uni-farm-connect-x-osadchukdmitro2.replit.app
Button text: üöú UniFarm Connect
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã:**
```
/newapp
/editapp
```

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ Mini App

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é
**–†–µ—à–µ–Ω–∏–µ:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑:

1. –û—Ç–∫—Ä—ã—Ç—å Telegram
2. –ù–∞–π—Ç–∏ @UniFarming_Bot
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "üöú UniFarm Connect" (–∏–ª–∏ Menu)
4. –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ domain –≤ BotFather

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –≤ BotFather —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç:
```
https://uni-farm-connect-x-osadchukdmitro2.replit.app
```

**–ë–µ–∑:**
- –°–ª–µ—à–∞ –≤ –∫–æ–Ω—Ü–µ
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
- HTTP –≤–º–µ—Å—Ç–æ HTTPS

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –±–æ—Ç–∞–º–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞:
```
/newbot
–ò–º—è: UniFarm Test Bot
Username: @UniFarmTestBot
/newapp
–í—ã–±–µ—Ä–∏—Ç–µ @UniFarmTestBot
URL: https://uni-farm-connect-x-osadchukdmitro2.replit.app
```

## üì± –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ Telegram:
–ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
console.log(window.Telegram.WebApp.initData);
console.log(window.Telegram.WebApp.initDataUnsafe.user);
```

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:
```
‚úÖ Telegram WebApp –Ω–∞–π–¥–µ–Ω!
‚úÖ initData –ø–æ–ª—É—á–µ–Ω: query_id=...
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω:
- User ID: 123456789
- Username: @username
```

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
**–°–∏–º–ø—Ç–æ–º:** initData –ø—É—Å—Ç–æ–π, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–†–µ—à–µ–Ω–∏–µ:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ Telegram –±–æ—Ç

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –≤ BotFather
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ "Not Found" –∏–ª–∏ –ø—É—Å—Ç–æ–π initData
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–º–µ–Ω–∞

### 3. HTTPS –ø—Ä–æ–±–ª–µ–º—ã
**–°–∏–º–ø—Ç–æ–º:** Telegram –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS

### 4. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
**–°–∏–º–ø—Ç–æ–º:** –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Telegram –∏–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

## üîç –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
```bash
# –í Telegram —Å @BotFather
/mybots
–í—ã–±–µ—Ä–∏—Ç–µ @UniFarming_Bot
Bot Settings ‚Üí Menu Button ‚Üí Configure Menu Button
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞
```bash
curl -I https://uni-farm-connect-x-osadchukdmitro2.replit.app
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTTP 200
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ Telegram Web
1. –û—Ç–∫—Ä–æ–π—Ç–µ web.telegram.org
2. –ù–∞–π–¥–∏—Ç–µ @UniFarming_Bot
3. –ù–∞–∂–º–∏—Ç–µ Menu/–ö–Ω–æ–ø–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–£–ª—É—á—à–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∂—É—Ç:
- –ù–∞–ª–∏—á–∏–µ Telegram WebApp API
- –î–∞–Ω–Ω—ã–µ initData –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö

## ‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ @UniFarming_Bot –≤ Telegram
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. **–ï—Å–ª–∏ initData –≤—Å–µ –µ—â–µ –ø—É—Å—Ç–æ–π:** –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Web App –≤ BotFather
4. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ Telegram WebApp –Ω–∞–π–¥–µ–Ω!
‚úÖ initData –ø–æ–ª—É—á–µ–Ω: query_id=AAH...
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω:
- User ID: [—Ä–µ–∞–ª—å–Ω—ã–π ID]
- Username: [—Ä–µ–∞–ª—å–Ω—ã–π username]
‚úÖ [UserContext] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
‚úÖ Authentication successful, returning token and user data
```

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –¢–µ–∫—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –∫–æ–¥–µ:
1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –≤ main.tsx —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** –¥–ª—è —Å–ª—É—á–∞–µ–≤ –±–µ–∑ initData
4. **–î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –ø—Ä–∏—á–∏–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö

### API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- `/api/v2/auth/telegram` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `/api/v2/register/telegram` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/api/v2/users/profile` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–¥–µ, –∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö BotFather –∏ —Å–ø–æ—Å–æ–±–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.**