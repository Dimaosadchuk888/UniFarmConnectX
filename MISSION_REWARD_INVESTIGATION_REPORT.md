# –û—Ç—á–µ—Ç –ø–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é —Ü–µ–ø–æ—á–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∑–∞ –º–∏—Å—Å–∏—é (500 UNI)

## üìä –†–µ–∑—é–º–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞**: 11 —è–Ω–≤–∞—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω–∏–ª –º–∏—Å—Å–∏—é –Ω–∞ 500 UNI, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏, –Ω–æ –±–∞–ª–∞–Ω—Å –≤ UI –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

## üîç –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### 1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç ID –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

```
User ID | Telegram ID | Username                  | Balance UNI
--------|-------------|---------------------------|-------------
74      | 999489      | test_user_1752129840905  | 641504.07
75      | 999975      | test_user_1752129840905  | 1000
76      | 74          | test_user_1752129840905  | 500  ‚ö†Ô∏è
```

**–ü—Ä–æ–±–ª–µ–º–∞**: User 76 –∏–º–µ–µ—Ç telegram_id=74, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ API

### 2. **–ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–∏—Å—Å–∏–∏**

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ID 592867 (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ UI):
- **User ID**: 76 (–Ω–µ —Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!)
- **Type**: MISSION_REWARD  
- **Amount**: 0 (–ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª–µ–º)
- **Amount_uni**: 500
- **Currency**: null
- **Created**: 2025-07-11T06:39:52.191

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è**

#### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏
- MissionsService.claimMissionReward() —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—ã–∑—ã–≤–∞–µ—Ç TransactionService.createTransaction() —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

#### ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î
- –ü–æ–ª—è amount_uni –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (500 UNI)
- –ù–æ –ø–æ–ª–µ amount = 0 (–ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

#### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- TransactionService –ø—Ä–æ–≤–µ—Ä—è–µ—Ç shouldUpdateBalance() - –≤–∫–ª—é—á–∞–µ—Ç MISSION_REWARD
- –í—ã–∑—ã–≤–∞–µ—Ç BalanceManager.updateUserBalance()
- –ë–∞–ª–∞–Ω—Å user 76 = 500 UNI (–æ–±–Ω–æ–≤–∏–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

#### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ Supabase
- BalanceManager —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç balance_uni –≤ —Ç–∞–±–ª–∏—Ü–µ users
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–µ—à –±–∞–ª–∞–Ω—Å–æ–≤

#### ‚ö†Ô∏è WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- BalanceManager –≤—ã–∑—ã–≤–∞–µ—Ç this.onBalanceUpdate(user_id) 
- –ù–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–ª—è user 76, –∞ –Ω–µ user 74

#### ‚ùå –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI
- API /api/v2/transactions –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ user 76 –≤–º–µ—Å—Ç–æ user 74
- –ò–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ telegram_id –º–∞–ø–ø–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìà –°–æ—Å—Ç–æ—è–Ω–∏–µ FARMING —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

User 74 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç FARMING_REWARD —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- ID: 593095, Amount: 17.18 UNI (06:45)
- ID: 592975, Amount: 7.99 UNI (06:41)  
- ID: 592860, Amount: 5.71 UNI (06:39)
- ID: 592723, Amount: 125.55 UNI (06:36) ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

Farming —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–ª—è–º–∏ amount –∏ currency
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–æ–º

## üîß –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
1. JWT —Ç–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç telegram_id=999489 (–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç user 74)
2. API –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ telegram_id
3. –ù–æ –≤ –ë–î –µ—Å—Ç—å user 76 —Å telegram_id=74
4. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ user 76 –≤–º–µ—Å—Ç–æ user 74

## üìã –í—ã–≤–æ–¥—ã

1. **–¶–µ–ø–æ—á–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –º–∏—Å—Å–∏—è —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å
2. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏** - –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ ID –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **Farming —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **WebSocket —Ä–∞–±–æ—Ç–∞–µ—Ç** - –Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°—Ä–æ—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç ID**: –∏–∑–º–µ–Ω–∏—Ç—å telegram_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 76
2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å telegram_id –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ª–æ–≥–æ–≤ –≤ TransactionsController –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket**: —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é