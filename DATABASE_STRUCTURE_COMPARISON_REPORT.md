# üìä DATABASE STRUCTURE COMPARISON REPORT - UNIFARM VS ACTUAL DB

**–î–∞—Ç–∞:** 13 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–¢–†–£–ö–¢–£–†–ù–´–ô –ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–ï–ù

## üìã Executive Summary

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Å–∏—Å—Ç–µ–º–æ–π UniFarm. –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤ –ø–æ–ª—è—Ö –∏ —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É TON Boost –∏ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π.

---

## üéØ 1. –¢–ê–ë–õ–ò–¶–ê USERS - –ê–ù–ê–õ–ò–ó –ü–û–õ–ï–ô

### üìä –ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| id | ‚úÖ | number | ‚úÖ | - |
| telegram_id | ‚úÖ | number | ‚úÖ | - |
| username | ‚úÖ | string | ‚úÖ | - |
| first_name | ‚úÖ | string | ‚úÖ | - |
| wallet | ‚úÖ | object | ‚ùå | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ |
| ref_code | ‚úÖ | string | ‚úÖ | - |
| is_admin | ‚úÖ | boolean | ‚úÖ | - |
| created_at | ‚úÖ | string | ‚úÖ | - |

### üí∞ –ü–æ–ª—è –±–∞–ª–∞–Ω—Å–æ–≤
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| balance_uni | ‚úÖ | number | ‚úÖ | - |
| balance_ton | ‚úÖ | number | ‚úÖ | - |

### üåæ UNI Farming –ø–æ–ª—è
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| uni_deposit_amount | ‚úÖ | number | ‚úÖ | - |
| uni_farming_start_timestamp | ‚úÖ | object (null) | ‚úÖ | - |
| uni_farming_balance | ‚úÖ | number | ‚úÖ | - |
| uni_farming_rate | ‚úÖ | number | ‚úÖ | - |
| uni_farming_last_update | ‚úÖ | object (null) | ‚úÖ | - |
| uni_farming_deposit | ‚úÖ | number | ‚ùå | –î—É–±–ª–∏—Ä—É–µ—Ç uni_deposit_amount |
| uni_farming_active | ‚ùå | - | ‚úÖ | **–û–¢–°–£–¢–°–¢–í–£–ï–¢ –í –ë–î!** |
| uni_farming_activated_at | ‚ùå | - | ‚ùå | –í —Å–∫—Ä–∏–ø—Ç–∞—Ö –µ—Å—Ç—å, –≤ –ë–î –Ω–µ—Ç |

### ‚ö° TON Boost –ø–æ–ª—è
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| ton_boost_package | ‚úÖ | number | ‚ùå | –£—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ |
| ton_boost_active | ‚úÖ | boolean | ‚úÖ | - |
| ton_boost_package_id | ‚úÖ | object (null) | ‚úÖ | - |
| ton_boost_rate | ‚úÖ | number | ‚úÖ | - |
| ton_boost_expires_at | ‚úÖ | object (null) | ‚úÖ | - |
| ton_farming_balance | ‚úÖ | number | ‚úÖ | **–í—Å–µ–≥–¥–∞ 0 - –ù–ï –û–ë–ù–û–í–õ–Ø–ï–¢–°–Ø!** |
| ton_farming_rate | ‚úÖ | number | ‚úÖ | - |
| ton_farming_start_timestamp | ‚úÖ | object (null) | ‚úÖ | - |
| ton_farming_last_update | ‚úÖ | object (null) | ‚úÖ | - |
| ton_farming_accumulated | ‚úÖ | number | ‚úÖ | - |
| ton_farming_last_claim | ‚úÖ | object (null) | ‚ùå | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| ton_farming_deposit | ‚ùå | - | ‚ùå | –í —Å–∫—Ä–∏–ø—Ç–∞—Ö –µ—Å—Ç—å, –≤ –ë–î –Ω–µ—Ç |

### üìÖ Daily Bonus –ø–æ–ª—è
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| checkin_last_date | ‚úÖ | string | ‚úÖ | - |
| checkin_streak | ‚úÖ | number | ‚úÖ | - |

### üë§ –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
| –ü–æ–ª–µ | –í –ë–î | –¢–∏–ø –≤ –ë–î | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|------|------|----------|-------------------|----------|
| referred_by | ‚úÖ | object (null) | ‚ùå | –£—Å—Ç–∞—Ä–µ–≤—à–µ–µ |
| parent_ref_code | ‚úÖ | string | ‚úÖ | - |
| ref_level | ‚úÖ | number | ‚úÖ | - |
| referrer_id | ‚úÖ | number | ‚úÖ | - |
| last_active | ‚ùå | - | ‚úÖ | **–ö–û–î –û–ñ–ò–î–ê–ï–¢, –ù–û –ü–û–õ–Ø –ù–ï–¢!** |

---

## üîß 2. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### üî¥ 1. –ü–æ–ª–µ uni_farming_active –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
- **–í–ª–∏—è–Ω–∏–µ:** UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ñ–∞—Ä–º–∏–Ω–≥–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** UniFarmingCard.tsx, farming/service.ts
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ –ë–î –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å uni_deposit_amount > 0

### üî¥ 2. –ü–æ–ª–µ ton_farming_balance –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- **–ó–Ω–∞—á–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ 0 –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–í–ª–∏—è–Ω–∏–µ:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç balance_ton –≤–º–µ—Å—Ç–æ –¥–µ–ø–æ–∑–∏—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ TON Boost

### üî¥ 3. –ü–æ–ª–µ last_active –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –ë–î
- **–í–ª–∏—è–Ω–∏–µ:** –û—à–∏–±–∫–∏ –≤ getUserStats –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–∞—Ö
- **–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∏–∑ –∫–æ–¥–∞

### üü° 4. –î—É–±–ª–∏—Ä—É—é—â–∏–µ –ø–æ–ª—è
- uni_farming_deposit –¥—É–±–ª–∏—Ä—É–µ—Ç uni_deposit_amount
- ton_boost_package –¥—É–±–ª–∏—Ä—É–µ—Ç ton_boost_package_id
- referred_by –¥—É–±–ª–∏—Ä—É–µ—Ç referrer_id

---

## üìã 3. –¢–ê–ë–õ–ò–¶–´ –ò –ò–• –°–û–°–¢–û–Ø–ù–ò–ï

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
1. **users** - 60 –∑–∞–ø–∏—Å–µ–π ‚úÖ
2. **transactions** - 536,803 –∑–∞–ø–∏—Å–µ–π ‚úÖ
3. **withdraw_requests** - 3 –∑–∞–ø–∏—Å–∏ ‚úÖ
4. **missions** - 5 –∑–∞–ø–∏—Å–µ–π ‚úÖ
5. **referrals** - 0 –∑–∞–ø–∏—Å–µ–π ‚ö†Ô∏è (–ø—É—Å—Ç–∞—è)
6. **farming_sessions** - 0 –∑–∞–ø–∏—Å–µ–π ‚ö†Ô∏è (–ø—É—Å—Ç–∞—è)
7. **boost_purchases** - 0 –∑–∞–ø–∏—Å–µ–π ‚ö†Ô∏è (–ø—É—Å—Ç–∞—è)

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
1. **user_sessions** ‚ùå
2. **user_missions** ‚ùå
3. **daily_bonus_logs** ‚ùå
4. **airdrops** ‚ùå
5. **ton_farming_data** ‚ùå (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∞—Å—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
6. **uni_farming_data** ‚ùå (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∞—Å—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

---

## üìä 4. –¢–ò–ü–´ –¢–†–ê–ù–ó–ê–ö–¶–ò–ô

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ –ë–î:
- FARMING_REWARD ‚úÖ
- REFERRAL_REWARD ‚úÖ
- MISSION_REWARD ‚úÖ
- DAILY_BONUS ‚úÖ
- WITHDRAWAL ‚úÖ
- BOOST_PURCHASE ‚úÖ (–Ω–æ–≤—ã–π)

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –ë–î:
- FARMING_DEPOSIT ‚ùå
- AIRDROP_CLAIM ‚ùå
- TON_BOOST_INCOME ‚ùå (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –∫–æ–¥–µ)

---

## üéØ 5. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:
1. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ uni_farming_active –≤ users**:
   ```sql
   ALTER TABLE users ADD COLUMN uni_farming_active BOOLEAN DEFAULT false;
   ```

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ton_farming_balance –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ**:
   - –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ activateBoost() –≤ TonFarmingRepository
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ farming_balance –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ

3. **–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ last_active –∏–∑ –∫–æ–¥–∞**:
   - modules/user/controller.ts
   - BalanceManager –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 - –í–∞–∂–Ω—ã–µ:
1. **–î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**:
   ```sql
   ALTER TYPE transaction_type ADD VALUE 'FARMING_DEPOSIT';
   ALTER TYPE transaction_type ADD VALUE 'AIRDROP_CLAIM';
   ```

2. **–°–æ–∑–¥–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã**:
   - daily_bonus_logs –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –±–æ–Ω—É—Å–æ–≤
   - user_missions –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–∏—Å—Å–∏–π
   - airdrops –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑–¥–∞—á

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
1. **–£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –ø–æ–ª—è**
2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã ton_farming_data –∏ uni_farming_data**
3. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

---

## üìà 6. –í–õ–ò–Ø–ù–ò–ï –ù–ê –°–ò–°–¢–ï–ú–£

### –¢–µ–∫—É—â–µ–µ –≤–ª–∏—è–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:
- üî¥ **TON Boost –¥–æ—Ö–æ–¥ –∑–∞–≤—ã—à–µ–Ω –≤ 167 —Ä–∞–∑** –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è balance_ton
- üü° **UNI Farming —Å—Ç–∞—Ç—É—Å** –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- üü° **–û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö** –∏–∑-–∑–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
- üü¢ **–ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞ TON Boost
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –ß–∏—Å—Ç—ã–µ –ª–æ–≥–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é