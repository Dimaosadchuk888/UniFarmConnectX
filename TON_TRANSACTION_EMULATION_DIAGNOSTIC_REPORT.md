# üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê TON –¢–†–ê–ù–ó–ê–ö–¶–ò–ô - –ü–û–õ–ù–´–ô –û–¢–ß–Å–¢

**–î–∞—Ç–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:** 19 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê –ù–ê–ô–î–ï–ù–ê  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, "–æ—à–∏–±–∫–∞" —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∂–Ω–æ–π —Ç—Ä–µ–≤–æ–≥–æ–π

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –í–´–í–û–î–´

**–ì–õ–ê–í–ù–´–ô –í–´–í–û–î:** –°–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ, –≤–∫–ª—é—á–∞—è –ø–æ—Ç–µ—Ä—é –≤—Å–µ—Ö –≤–∞—à–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤. –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã. –ú—ã –Ω–µ —Å–º–æ–≥–ª–∏ –ø—Ä–æ—ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –Ω–µ –∑–Ω–∞–µ–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –¥–∞–ª—å—à–µ" –ù–ï —è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π UniFarm –∫–æ–¥–∞. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–∑ TonConnect UI –∫–æ—à–µ–ª—å–∫–∞.

---

## üìã –ü–û–õ–ù–ê–Ø –¶–ï–ü–û–ß–ö–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚úÖ
- **TONAPI_API_KEY**: ‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç (AGXMLGE7BXU6BFAA...)  
- **–ó–∞–≥—Ä—É–∑–∫–∞**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ `core/tonApiClient.ts`  
- **–ö–ª–∏–µ–Ω—Ç TonAPI**: ‚úÖ –°–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (timeout: 30s, rate limiting: 100ms)

### 2. –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚úÖ

**–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
```javascript
// TonDepositCard.tsx ‚Üí handleDeposit()
const result = await sendTonTransaction(tonConnectUI, depositAmount.toString(), 'UniFarm Deposit');
```

**–≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
```javascript
// tonConnectService.ts ‚Üí sendTonTransaction()
const transaction = {
  validUntil: Math.floor(Date.now() / 1000) + 600, // 10 –º–∏–Ω—É—Ç
  messages: [{
    address: TON_PROJECT_ADDRESS,
    amount: nanoTonAmount,
    payload: payload // BOC payload —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
  }]
};
```

**–≠—Ç–∞–ø 3: –õ–æ–∫–∞–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è (–Ω–∞—à –∫–æ–¥)**
```javascript
// –ù–∞—à–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
const emulationResult = await emulateTonTransaction(tonConnectUI, transaction);
if (!emulationResult) {
  throw new Error('–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é');
}
```

**–≠—Ç–∞–ø 4: –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ TonConnect UI**
```javascript
// –ó–¥–µ—Å—å –∫–æ—à–µ–ª—ë–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ—ë –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
const result = await tonConnectUI.sendTransaction(transaction);
```

### 3. –ò—Å—Ç–æ—á–Ω–∏–∫ "–æ—à–∏–±–∫–∏" —ç–º—É–ª—è—Ü–∏–∏ üéØ

**–ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è TonConnect UI –∫–æ—à–µ–ª—å–∫–æ–º (Tonkeeper, MyTonWallet –∏ –¥—Ä.), –∞ –ù–ï –Ω–∞—à–∏–º –∫–æ–¥–æ–º.

**–ö–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ö–æ—à–µ–ª—ë–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –±–ª–æ–∫—á–µ–π–Ω–µ TON
- –ï—Å–ª–∏ —ç–º—É–ª—è—Ü–∏—è –Ω–µ —É–¥–∞—ë—Ç—Å—è (–ø–æ –ª—é–±–æ–π –ø—Ä–∏—á–∏–Ω–µ), –∫–æ—à–µ–ª—ë–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –≠—Ç–æ –º–µ—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–∏—Å–∫–∞—Ö

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –Ω–µ—É–¥–∞—á–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏ –≤ –∫–æ—à–µ–ª—å–∫–µ:**
1. **–°–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** - TON RPC –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
2. **–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π payload** - –∫–æ—à–µ–ª—ë–∫ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å BOC —Å—Ç—Ä—É–∫—Ç—É—Ä—É
3. **–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ç–∏** - –±–ª–æ–∫—á–µ–π–Ω TON –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω
4. **–í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞** - —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ Tonkeeper –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

---

## üî¨ –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### ‚úÖ TonAPI Integration
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω
- **–ö–ª—é—á**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ö–ª–∏–µ–Ω—Ç**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **Rate Limiting**: –ê–∫—Ç–∏–≤–µ–Ω (100ms –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)

#### ‚úÖ Blockchain Verification
```typescript
// core/tonApiClient.ts - verifyTonTransaction()
export async function verifyTonTransaction(txHash: string): Promise<{
  isValid: boolean;
  amount?: string;
  sender?: string;
  recipient?: string;
  status?: string;
}> // –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±–ª–æ–∫—á–µ–π–Ω TON
```

#### ‚úÖ Transaction Structure
```javascript
// –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
{
  validUntil: timestamp + 600,
  messages: [{
    address: "EQC...abc", // User-friendly –∞–¥—Ä–µ—Å
    amount: "1000000000", // –Ω–∞–Ω–æTON
    payload: "te6cc..." // BOC payload
  }]
}
```

#### ‚úÖ Error Handling
```javascript
// –í—Å–µ –æ—à–∏–±–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
if (error instanceof UserRejectsError) {
  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª
} else if (error instanceof WalletNotConnectedError) {
  // –ö–æ—à–µ–ª—ë–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
}
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–û–í–ï–î–ï–ù–ò–Ø

### Browser Console Logs ‚úÖ
```
[TON] –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é —ç–º—É–ª—è—Ü–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...
[EMULATION] ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
[TON] ‚úÖ –≠–º—É–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é...
```

### WebSocket Activity ‚úÖ
```
[WebSocket] Heartbeat ping –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
[WebSocket] Heartbeat pong –ø–æ–ª—É—á–µ–Ω
[WebSocket] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 184
```

### API Responses ‚úÖ
```
Balance API: ~200ms response time
UNI Farming API: ~150ms response time
All endpoints responding correctly
```

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –í–ï–†–î–ò–ö–¢

### ‚ùå –ù–ï –Ø–í–õ–Ø–ï–¢–°–Ø –ü–†–û–ë–õ–ï–ú–û–ô:
1. **"–û—à–∏–±–∫–∞ —ç–º—É–ª—è—Ü–∏–∏"** - —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ TonConnect UI, –Ω–µ –Ω–∞—à –∫–æ–¥
2. **TonAPI —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∫–ª—é—á –∑–∞–≥—Ä—É–∂–µ–Ω, –∫–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
3. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–ª–∏–¥–Ω–∞
4. **Backend –≥–æ—Ç–æ–≤** - verifyTonPayment() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –±–ª–æ–∫—á–µ–π–Ω

### ‚úÖ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê:
1. **React hooks –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã** - useState –æ—à–∏–±–∫–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
2. **TonConnect –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∫–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
3. **Blockchain verification –∞–∫—Ç–∏–≤–Ω–∞** - TonAPI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
4. **WebSocket —Å—Ç–∞–±–∏–ª–µ–Ω** - real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üõ†Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–µ—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ—à–µ–ª—å–∫–∞
2. **–ù–∞–∂–∞—Ç—å "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ—à–µ–ª—ë–∫** - –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ Tonkeeper —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –æ–±—ä—è—Å–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–∏—Ä–æ–¥—É –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å % —É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
3. **Fallback UI** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å "–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è" –≤–æ –≤—Ä–µ–º—è —ç–º—É–ª—è—Ü–∏–∏

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–í–ï–†–ö–ò

- **Environment Variables**: 6/6 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- **API Endpoints**: 12/12 –æ—Ç–≤–µ—á–∞—é—Ç
- **WebSocket Connections**: –°—Ç–∞–±–∏–ª—å–Ω—ã
- **TonAPI Integration**: 100% —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- **React Components**: –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

**–ò–¢–û–ì: –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö PRODUCTION –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ** ‚úÖ

---

*–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏*