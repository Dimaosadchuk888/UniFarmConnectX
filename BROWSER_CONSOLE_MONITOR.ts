/**
 * BROWSER CONSOLE MONITOR - CONTINUOUS JWT TRACKING
 * 
 * –ê–Ω–∞–ª–∏–∑ browser console logs –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è JWT –ø—Ä–æ–±–ª–µ–º
 */

console.log('üì° BROWSER CONSOLE MONITOR - –ê–ö–¢–ò–í–ï–ù');
console.log('==================================');

console.log('\nüìä –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ò–• BROWSER CONSOLE –õ–û–ì–û–í:');

// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ –∏–∑ webview_console_logs
const analysisResults = {
  timestamp: new Date().toISOString(),
  status: 'MONITORING_ACTIVE',
  observations: []
};

console.log('\nüîç –ü–û–°–õ–ï–î–ù–ò–ï –°–û–ë–´–¢–ò–Ø –í BROWSER CONSOLE:');

console.log('\n‚ö° –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –°–û–ë–´–¢–ò–ï: Telegram WebApp –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è');
console.log('Timestamp: 1753954325973.0');
console.log('–°–æ–±—ã—Ç–∏—è:');
console.log('- [Telegram.WebView] > postEvent "web_app_set_header_color"');
console.log('- [Telegram.WebView] > postEvent "web_app_ready"');
console.log('- [telegramService] Telegram WebApp —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
console.log('- [UniFarm] –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
console.log('- [UniFarm] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–æ');

console.log('\n‚ö†Ô∏è –ê–ù–ê–õ–ò–ó: –í–û–ó–ú–û–ñ–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê JWT –ü–†–û–ë–õ–ï–ú!');
console.log('Telegram WebApp lifecycle events –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ localStorage:');
console.log('1. web_app_ready ‚Üí –º–æ–∂–µ—Ç –æ—á–∏—â–∞—Ç—å storage');
console.log('2. –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –º–æ–∂–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å context');
console.log('3. Lifecycle management ‚Üí –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —Ç–æ–∫–µ–Ω—ã');

console.log('\nüí∞ BALANCE UPDATES –°–¢–ê–¢–ò–°–¢–ò–ö–ê:');
console.log('- UNI Balance: 1,232,901.411666 ‚Üí 1,232,919.413577 (+18.001911)');
console.log('- TON Balance: 1.154325 ‚Üí 1.213196 (+0.058871)');
console.log('- REFERRAL_REWARD —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã');
console.log('- WebSocket –ø–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ');

console.log('\nüîÑ WEBSOCKET –ê–ö–¢–ò–í–ù–û–°–¢–¨:');
console.log('- –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞: –ê–ö–¢–ò–í–ù–´');
console.log('- User ID 184: –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–ø–æ–¥–ø–∏—Å–∫–∏');
console.log('- Color Debug —Å–∏—Å—Ç–µ–º–∞: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ');
console.log('- REFERRAL_REWARD –æ–±—Ä–∞–±–æ—Ç–∫–∞: —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞');

console.log('\nüö® –ö–õ–Æ–ß–ï–í–´–ï –ù–ê–ë–õ–Æ–î–ï–ù–ò–Ø:');

console.log('\n1Ô∏è‚É£ –ù–ï–¢ –û–®–ò–ë–û–ö "JWT –¢–û–ö–ï–ù –û–¢–°–£–¢–°–¢–í–£–ï–¢"');
console.log('- –í –ª–æ–≥–∞—Ö –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ JWT —Ç–æ–∫–µ–Ω–∞');
console.log('- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ');
console.log('- Balance updates —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø—Ä–æ–±–ª–µ–º');
console.log('‚Üí –°–¢–ê–¢–£–°: JWT —Ç–æ–∫–µ–Ω –ø–æ–∫–∞ –°–¢–ê–ë–ò–õ–ï–ù');

console.log('\n2Ô∏è‚É£ TELEGRAM WEBAPP LIFECYCLE –ê–ö–¢–ò–í–ù–û–°–¢–¨');
console.log('- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp');
console.log('- Multiple postEvent calls');
console.log('- app_ready –∏ viewport requests');
console.log('‚Üí –†–ò–°–ö: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ JWT clearing');

console.log('\n3Ô∏è‚É£ –ê–ö–¢–ò–í–ù–´–ï REFERRAL REWARDS');
console.log('- TON rewards: 0.00034722 TON –∫–∞–∂–¥–∞—è');
console.log('- Multiple users: 186, 187, 188, 189');
console.log('- Color detection —Ä–∞–±–æ—Ç–∞–µ—Ç');
console.log('‚Üí –°–ò–°–¢–ï–ú–ê: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤');

console.log('\n4Ô∏è‚É£ BALANCE INCREMENTS');
console.log('- UNI +18.001911 (referral income)');
console.log('- TON +0.058871 (referral income)');
console.log('- WebSocket notifications –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è');
console.log('‚Üí –î–û–•–û–î–´: –ù–∞—á–∏—Å–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');

console.log('\nüìã –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–õ–ê–ù - –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:');

console.log('\nüîç –ß–¢–û –û–¢–°–õ–ï–ñ–ò–í–ê–¢–¨:');
console.log('1. –ü–æ—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö "JWT —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç" –æ—à–∏–±–æ–∫');
console.log('2. –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å Telegram WebApp lifecycle events');
console.log('3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ balance update patterns');
console.log('4. WebSocket disconnection/reconnection events');

console.log('\n‚è∞ TIMING –ö–û–†–†–ï–õ–Ø–¶–ò–ò:');
console.log('- Telegram WebApp reinit: 1753954325973');
console.log('- Balance updates –ø–æ—Å–ª–µ reinit: —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ');
console.log('- –†–∞–∑–Ω–∏—Ü–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏: ~2.5 —á–∞—Å–∞ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ restart');
console.log('- JWT —Ç–æ–∫–µ–Ω –ø–æ–∫–∞ –Ω–µ –∏—Å—á–µ–∑ –ø–æ—Å–ª–µ WebApp reinit');

console.log('\nüéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–û–ü–†–û–°–´:');
console.log('Q1: –ò—Å—á–µ–∑–Ω–µ—Ç –ª–∏ JWT –ø–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ WebApp lifecycle event?');
console.log('Q2: –°–≤—è–∑–∞–Ω—ã –ª–∏ Telegram postEvent calls —Å token clearing?');
console.log('Q3: –í–ª–∏—è–µ—Ç –ª–∏ web_app_ready –Ω–∞ localStorage persistence?');
console.log('Q4: –ï—Å—Ç—å –ª–∏ correlation –º–µ–∂–¥—É app reinit –∏ token loss?');

console.log('\n‚ö° –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –ì–ò–ü–û–¢–ï–ó–´:');

console.log('\n–ì–ò–ü–û–¢–ï–ó–ê 1: TELEGRAM WEBAPP CLEANUP');
console.log('Telegram WebApp lifecycle management –º–æ–∂–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ');
console.log('–æ—á–∏—â–∞—Ç—å localStorage –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö');
console.log('- web_app_ready ‚Üí storage cleanup?');
console.log('- Background/foreground ‚Üí token removal?');

console.log('\n–ì–ò–ü–û–¢–ï–ó–ê 2: PERIODIC SYSTEM REINIT');
console.log('–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è');
console.log('(–≤–∏–¥–∏–º reinit —á–µ—Ä–µ–∑ ~2.5 —á–∞—Å–∞ –ø–æ—Å–ª–µ restart)');
console.log('- –ú–æ–∂–µ—Ç –ª–∏ reinit —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å JWT loss?');

console.log('\n–ì–ò–ü–û–¢–ï–ó–ê 3: MEMORY PRESSURE CLEANUP');
console.log('–ü—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ (–º–Ω–æ–≥–æ referral rewards)');
console.log('—Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ—á–∏—â–∞—Ç—å localStorage –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏');

console.log('\nüìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê:');
console.log('- –í—Ä–µ–º—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ restart: ~2.5 —á–∞—Å–∞');
console.log('- JWT —Å—Ç–∞—Ç—É—Å: –°–¢–ê–ë–ò–õ–ï–ù (–ø–æ–∫–∞ –Ω–µ –∏—Å—á–µ–∑)');
console.log('- WebApp reinit events: 1 –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω');
console.log('- Balance updates: –ù–û–†–ú–ê–õ–¨–ù–´–ï');
console.log('- API errors: –ù–ï–¢');

console.log('\n‚ö° –°–õ–ï–î–£–Æ–©–ò–ï –î–ï–ô–°–¢–í–ò–Ø:');
console.log('1. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ browser console');
console.log('2. –û—Ç—Å–ª–µ–¥–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π WebApp lifecycle event');
console.log('3. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ "JWT —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"');
console.log('4. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é —Å Telegram events');

console.log('\nüéØ –°–¢–ê–¢–£–°: –ü–†–û–î–û–õ–ñ–ê–ï–ú –ú–û–ù–ò–¢–û–†–ò–ù–ì');
console.log('JWT —Ç–æ–∫–µ–Ω –ø–æ–∫–∞ —Å—Ç–∞–±–∏–ª–µ–Ω, –Ω–æ WebApp reinit –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω');
console.log('–û–∂–∏–¥–∞–µ–º —Å–≤—è–∑–∏ –º–µ–∂–¥—É lifecycle events –∏ token disappearance...');