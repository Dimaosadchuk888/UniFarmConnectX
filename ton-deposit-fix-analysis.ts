import { supabase } from './core/supabaseClient';

async function analyzeTonDepositFixPlan() {
  console.log('üéØ –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø TON –î–ï–ü–û–ó–ò–¢–û–í - –ê–ù–ê–õ–ò–ó –†–ò–°–ö–û–í –ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò');
  console.log('='.repeat(80));

  try {
    // 1. –¢–æ—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
    console.log('\n1Ô∏è‚É£ –¢–û–ß–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´:');
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è TON –±–∞–ª–∞–Ω—Å—ã –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    const { data: usersWithTonBalance, error: balanceError } = await supabase
      .from('users')
      .select('id, balance_ton, created_at, updated_at')
      .gt('balance_ton', 0)
      .gte('id', 191)
      .lte('id', 303)
      .order('id', { ascending: true });

    const { data: tonTransactions, error: txError } = await supabase
      .from('transactions')
      .select('user_id, type, amount_ton, created_at')
      .gte('user_id', 191)
      .lte('user_id', 303)
      .in('type', ['TON_DEPOSIT', 'BOOST_PURCHASE']);

    if (!balanceError && !txError && usersWithTonBalance && tonTransactions) {
      const usersWithTx = new Set(tonTransactions.map(tx => tx.user_id));
      const problemUsers = usersWithTonBalance.filter(u => !usersWithTx.has(u.id));
      
      console.log(`üìä –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:`);
      console.log(`   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å TON –±–∞–ª–∞–Ω—Å–æ–º: ${usersWithTonBalance.length}`);
      console.log(`   –ò–∑ –Ω–∏—Ö –∏–º–µ—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: ${usersWithTx.size}`);
      console.log(`   –ë–ï–ó —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: ${problemUsers.length} (${Math.round(problemUsers.length/usersWithTonBalance.length*100)}%)`);
      
      // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
      console.log('\n‚è∞ –ê–ù–ê–õ–ò–ó –û–ë–ù–û–í–õ–ï–ù–ò–ô –ë–ê–õ–ê–ù–°–û–í:');
      problemUsers.forEach((user, idx) => {
        if (idx < 10) {
          const createdDate = user.created_at.split('T')[0];
          const updatedDate = user.updated_at ? user.updated_at.split('T')[0] : '–ù–ï–¢';
          console.log(`   User ${user.id}: –±–∞–ª–∞–Ω—Å=${user.balance_ton}, —Å–æ–∑–¥–∞–Ω=${createdDate}, –æ–±–Ω–æ–≤–ª–µ–Ω=${updatedDate}`);
        }
      });
    }

    // 2. –ü–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—É—Ç–µ–π –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
    console.log('\n2Ô∏è‚É£ –ü–û–ò–°–ö –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–• –ü–£–¢–ï–ô –ü–û–ü–û–õ–ù–ï–ù–ò–Ø:');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç TON
    const { data: allTonTx, error: allTxError } = await supabase
      .from('transactions')
      .select('type, COUNT(*) as count, SUM(amount_ton::numeric) as total_ton')
      .gt('amount_ton', 0)
      .gte('user_id', 191)
      .lte('user_id', 303);

    if (!allTxError && allTonTx) {
      console.log('üí∞ –¢–ò–ü–´ –¢–†–ê–ù–ó–ê–ö–¶–ò–ô –° TON:');
      // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: GROUP BY –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Å—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ Supabase, –¥–µ–ª–∞–µ–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –≤—Ä—É—á–Ω—É—é
      const txTypes: { [key: string]: { count: number, total: number } } = {};
      
      const { data: individualTx } = await supabase
        .from('transactions')
        .select('type, amount_ton')
        .gt('amount_ton', 0)
        .gte('user_id', 191)
        .lte('user_id', 303);

      individualTx?.forEach(tx => {
        if (!txTypes[tx.type]) {
          txTypes[tx.type] = { count: 0, total: 0 };
        }
        txTypes[tx.type].count++;
        txTypes[tx.type].total += parseFloat(tx.amount_ton);
      });

      Object.keys(txTypes).forEach(type => {
        console.log(`   ${type}: ${txTypes[type].count} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, ${txTypes[type].total.toFixed(6)} TON`);
      });
    }

    // 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ API –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
    console.log('\n3Ô∏è‚É£ –ì–ò–ü–û–¢–ï–ó–´ –û –ò–°–¢–û–ß–ù–ò–ö–ï TON –ë–ê–õ–ê–ù–°–û–í:');
    
    console.log('üîç –í–û–ó–ú–û–ñ–ù–´–ï –ò–°–¢–û–ß–ù–ò–ö–ò –ë–ê–õ–ê–ù–°–û–í –ë–ï–ó –¢–†–ê–ù–ó–ê–ö–¶–ò–ô:');
    console.log('   1. –ü–†–Ø–ú–´–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø —á–µ—Ä–µ–∑ BalanceManager.updateUserBalance()');
    console.log('   2. –ú–ê–°–°–û–í–´–ï –û–ü–ï–†–ê–¶–ò–ò —á–µ—Ä–µ–∑ SQL –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π');
    console.log('   3. SCHEDULER –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏');
    console.log('   4. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ö–æ–¥—è—Ç TransactionService');
    console.log('   5. –ê–î–ú–ò–ù–°–ö–ò–ï –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');

    // 4. –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
    console.log('\n4Ô∏è‚É£ –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ò –û–¶–ï–ù–ö–ê –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò:');
    
    console.log('\nüõ†Ô∏è –ü–†–ï–î–õ–ê–ì–ê–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï:');
    console.log('   –®–ê–ì 1: –ù–∞–π—Ç–∏ –í–°–ï –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ, –≥–¥–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è balance_ton');
    console.log('   –®–ê–ì 2: –ó–∞—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ UnifiedTransactionService');
    console.log('   –®–ê–ì 3: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é - –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏');
    console.log('   –®–ê–ì 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–∞—Ö');
    console.log('   –®–ê–ì 5: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ');

    console.log('\nüìà –û–ñ–ò–î–ê–ï–ú–ê–Ø –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–¨:');
    console.log('   ‚úÖ –í–´–°–û–ö–ê–Ø (95-100%) - –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–±—Ö–æ–¥–µ TransactionService');
    console.log('   ‚ö†Ô∏è –°–†–ï–î–ù–Ø–Ø (70-90%) - –µ—Å–ª–∏ –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ë–î');
    console.log('   ‚ùå –ù–ò–ó–ö–ê–Ø (30-50%) - –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Supabase');

    // 5. –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤
    console.log('\n5Ô∏è‚É£ –û–¶–ï–ù–ö–ê –†–ò–°–ö–û–í –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:');
    
    console.log('\n‚ö†Ô∏è –†–ò–°–ö–ò –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ö–û–î–ê:');
    console.log('   üü¢ –ù–ò–ó–ö–ò–ô –†–ò–°–ö:');
    console.log('   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º');
    console.log('   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –±–∞–ª–∞–Ω—Å–∞');
    console.log('   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏');
    
    console.log('\nüü° –°–†–ï–î–ù–ò–ô –†–ò–°–ö:');
    console.log('   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ BalanceManager');
    console.log('   - –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è scheduler –æ–ø–µ—Ä–∞—Ü–∏–π');
    console.log('   - –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API');
    
    console.log('\nüî¥ –í–´–°–û–ö–ò–ô –†–ò–°–ö:');
    console.log('   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π');
    console.log('   - –ú–∞—Å—Å–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ core –º–æ–¥—É–ª—è—Ö');
    console.log('   - –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã');

    // 6. –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ–∑–∞
    console.log('\n6Ô∏è‚É£ –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –î–ò–ê–ì–ù–û–ó–ê:');
    
    console.log('\nüîç –ü–û–ß–ï–ú–£ –Ø –£–í–ï–†–ï–ù –í –î–ò–ê–ì–ù–û–ó–ï:');
    console.log('   1. –ü–ê–¢–¢–ï–†–ù –ß–ï–¢–ö–ò–ô: 78% –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π');
    console.log('   2. –í–†–ï–ú–ï–ù–ù–ê–Ø –ö–û–†–†–ï–õ–Ø–¶–ò–Ø: –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞—á–∞–ª–∞—Å—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥');
    console.log('   3. –ö–û–î –ü–û–î–¢–í–ï–†–ñ–î–ê–ï–¢: processTonDeposit() —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ');
    console.log('   4. –ù–û –í –†–ï–ê–õ–¨–ù–û–°–¢–ò: –¥–µ–ø–æ–∑–∏—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –¥—Ä—É–≥–∏–º –ø—É—Ç–µ–º');
    console.log('   5. –°–ò–°–¢–ï–ú–ù–´–ô –•–ê–†–ê–ö–¢–ï–†: –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ');

    console.log('\nüìä –°–¢–ê–¢–ò–°–¢–ò–ß–ï–°–ö–ò–ï –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê:');
    if (usersWithTonBalance && tonTransactions) {
      const totalTonInBalances = usersWithTonBalance.reduce((sum, u) => sum + u.balance_ton, 0);
      const totalTonInTransactions = tonTransactions.reduce((sum, tx) => sum + parseFloat(tx.amount_ton), 0);
      
      console.log(`   TON –≤ –±–∞–ª–∞–Ω—Å–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${totalTonInBalances.toFixed(6)}`);
      console.log(`   TON –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö: ${totalTonInTransactions.toFixed(6)}`);
      console.log(`   –†–∞–∑–Ω–∏—Ü–∞: ${(totalTonInBalances - totalTonInTransactions).toFixed(6)} TON`);
      console.log(`   –ü—Ä–æ—Ü–µ–Ω—Ç "–Ω–µ–≤–∏–¥–∏–º–æ–≥–æ" TON: ${Math.round((totalTonInBalances - totalTonInTransactions) / totalTonInBalances * 100)}%`);
    }

    // 7. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π
    console.log('\n7Ô∏è‚É£ –ö–û–ù–ö–†–ï–¢–ù–´–ô –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:');
    
    console.log('\nüìã –≠–¢–ê–ü 1 - –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ö–û–î–ê (1-2 —á–∞—Å–∞):');
    console.log('   ‚Ä¢ –ù–∞–π—Ç–∏ –≤—Å–µ –≤—ã–∑–æ–≤—ã BalanceManager.updateUserBalance()');
    console.log('   ‚Ä¢ –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä—è–º—ã–µ UPDATE users SET balance_ton');
    console.log('   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å scheduler –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å TON');
    console.log('   ‚Ä¢ –ù–∞–π—Ç–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–∏–Ω—É—é—Ç TransactionService');

    console.log('\nüìã –≠–¢–ê–ü 2 - –¢–û–ß–ï–ß–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (2-3 —á–∞—Å–∞):');
    console.log('   ‚Ä¢ –û–±–µ—Ä–Ω—É—Ç—å –≤—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è balance_ton –≤ createTransaction()');
    console.log('   ‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ BalanceManager');
    console.log('   ‚Ä¢ –£—Å–∏–ª–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π');
    console.log('   ‚Ä¢ –ù–ï –¢–†–û–ì–ê–¢–¨ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã');

    console.log('\nüìã –≠–¢–ê–ü 3 - –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (1 —á–∞—Å):');
    console.log('   ‚Ä¢ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç');
    console.log('   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏');
    console.log('   ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è');
    console.log('   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è');

    console.log('\nüìã –≠–¢–ê–ü 4 - –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –î–ê–ù–ù–´–• (30 –º–∏–Ω—É—Ç):');
    console.log('   ‚Ä¢ –°–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏');
    console.log('   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö');
    console.log('   ‚Ä¢ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç');

    console.log('\n8Ô∏è‚É£ –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê:');
    console.log('\n‚úÖ –í–ï–†–û–Ø–¢–ù–û–°–¢–¨ –£–°–ü–ï–•–ê: 85-95%');
    console.log('   –í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞:');
    console.log('   - –ß–µ—Ç–∫–∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö');
    console.log('   - –ê–Ω–∞–ª–∏–∑–µ –∫–æ–¥–∞ TransactionService');
    console.log('   - –õ–æ–≥–∏—á–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è');
    
    console.log('\n‚è±Ô∏è –í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø: 4-6 —á–∞—Å–æ–≤');
    console.log('   - 2 —á–∞—Å–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏');
    console.log('   - 3 —á–∞—Å–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π');
    console.log('   - 1 —á–∞—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è');
    
    console.log('\nüéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:');
    console.log('   - 100% –Ω–æ–≤—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏');
    console.log('   - –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π');
    console.log('   - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');
    console.log('   - –ü—Ä–æ–±–ª–µ–º–∞ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è');

  } catch (error) {
    console.error('‚ùå –û–®–ò–ë–ö–ê –ê–ù–ê–õ–ò–ó–ê –ü–õ–ê–ù–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:', error);
  }
}

analyzeTonDepositFixPlan().catch(console.error);