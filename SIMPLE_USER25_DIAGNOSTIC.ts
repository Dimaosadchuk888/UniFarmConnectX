/**
 * –ü–†–û–°–¢–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê JWT –ü–†–û–ë–õ–ï–ú - User ID 25
 * 
 * –ó–ê–î–ê–ß–ê: –ù–∞–π—Ç–∏ —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
 * –ó–ê–ü–†–ï–¢: –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞ - —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑
 */

console.log('üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê JWT –ù–ï–°–¢–ê–ë–ò–õ–¨–ù–û–°–¢–ò');
console.log('================================');

console.log('\nüìä –í–†–ï–ú–Ø –ñ–ò–ó–ù–ò JWT –¢–û–ö–ï–ù–ê:');
// –ò–∑ utils/telegram.ts - generateJWTToken():
console.log('exp: Math.floor(Date.now() / 1000) + (7 * 24 * 60 * 60)');
console.log('–í—Ä–µ–º—è –∂–∏–∑–Ω–∏: 7 –î–ù–ï–ô = 604800 —Å–µ–∫—É–Ω–¥');
console.log('–ù–û! –¢–æ–∫–µ–Ω –∏—Å—á–µ–∑–∞–µ—Ç –≥–æ—Ä–∞–∑–¥–æ —Ä–∞–Ω—å—à–µ...');

console.log('\nüö® –§–ê–ö–¢–´ –ò–ó BROWSER CONSOLE:');
console.log('1. ‚ùå "JWT —Ç–æ–∫–µ–Ω —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤"');
console.log('2. ‚ùå "API –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω, –Ω–æ —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"');
console.log('3. üîÑ "–°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–æ –≤—ã–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏"');
console.log('4. üì± User –≤–∏–¥–∏—Ç: "—Å–æ–æ–±—â–µ–Ω–∏–µ –æ JWT —Ç–æ–∫–µ–Ω–µ"');

console.log('\n‚ö° –ì–î–ï –¢–û–ö–ï–ù–´ –ú–û–ì–£–¢ –ò–°–ß–ï–ó–ê–¢–¨:');

console.log('\n1Ô∏è‚É£ –õ–û–ö–ê–õ–¨–ù–û–ï –•–†–ê–ù–ò–õ–ò–©–ï (localStorage):');
console.log('   - –ö–ª—é—á: "unifarm_jwt_token"');
console.log('   - –ú–æ–∂–µ—Ç –æ—á–∏—â–∞—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –º–µ—Å—Ç–∞');
console.log('   - –ú–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Telegram WebApp');
console.log('   - –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Private/Incognito —Ä–µ–∂–∏–º–µ');

console.log('\n2Ô∏è‚É£ TELEGRAM WEBAPP –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø:');
console.log('   - –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏');
console.log('   - –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
console.log('   - –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Ñ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º');
console.log('   - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö Telegram –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');

console.log('\n3Ô∏è‚É£ BACKEND JWT –í–ê–õ–ò–î–ê–¶–ò–Ø:');
console.log('   - verifyJWTToken() –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω—è—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã');
console.log('   - JWT_SECRET –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞');
console.log('   - –í—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞ vs –≤—Ä–µ–º—è –∫–ª–∏–µ–Ω—Ç–∞ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è');

console.log('\n4Ô∏è‚É£ USERCONTEXT –õ–û–ì–ò–ö–ê:');
console.log('   - refreshUserData() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–∞—Å—Ç–æ');
console.log('   - authorizationAttemptedRef –º–æ–∂–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è');
console.log('   - Race conditions –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏');

console.log('\nüéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–û–ú–ï–ù–¢–´:');

console.log('\n–ú–û–ú–ï–ù–¢ A: –ü–û–¢–ï–†–Ø –î–ï–ü–û–ó–ò–¢–ê 3 TON (31.07.2025, 08:07)');
console.log('08:07:00 - TON Connect ‚Üí Blockchain SUCCESS');
console.log('08:07:05 - Backend API –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç');
console.log('08:07:10 - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –±–∞–ª–∞–Ω—Å +3 TON');
console.log('08:07:XX - JWT –¢–û–ö–ï–ù –ò–°–ß–ï–ó–ê–ï–¢ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ç–∞–π–º–∏–Ω–≥!)');
console.log('08:07:XX - UserContext –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è');
console.log('08:07:XX - –ù–æ–≤—ã–π JWT —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –£–°–¢–ê–†–ï–í–®–ò–ú–ò –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î');
console.log('üí∏ –†–ï–ó–£–õ–¨–¢–ê–¢: –î–µ–ø–æ–∑–∏—Ç –ø–æ—Ç–µ—Ä—è–Ω –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ');

console.log('\n–ú–û–ú–ï–ù–¢ B: –í–û–ó–í–†–ê–¢ –í–´–í–û–î–û–í (1% —Å–ª—É—á–∞–µ–≤)');
console.log('XX:XX:00 - processWithdrawal() —Å–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞');
console.log('XX:XX:01 - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –±–∞–ª–∞–Ω—Å -X TON');
console.log('XX:XX:02 - JWT –¢–û–ö–ï–ù –ò–°–ß–ï–ó–ê–ï–¢ (–ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ 1%)');
console.log('XX:XX:03 - UserContext –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è');
console.log('XX:XX:04 - –ù–æ–≤—ã–π JWT —Å –±–∞–ª–∞–Ω—Å–æ–º –î–û —Å–ø–∏—Å–∞–Ω–∏—è');
console.log('üí∏ –†–ï–ó–£–õ–¨–¢–ê–¢: –î–µ–Ω—å–≥–∏ "–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è" –Ω–∞ –±–∞–ª–∞–Ω—Å');

console.log('\nüîç –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê:');
console.log('JWT –¢–û–ö–ï–ù–´ –ò–°–ß–ï–ó–ê–Æ–¢ –ë–´–°–¢–†–ï–ï –ß–ï–ú –û–ñ–ò–î–ê–ï–¢–°–Ø');
console.log('- –ù–æ–º–∏–Ω–∞–ª—å–Ω–æ: 7 –¥–Ω–µ–π –∂–∏–∑–Ω–∏');
console.log('- –†–µ–∞–ª—å–Ω–æ: –∏—Å—á–µ–∑–∞—é—Ç –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç');
console.log('- –ü—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ ‚Üí —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω');
console.log('- –ù–æ–≤—ã–π —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è');
console.log('- –ï—Å–ª–∏ –ë–î –Ω–µ —É—Å–ø–µ–ª–∞ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è ‚Üí —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ');

console.log('\nüìã –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨:');
console.log('1. –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (–∫–∞–∂–¥—ã–µ X –º–∏–Ω—É—Ç?)');
console.log('2. localStorage.getItem("unifarm_jwt_token") - –µ—Å—Ç—å –ª–∏ —Ç–æ–∫–µ–Ω?');
console.log('3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç');
console.log('4. JWT_SECRET —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∞—Ö');
console.log('5. Race conditions –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞ vs —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞');

console.log('\nüö® –ì–ò–ü–û–¢–ï–ó–ê:');
console.log('–¢–æ–∫–µ–Ω—ã –∏—Å—á–µ–∑–∞—é—Ç –∏–∑-–∑–∞ Telegram WebApp –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏–ª–∏ browser storage policy.');
console.log('–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.');
console.log('–°–∏—Å—Ç–µ–º–∞ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î —Å –Ω–æ–≤—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.');

console.log('\n‚ö° –°–¢–ê–¢–£–°: –¢–†–ï–ë–£–ï–¢–°–Ø –ü–†–û–í–ï–†–ö–ê –ß–ê–°–¢–û–¢–´ –ü–ï–†–ï–°–û–ó–î–ê–ù–ò–Ø –¢–û–ö–ï–ù–û–í');