# üß™ –û—Ç—á–µ—Ç: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –∫–∞—Ä—Ç–æ—á–∫–µ TON Farming

**–î–∞—Ç–∞:** 14 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ  
**–¢–∏–ø:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

## üìã –ò—Å—Å–ª–µ–¥—É–µ–º–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–ö–∞—Ä—Ç–æ—á–∫–∞ TON Farming –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–§–∞—Ä–º–∏–Ω–≥" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- –û–±—â–∞—è —Å—É–º–º–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö TON –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 666.22 –≤–º–µ—Å—Ç–æ 362
- –î–æ—Ö–æ–¥ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç –≤—Å–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞, –∞ –Ω–µ –æ—Ç —Å—É–º–º—ã –¥–µ–ø–æ–∑–∏—Ç–∞

## 1. üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### API Endpoint
- **URL:** `/api/v2/boost/farming-status?user_id=74`
- **–ú–µ—Ç–æ–¥:** `BoostService.getTonBoostFarmingStatus()`
- **–§–∞–π–ª:** `modules/boost/service.ts` (—Å—Ç—Ä–æ–∫–∏ 878-987)

### –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç API:
```json
{
  "totalTonRatePerSecond": "0.00000023",
  "totalUniRatePerSecond": "0",
  "dailyIncomeTon": "6.662255",
  "dailyIncomeUni": "0",
  "deposits": [{
    "id": 1,
    "package_name": "Starter Boost",
    "amount": "666.22553",  // ‚Üê –ó–¥–µ—Å—å –ø—Ä–æ–±–ª–µ–º–∞!
    "rate": "1",
    "status": "active"
  }]
}
```

## 2. üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ

### –¢–∞–±–ª–∏—Ü–∞ users (user_id = 74):
- `balance_ton`: 666.22553 TON ‚úÖ
- `ton_boost_package`: 1 ‚úÖ
- `ton_farming_balance`: –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ ‚ùå
- `ton_farming_rate`: 0.015 ‚úÖ

### –¢–∞–±–ª–∏—Ü–∞ ton_farming_data (user_id = 74):
- `farming_balance`: 362 TON ‚úÖ (—Ä–µ–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤)
- `farming_rate`: 0.0001 ‚úÖ
- `boost_package_id`: 1 ‚úÖ
- `status`: active ‚úÖ

## 3. ‚ùå –í—ã—è–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### Backend (modules/boost/service.ts, —Å—Ç—Ä–æ–∫–∞ 971):
```javascript
deposits: [{
  id: activeBoostId,
  package_name: boostPackage.name,
  amount: tonBalance.toString(),  // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç balance_ton!
  rate: dailyRate.toString(),
  status: 'active'
}]
```

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `balance_ton` (666.22) –≤–º–µ—Å—Ç–æ `farming_balance` (362)

### Frontend (TonFarmingStatusCard.tsx, —Å—Ç—Ä–æ–∫–∏ 284-302):
```javascript
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â—É—é —Å—É–º–º—É –∏–∑ –º–∞—Å—Å–∏–≤–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤
let amount = 0;
const deposits = farmingInfo?.data?.deposits || [];
if (Array.isArray(deposits) && deposits.length > 0) {
  amount = deposits.reduce((sum, deposit) => {
    const depositAmount = typeof deposit.ton_amount === 'string' ? 
      parseFloat(deposit.ton_amount) : (deposit.ton_amount || 0);
    return sum + (isNaN(depositAmount) ? 0 : depositAmount);
  }, 0);
}
```

**Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - —Å—É–º–º–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –º–∞—Å—Å–∏–≤–∞ deposits

## 4. üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–∞—Å—á–µ—Ç—ã

### –¢–µ–∫—É—â–∏–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):
- –ë–∞–∑–∞: 666.22553 TON (–≤–µ—Å—å –±–∞–ª–∞–Ω—Å)
- –°—Ç–∞–≤–∫–∞: 1% –≤ –¥–µ–Ω—å
- –î–æ—Ö–æ–¥: 6.66 TON/–¥–µ–Ω—å

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç:
- –ë–∞–∑–∞: 362 TON (—Å—É–º–º–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤)
- –°—Ç–∞–≤–∫–∞: 1% –≤ –¥–µ–Ω—å  
- –î–æ—Ö–æ–¥: 3.62 TON/–¥–µ–Ω—å

**–†–∞–∑–Ω–∏—Ü–∞:** 3.04 TON/–¥–µ–Ω—å –ª–∏—à–Ω–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

## 5. ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

1. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ TON Boost** (`tonBoostIncomeScheduler.ts`, —Å—Ç—Ä–æ–∫–∞ 117):
   ```javascript
   const userDeposit = Math.max(0, parseFloat(user.farming_balance || '0'));
   ```
   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ `farming_balance` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π

2. **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç API

3. **TonFarmingRepository** –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ `getByUserId()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è farming_balance

## 6. üîó –¶–µ–ø–æ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (ton_farming_data)
    ‚Üì
    farming_balance = 362 TON
    ‚Üì
BoostService.getTonBoostFarmingStatus()
    ‚Üì
    ‚ùå –ë–µ—Ä–µ—Ç balance_ton = 666.22 –≤–º–µ—Å—Ç–æ farming_balance
    ‚Üì
API Response (deposits[0].amount = "666.22553")
    ‚Üì
Frontend TonFarmingStatusCard
    ‚Üì
    –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç 666.22 TON
```

## 7. üìå –¢–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ú–µ—Ç–æ–¥ `getTonBoostFarmingStatus` –≤ `modules/boost/service.ts`:
1. –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `users`
2. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `TonFarmingRepository` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `farming_balance`
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `balance_ton` –≤ –ø–æ–ª–µ `amount` –¥–µ–ø–æ–∑–∏—Ç–∞

## 8. ‚ùå –ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

- `farming_balance` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `ton_farming_data` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `ton_farming_balance` –≤ —Ç–∞–±–ª–∏—Ü–µ `users` - –ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## 9. üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `getTonBoostFarmingStatus` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `TonFarmingRepository`
2. –ü–æ–ª—É—á–∞—Ç—å `farming_balance` –∏–∑ `ton_farming_data` –≤–º–µ—Å—Ç–æ `balance_ton`
3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `farming_balance` –≤ –æ—Ç–≤–µ—Ç API –æ—Ç–¥–µ–ª—å–Ω–æ

## 10. üìä –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–æ–ª–µ | –ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è | –û—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------------|----------------|---------------------|------------------|
| –û–±—â–∞—è —Å—É–º–º–∞ | UI –∫–∞—Ä—Ç–æ—á–∫–∞ | deposits[].amount | 362 TON | 666.22 TON ‚ùå |
| –î–æ—Ö–æ–¥ –≤ —Å—É—Ç–∫–∏ | UI –∫–∞—Ä—Ç–æ—á–∫–∞ | –†–∞—Å—á–µ—Ç –æ—Ç amount | 3.62 TON | 6.66 TON ‚ùå |
| –†–µ–∞–ª—å–Ω—ã–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | farming_balance | 3.62 TON | 3.62 TON ‚úÖ |

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ backend –º–µ—Ç–æ–¥–µ `getTonBoostFarmingStatus`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—É–º–º—ã –¥–µ–ø–æ–∑–∏—Ç–∞. Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞—á–∏—Å–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—É–º–º—ã. –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ backend –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.