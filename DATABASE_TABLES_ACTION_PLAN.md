# –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è —Ç–∞–±–ª–∏—Ü–∞–º–∏
**–î–∞—Ç–∞**: 02.08.2025

## üö® –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:
1. **50 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ `uni_farming_data` (—Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
2. **44 –∑–∞–ø–∏—Å–∏** –≤ `ton_farming_data` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–º –≤ `users`
3. **–ö–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç** —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–π–¥–µ–Ω–æ –≤ boost/service.ts)
4. **–ü–æ–ª—è –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
```
users (103 –∑–∞–ø–∏—Å–∏) ‚Üê –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
‚îú‚îÄ‚îÄ uni_farming_data (98 –∑–∞–ø–∏—Å–µ–π) ‚Üê —Å—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ UNI
‚îî‚îÄ‚îÄ ton_farming_data (44 –∑–∞–ø–∏—Å–∏) ‚Üê —Å—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ TON
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `ton_farming_data` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `modules/boost/service.ts` (—Å—Ç—Ä–æ–∫–∏ 1116-1128)
- –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `farming_balance` –∏–∑ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `min_amount` –ø–∞–∫–µ—Ç–∞

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–†–ï–ö–û–ú–ï–ù–î–£–Æ)
**–°—Ä–æ–∫**: 1-2 –¥–Ω—è  
**–†–∏—Å–∫**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π

1. **–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø** –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ** –∏–∑ —Å—Ç–∞—Ä—ã—Ö —Ç–∞–±–ª–∏—Ü –≤ `users`
3. **–°–æ–∑–¥–∞—Ç—å SQL Views** –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:
   ```sql
   CREATE OR REPLACE VIEW uni_farming_data AS
   SELECT 
     id as user_id,
     balance_uni as balance,
     uni_farming_active as is_active,
     uni_deposit_amount as deposit_amount,
     uni_farming_balance as farming_balance,
     uni_farming_rate as farming_rate,
     uni_farming_start_timestamp as start_timestamp,
     created_at
   FROM users;
   
   CREATE OR REPLACE VIEW ton_farming_data AS
   SELECT 
     id as user_id,
     ton_wallet_address as wallet_address,
     ton_farming_balance as balance,
     ton_farming_balance as farming_balance,
     ton_farming_rate as farming_rate,
     ton_boost_package as boost_package_id,
     ton_boost_rate as boost_rate,
     created_at
   FROM users;
   ```
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ Views
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å** —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
**–°—Ä–æ–∫**: 0 –¥–Ω–µ–π  
**–†–∏—Å–∫**: –í—ã—Å–æ–∫–∏–π

- –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –î–æ–±–∞–≤–∏—Ç—å schedulers –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏–Ω—è—Ç—å —Ä–∏—Å–∫–∏ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
**–°—Ä–æ–∫**: 2-3 –Ω–µ–¥–µ–ª–∏  
**–†–∏—Å–∫**: –°—Ä–µ–¥–Ω–∏–π

1. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ç–æ–ª—å–∫–æ —Å `users`
2. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
3. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã
4. –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üõ°Ô∏è –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

‚ùå **–ù–ï —É–¥–∞–ª—è—Ç—å** —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏  
‚ùå **–ù–ï –∏–∑–º–µ–Ω—è—Ç—å** —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ –±—ç–∫–∞–ø–æ–≤  
‚ùå **–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å** 50 "–ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

## üìã –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø** (–∫—Ä–∏—Ç–∏—á–Ω–æ!):
   ```bash
   pg_dump -t uni_farming_data -t ton_farming_data > farming_tables_backup.sql
   ```

2. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å** 50 –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
   ```sql
   SELECT * FROM uni_farming_data 
   WHERE user_id IN (1,4,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,48,50,52,53,54,55,56,57,58,59,60,62,64,67,69,72,74,80,111,113,192,229,230,269,274,296,306);
   ```

3. **–†–µ—à–∏—Ç—å** —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## ‚ùì –í–æ–ø—Ä–æ—Å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è

–ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±–∏—Ä–∞–µ–º?
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Views** (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
2. **–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** —Å —Ä–∏—Å–∫–∞–º–∏
3. **–ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** (–¥–æ–ª–≥–æ –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è –ø–æ–º–æ–≥—É —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.