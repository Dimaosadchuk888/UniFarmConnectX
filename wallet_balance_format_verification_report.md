# –û—Ç—á—ë—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏ useBalance hook
**–î–∞—Ç–∞:** 12.07.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

### 1. –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** `grep -r "useBalance" client/src`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞–π–¥–µ–Ω —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç –≤ App.tsx, –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### 2. –£–¥–∞–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞
```diff
// client/src/App.tsx
- import { useBalance } from "@/hooks/useBalance";
```

### 3. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
```bash
rm client/src/hooks/useBalance.ts
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ BalanceCard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã (1004900.123 UNI, 898.119 TON)
- ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã
- ‚úÖ –ù–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ useBalance –≤ –∫–æ–¥–µ

## üîç –¢–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç `/api/v2/wallet/balance`:

### API Response (camelCase) - –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```json
{
  "success": true,
  "data": {
    "uniBalance": 1004900.122573,
    "tonBalance": 898.118945,
    "uniFarmingActive": true,
    "uniDepositAmount": 412589,
    "uniFarmingBalance": 0
  }
}
```

### Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **balanceService.ts** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —á–µ—Ä–µ–∑ fallback:
  ```typescript
  const uniBalance = data.uniBalance || data.uni_balance || 0;
  const tonBalance = data.tonBalance || data.ton_balance || 0;
  ```

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç:

1. **–ö–æ–¥ –æ—á–∏—â–µ–Ω** –æ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
2. **–ù–∏–∫–∞–∫–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
3. **–§–æ—Ä–º–∞—Ç API** –æ—Å—Ç–∞–ª—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º (camelCase)
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞** –≤ replit.md

## üéØ –í—ã–≤–æ–¥:

–£–¥–∞–ª–µ–Ω–∏–µ `useBalance` hook –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç API —Å camelCase –ø–æ–ª—è–º–∏, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.