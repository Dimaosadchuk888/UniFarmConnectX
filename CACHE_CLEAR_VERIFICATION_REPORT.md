# üîÑ –û–¢–ß–ï–¢ –û –ü–û–õ–ù–û–ô –û–ß–ò–°–¢–ö–ï –ö–ï–®–ï–ô –ò –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò

**–î–∞—Ç–∞ –æ—á–∏—Å—Ç–∫–∏**: 28 –∏—é–ª—è 2025, 12:44 UTC  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –£–°–ü–ï–®–ù–û**

---

## üö® –ü–†–û–ë–õ–ï–ú–ê –ë–´–õ–ê –†–ï–®–ï–ù–ê

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚ùå **–î–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–µ—à–µ–π**: Dev –∏ prod –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–ª–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∫–æ–¥–∞
- ‚ùå **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**: –°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚ùå **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–π**: Telegram –±–æ—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —É—Å—Ç–∞—Ä–µ–≤—à—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –ü–û –û–ß–ò–°–¢–ö–ï

### 1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```bash
pkill -f "tsx server/index.ts"  # –ó–∞–≤–µ—Ä—à–∏–ª–∏ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "node.*tsx.*server"    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
```

### 2. –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
tsx server/index.ts  # –ó–∞–ø—É—Å–∫ —Å —á–∏—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```

### 3. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ **Supabase**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ
- ‚úÖ **WebSocket**: –°–µ—Ä–≤–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ /ws
- ‚úÖ **API Routes**: –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **Static Files**: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –∏–∑ dist/
- ‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏**: –§–∞—Ä–º–∏–Ω–≥ –∏ TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ –∑–∞–ø—É—â–µ–Ω—ã

---

## ü§ñ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ë–û–¢–û–í

### –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç @UniFarming_Bot:
```
POST /api/v2/telegram/webhook
Status: 200 OK
Response: {"ok":true}
‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê
```

### –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç:
```  
POST /api/v2/admin-bot/webhook
Status: 200 OK
Response: OK
‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê
```

### API Infrastructure:
```
GET /api/v2/health
Status: 200 OK
Response: {"status":"ok","timestamp":"2025-07-28T12:44:32.627Z"}
‚úÖ API –ó–î–û–†–û–í–´–ô –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

### –õ–æ–≥ —É—Å–ø–µ—à–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
```
[2025-07-28T12:43:56.477Z] ‚úÖ UniFarm —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
[2025-07-28T12:43:56.477Z] üöÄ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://0.0.0.0:3000
[2025-07-28T12:43:56.481Z] ‚úÖ Supabase database connection active
[2025-07-28T12:43:57.116Z] ‚úÖ Admin bot webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
[2025-07-28T12:43:57.119Z] ‚úÖ MainBot webhook —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
[2025-07-28T12:43:57.359Z] ‚úÖ MainBot –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ **Express Server**: HTTP API –Ω–∞ –ø–æ—Ä—Ç—É 3000
- ‚úÖ **WebSocket Server**: –†–µ–∞–ª—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ /ws  
- ‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ñ–∞—Ä–º–∏–Ω–≥–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–æ—Ö–æ–¥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- ‚úÖ **TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- ‚úÖ **Balance Manager**: WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ **Telegram Bots**: –û–±–∞ –±–æ—Ç–∞ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ webhook

---

## üìä –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø DEV –ò PROD

### –î–æ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–µ–π:
- ‚ùå Dev –≤–µ—Ä—Å–∏—è: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- ‚ùå Prod –≤–µ—Ä—Å–∏—è: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- ‚ùå Webhook responses: –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç Telegram API

### –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–µ–π:
- ‚úÖ **–ï–¥–∏–Ω–∞—è –≤–µ—Ä—Å–∏—è**: Dev –∏ prod —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–°–≤–µ–∂–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã –∑–∞–Ω–æ–≤–æ
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: Telegram webhook —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–†–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –¢–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

---

## üéØ –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ **–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü—Ä–æ—Ü–µ—Å—Å tsx server/index.ts –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ **API –¥–æ—Å—Ç—É–ø–µ–Ω**: –í—Å–µ endpoints –æ—Ç–≤–µ—á–∞—é—Ç 200 OK
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Supabase —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
- ‚úÖ **WebSocket**: –†–µ–∞–ª—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Static files –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- ‚úÖ **Main bot**: –ì–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ /start –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **Admin bot**: –ì–æ—Ç–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **Webhook URLs**: –û–±–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –æ—Ç–≤–µ—á–∞—é—Ç
- ‚úÖ **Command processing**: –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∞–∫—Ç–∏–≤–Ω–∞

---

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢ –û–ß–ò–°–¢–ö–ò –ö–ï–®–ï–ô

**–ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê**

1. **–ö–µ—à–∏ –æ—á–∏—â–µ–Ω—ã**: –í—Å–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
2. **–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω**: –°–≤–µ–∂–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞**: Dev –∏ prod —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
4. **–ë–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã**: –û–±–∞ Telegram –±–æ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
5. **–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞**: –í—Å–µ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å

**–î–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–µ—à–µ–π —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ.**