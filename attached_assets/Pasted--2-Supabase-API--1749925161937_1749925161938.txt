üü° –ó–û–õ–û–¢–û–ô –ü–†–û–ú–¢ –î–õ–Ø –ê–ì–ï–ù–¢–ê

–≠—Ç–∞–ø 2 ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Supabase API (–±–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü)

üîß –ö–æ–Ω—Ç–µ–∫—Å—Ç:
–ü—Ä–æ–µ–∫—Ç UniFarm —á–∞—Å—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ Supabase API. –í–º–µ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ drizzle –∏ pg, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π SDK @supabase/supabase-js.
–ê–∫—Ç–∏–≤–∞—Ü–∏—é —Ç–∞–±–ª–∏—Ü –≤ Supabase Dashboard –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–∫–∞–∑—á–∏–∫ –≤—Ä—É—á–Ω—É—é. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase API –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö –ø—Ä–æ–µ–∫—Ç–∞.

‚∏ª

üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞:

–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase API. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç pg, drizzle, pool, DATABASE_URL. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å supabase.from(...).

‚∏ª

‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
 1. –ü–µ—Ä–µ–ø–∏—à–∏ —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –Ω–∞ Supabase API:
 ‚Ä¢ modules/farming/service.ts
 ‚Ä¢ modules/dailyBonus/service.ts
 ‚Ä¢ modules/admin/service.ts
 ‚Ä¢ modules/user/model.ts
–ò—Å–ø–æ–ª—å–∑—É–π supabase.from('–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ç–∞–±–ª–∏—Ü—ã') –≤–º–µ—Å—Ç–æ db.select, db.insert, db.count, db.update, –∏ —Ç.–¥.
 2. –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
 ‚Ä¢ –£–¥–∞–ª–∏ –∏–º–ø–æ—Ä—Ç—ã db, drizzle, pg, pool –≤ —ç—Ç–∏—Ö –º–æ–¥—É–ª—è—Ö
 ‚Ä¢ –û—á–∏—Å—Ç–∏ —Ñ–∞–π–ª core/db.ts ‚Äî –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Å–¥–µ–ª–∞–π –∑–∞–≥–ª—É—à–∫—É
 3. –û—á–∏—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
–ò–∑ —Ñ–∞–π–ª–∞ .env —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

DATABASE_URL=
PGHOST=
PGUSER=
PGPASSWORD=
DATABASE_PROVIDER=
USE_NEON_DB=

–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:

SUPABASE_URL=https://wunnsvicbebssrjqedor.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...


 4. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Supabase:
 ‚Ä¢ –í—Å–µ –º–æ–¥—É–ª–∏ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç –∏–∑ core/supabase.ts
 ‚Ä¢ –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.SUPABASE_URL!;
const supabaseKey = process.env.SUPABASE_KEY!;
export const supabase = createClient(supabaseUrl, supabaseKey);



‚∏ª

üìå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
 ‚Ä¢ –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
 ‚Ä¢ –ù–µ –º–µ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
 ‚Ä¢ –ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å frontend (client/)
 ‚Ä¢ –ù–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
 ‚Ä¢ –ù–µ –≤–Ω–µ–¥—Ä—è—Ç—å –Ω–æ–≤—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
 ‚Ä¢ –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å drizzle, pg, DATABASE_URL

‚∏ª

‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
 ‚Ä¢ –í—Å–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ supabase.from(...)
 ‚Ä¢ core/db.ts –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
 ‚Ä¢ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ .env –æ—á–∏—â–µ–Ω—ã –æ—Ç DATABASE_URL, PG* –∏ USE_NEON_DB
 ‚Ä¢ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
 ‚Ä¢ –¢–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é

‚∏ª