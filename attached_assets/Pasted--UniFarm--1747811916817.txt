Твоя роль: головний технічний ревізор UniFarm.  
Ти відповідаєш за повну перевірку додатку перед продакшн-деплоєм.  
Не став мені жодних уточнень. Працюй повністю автономно.  
Повинен знайти і зафіксувати всі помилки, ризики, дублікати, порушення принципів SOLID, бізнес-логіки чи підключень.

---

## ПРАВИЛА РОБОТИ:

- Працюй лише з існуючими файлами, не створюй нові
- Не роби ніяких виправлень — лише виявлення, опис і систематизація
- Виводь результати у вигляді чеклисту, таблиць, пояснень
- Обов’язково вказуй:
  - Назву файлу
  - Рядок (якщо можливо)
  - Суть проблеми
  - Категорію: API / реф. система / фармінг / Telegram / LSP / фронт тощо

---

## СФЕРИ ПЕРЕВІРКИ:

### 1. Telegram Mini App + Авторизація
⬜️ Чи фіксується користувач, який увійшов через Telegram  
⬜️ Чи правильно зчитується initData  
⬜️ Чи створюється профіль у базі  
⬜️ Чи зберігається guest_id або telegram_id  
⬜️ Чи підв’язується реферальний код (через URL або токен)  
⬜️ Чи немає дублікатів при повторному вході

---

### 2. Генерація та логіка реферального коду
⬜️ Чи унікальний код генерується при першій авторизації  
⬜️ Чи створюється дерево рефералів правильно (20 рівнів)  
⬜️ Чи зберігається шлях дерева в БД  
⬜️ Чи правильно спрацьовують бонуси за фармінг партнера  
⬜️ Чи видно транзакцію в історії користувача і його реферала

---

### 3. Місії та Завдання
⬜️ Чи відображаються всі активні місії  
⬜️ Чи відпрацьовують місії з бонусами / лінками / умовами  
⬜️ Чи зараховується нагорода  
⬜️ Чи формується запис у базі про проходження  
⬜️ Чи зберігаються в історії активності користувача

---

### 4. Гаманець (Wallet)
⬜️ Чи коректно оновлюється баланс після всіх дій (фармінг, буст, рефералка, місії)  
⬜️ Чи розділено баланс на UNI / TON / pending / withdrawable  
⬜️ Чи працюють транзакції з бустів і фармінгу (запис + візуалізація)  
⬜️ Чи працює відображення поповнень / списань

---

### 5. Фармінг (UNI Farm пакети)
⬜️ Чи створюється депозит через UNI  
⬜️ Чи відбувається щоденне нарахування за ставкою 0.5%  
⬜️ Чи записується це в таблиці транзакцій  
⬜️ Чи працює функція harvest  
⬜️ Чи можна створити кілька депозитів  
⬜️ Чи правильно відображаються суми в балансі

---

### 6. TON Boost / UNI Boost
⬜️ Чи відповідають ставки, бонуси, ID та назви бустів на фронті й бекенді  
⬜️ Чи бусти з TON працюють на % нарахування, а не одноразово  
⬜️ Чи бонус UNI записується при купівлі буста  
⬜️ Чи працює harvest для бустів  
⬜️ Чи видно всі нарахування в гаманці  
⬜️ Чи записується бонус з буста для реферальної програми

---

### 7. API та Backend
⬜️ Чи всі API працюють (включаючи нові для адмінки)  
⬜️ Чи авторизовані усі ендпоінти  
⬜️ Чи відповідають формати JSON (success, error, data)  
⬜️ Чи всі маршрути закриті для неавторизованих  
⬜️ Чи правильно повертаються помилки (400/401/500)

---

### 8. Адмін-панель (через @unifarm_admin_bot)
⬜️ Чи працює підтвердження заявок на вивід  
⬜️ Чи працює ручна видача депозитів  
⬜️ Чи можна створити завдання  
⬜️ Чи бачимо аналітику  
⬜️ Чи працює доступ лише для @DimaOsadchuk та @a888bnd

---

### 9. База Даних
⬜️ Чи актуальні всі схеми (shared/schema.ts)  
⬜️ Чи всі транзакції через Drizzle ORM  
⬜️ Чи не використовується прямий SQL у нових частинах  
⬜️ Чи партиціонування працює (по датах транзакцій)  
⬜️ Чи не залишились дублікати: db-standard.ts, db-adapter.ts тощо

---

### 10. Дублікати, LSP-помилки, Структурні порушення
⬜️ Дублікати контролерів, роутів, сервісів  
⬜️ Порушення принципу єдиної відповідальності (SRP)  
⬜️ Порушення LSP у сервісах (методи замінені неочікувано)  
⬜️ Дублікати назв / id / логіки  
⬜️ Тимчасові рішення, *Fallback.ts / *original.ts — чи є?  
⬜️ Конфлікти у маршрутах або перевизначення

---

## ЗВІТНІСТЬ:

Після кожного блоку пиши:
- Чеклист з галочками  
- Виявлені проблеми (таблиця з: файл, рядок, проблема, наслідок)  
- Рекомендації (але **не реалізація**)

Фінально:  
- ✅ / ❌ Готовність до деплою  
- Пріоритетні блокери, якщо є  
- Висновок: чи система стабільна, консистентна і логічна