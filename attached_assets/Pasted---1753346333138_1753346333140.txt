–í–æ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π –∫–∞–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ **–∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã**:

---

üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–†–û–ß–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ü–ò–°–ê–ù–ò–Ø TON-–ë–ê–õ–ê–ù–°–û–í**

üö® **–ö–†–ò–¢–ò–ß–ù–û–ï –û–¢–ö–†–´–¢–ò–ï**: –í —Å–∏—Å—Ç–µ–º–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### üìå –¶–µ–ª—å:

–ü—Ä–æ–≤–µ—Å—Ç–∏ **–≥–ª—É–±–æ–∫—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞–ø–∏—Å–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ TON-–¥–µ–ø–æ–∑–∏—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—è—Å–Ω–∏—Ç—å **–≥–¥–µ –∏ –ø–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ** —Å—Ä–µ–¥—Å—Ç–≤ —Å –±–∞–ª–∞–Ω—Å–∞.

---

### üßæ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–±–ª–µ–º—ã:

* **User #25 (@DimaOsadchuk)**
* –ë–∞–ª–∞–Ω—Å –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º (FARMING\_REWARD): **+3.3 TON**
* –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å –≤ –ë–î: **0.31 TON**
* ‚ùóÔ∏è**–ù–µ–¥–æ—Å—Ç–∞–µ—Ç 2.99 TON**

---

### üìä –î–µ—Ç–∞–ª–∏:

* ‚úÖ 44 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ `FARMING_REWARD` ‚Üí +3.3 TON
* ‚úÖ 956 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π `REFERRAL_REWARD` (UNI)
* ‚ùå 0 –≤—ã–≤–æ–¥–æ–≤, —Å–ø–∏—Å–∞–Ω–∏–π –∏–ª–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö TON-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

---

### üîç –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–ì–¥–µ –∏–º–µ–Ω–Ω–æ –≤ –±–∞–∑–µ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–µ TON-–¥–µ–ø–æ–∑–∏—Ç—ã?**

   * –¢–∞–±–ª–∏—Ü—ã / –ø–æ–ª—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤—Ö–æ–¥—è—â–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã (FARMING\_REWARD).
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏ –∑–∞–ø–∏—Å–∏ –∏ —Ä–∞—Å—á–µ—Ç–∞ –ø–æ –Ω–∏–º.

2. **–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —ç—Ç–∏ TON-–¥–µ–ø–æ–∑–∏—Ç—ã?**

   * –í –∫–∞–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞—Ä—Å–∏–Ω–≥, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ.
   * –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–∫–∞—Ç / rollback, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞.

3. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã:**

   * `BalanceManager.subtractBalance(userId, ...)`
   * `BatchBalanceProcessor.processBulkSubtract(...)`
   * –õ—é–±—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ `balance_ton -=`

   üìÖ –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ø–æ—Å–ª–µ–¥–Ω–∏–µ **5 –¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ User #25**

4. **–í—ã—è–≤–∏—Ç—å, –±—ã–ª–∏ –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Å–∞–Ω–∏—è TON —É —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

   * –ü–æ –∫–∞–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º (rollback, –æ—Ç–∫–∞—Ç, –∫–æ–º–∏—Å—Å–∏—è –∏ —Ç.–¥.)
   * –ï—Å—Ç—å –ª–∏ –∑–∞–ø–∏—Å–∏ –æ–± —ç—Ç–∏—Ö —Å–ø–∏—Å–∞–Ω–∏—è—Ö –≤ –ª–æ–≥–∞—Ö/–∞—É–¥–∏—Ç–µ

---

### üß† –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

* üîÅ **–û—Ç–∫–∞—Ç—ã –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
* üßæ **–ù–µ–≤–∏–¥–∏–º—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ / –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è**
* üêû **–û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ `BalanceManager`**
* üîÑ **Rollback –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º**

---

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

* –ß–µ—Ç–∫–∏–π **—Ç—Ä–∞—Å—Å–∏–Ω–≥ –±–∞–ª–∞–Ω—Å–∞ User #25** ‚Äî –∫–æ–≥–¥–∞, –≥–¥–µ –∏ —Å–∫–æ–ª—å–∫–æ –±—ã–ª–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ / —Å–ø–∏—Å–∞–Ω–æ
* –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è: –ø–æ—á–µ–º—É **3.3 TON ‚Üí 0.31 TON**
* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏, –µ—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –±–∞–≥

---

‚è± **–°—Ä–æ—á–Ω–æ—Å—Ç—å: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç. –û—à–∏–±–∫–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–æ–≤–µ—Ä–∏–µ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É —É—á–µ—Ç—É.**
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–∞–π –æ—Ç—á—ë—Ç –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é —à–∞–±–ª–æ–Ω –¥–ª—è –ª–æ–≥–∞/–∞—É–¥–∏—Ç–∞.
