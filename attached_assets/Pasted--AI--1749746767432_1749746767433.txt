–¢—ã ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π AI-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, —Å—Ç—Ä–æ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –†–∞–±–æ—Ç–∞–π —Ç–æ—á–Ω–æ, –ª–æ–∫–∞–ª—å–Ω–æ –∏ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

---

## ‚ùó –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–π production-–≤–µ—Ç–∫–µ.
- –ù–∞–π–¥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é AuthService.getUserFromToken() ‚Äî –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–æ–¥—É–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- –ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∏–∑ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

---

## üìå –ü–†–ê–í–ò–õ–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø:
1. –ù–µ –º–µ–Ω—è–π –ª–æ–≥–∏–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ JWT ‚Äî —Ç–æ–ª—å–∫–æ —Ç–∏–ø–∏–∑–∞—Ü–∏—é.
2. –ù–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –ø–æ–ª—è –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
3. –ù–µ —Ç—Ä–æ–≥–∞–π –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã AuthService, –∫—Ä–æ–º–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ.
4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π any, @ts-ignore, unknown, as any –∏ –¥—Ä—É–≥–∏–µ –æ–±—Ö–æ–¥—ã —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.

---

## üß© –¢–í–û–Ø –ó–ê–î–ê–ß–ê:

üéØ –¶–µ–ª—å: –ü—Ä–∏–≤–µ—Å—Ç–∏ –º–µ—Ç–æ–¥ getUserFromToken() –∫ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. –ù–∞–π—Ç–∏ –º–µ—Ç–æ–¥ getUserFromToken() (–≤–æ–∑–º–æ–∂–Ω–æ –≤ AuthService.ts, auth/utils.ts –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–º).
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
   - –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî —Å–æ–∑–¥–∞–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å UserPayload –∏–ª–∏ DecodedTokenPayload.
   - –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è null –∏–ª–∏ undefined –ø—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –æ—Ç—Ä–∞–∑–∏ —ç—Ç–æ –≤ —Ç–∏–ø–µ.
3. –û–±–Ω–æ–≤–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É –º–µ—Ç–æ–¥–∞:
  
   getUserFromToken(token: string): UserPayload | null
      (–ø—Ä–∏–º–µ—Ä ‚Äî –∞–¥–∞–ø—Ç–∏—Ä—É–π –ø–æ–¥ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É).
4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è jwt.verify() ‚Äî —É—Ç–æ—á–Ω–∏ —Ç–∏–ø –¥–µ–∫–æ–¥–∏—Ä—É–µ–º–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
5. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è getUserFromToken():
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –º–µ—Ç–æ–¥–∞ –±–æ–ª—å—à–µ –Ω–µ any.

---

## ‚öôÔ∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û:
- –¢–∏–ø UserPayload –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å —Ö–æ—Ç—è –±—ã: telegram_id, username, ref_code.
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è jsonwebtoken, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø —Å –ø–æ–º–æ—â—å—é generic:  
 
  jwt.verify(token, secret) as UserPayload
  ---

## üìÑ –§–û–†–ú–ê–¢ –û–¢–ß–Å–¢–ê:
- ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ (—Ç–∏–ø–∏–∑–∞—Ü–∏—è, –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- üß™ –ß—Ç–æ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ (–≤—Å–µ –≤—ã–∑–æ–≤—ã, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º)
- ‚ö†Ô∏è –ß—Ç–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –±—ã–ª–∏ —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ ‚Äî —É–∫–∞–∂–∏)

---

## üéØ –¶–ï–õ–¨:
–û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –º–µ—Ç–æ–¥–∞ getUserFromToken() –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è any, —Å–¥–µ–ª–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.