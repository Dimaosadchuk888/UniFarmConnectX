–í–æ—Ç —Ç–æ—á–Ω—ã–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –ø–æ–¥ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∞—É–¥–∏—Ç —Ü–µ–ø–æ—á–∫–∏ Connect Wallet:

---

üìå **–ó–ê–î–ê–ß–ê: –ù–ï–ó–ê–í–ò–°–ò–ú–´–ô –ê–£–î–ò–¢ ConnectWallet ‚ûú –ë–ê–ó–ê –î–ê–ù–ù–´–•**

üéØ –¶–µ–ª—å:
–ü—Ä–æ–≤–µ—Å—Ç–∏ **–ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç —Ü–µ–ø–æ—á–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–ø–æ–∑–∏—Ç–∞ —á–µ—Ä–µ–∑ ConnectWallet**, –≤–∫–ª—é—á–∞—è **–≤—Å—ë: –æ—Ç –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**.

üìç –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

* **–ß–∏—Ç–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥**
* –ü—Ä–æ–π—Ç–∏—Å—å **–≤—Ä—É—á–Ω—É—é –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º**, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ **–∫–∞–∂–¥—ã–π —ç—Ç–∞–ø** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–ø–æ–∑–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
* –í—ã—è–≤–∏—Ç—å –ª—é–±—ã–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ **—Å–±–æ–∏, —É—è–∑–≤–∏–º–æ—Å—Ç–∏, —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏–∫–∏**
* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ **–≤—Å–µ –¥–µ–ø–æ–∑–∏—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
* –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ **—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –¥–µ–ø–æ–∑–∏—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**

---

üîç –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ ConnectWallet**

   * –ö–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
   * –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è (amount, userId, wallet address, hash –∏ —Ç.–¥.)
   * –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ backend**

   * –ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å
   * –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API
   * –ö–∞–∫–∏–µ –º–∏–¥–ª–≤–∞—Ä—ã/–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ backend**

   * –ì–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (`TransactionService.ts`, `DepositController.ts`, `ConnectWalletController.ts` –∏ —Ç.–¥.)
   * –ö–∞–∫–∏–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è
   * –ö–∞–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞ –¥—É–±–ª–∏, hash, —Ç–æ–∫–µ–Ω –∏ —Ç.–¥.)

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞**

   * –ì–¥–µ –∏ –∫–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `BalanceManager` / `updateBalance`
   * –ö–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–µ–ø–æ–∑–∏—Ç–∞ (TON, UNI)
   * –§–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `balance`, `balance_ton` –∏ —Ç.–ø.)

5. **–§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**

   * –í –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
   * –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ `transaction` + –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–∏ `balance`
   * –ï—Å—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ BOC hash –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è, –∏–ª–∏ JWT –ø—Ä–æ—Å—Ä–æ—á–µ–Ω)

6. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫**

   * –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
   * –ï—Å—Ç—å –ª–∏ retry –∏–ª–∏ fallback
   * –ö–∞–∫ —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∏–ª–∏ –Ω–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è)

---

üìÑ **–í –æ—Ç—á—ë—Ç–µ —É–∫–∞–∑–∞—Ç—å:**

* –ü–æ–ª–Ω—ã–π –ø—É—Ç—å: —Ñ–∞–π–ª ‚Üí —Ñ—É–Ω–∫—Ü–∏—è ‚Üí –∑–∞–ø—Ä–æ—Å ‚Üí –∑–∞–ø–∏—Å—å
* –õ—é–±—ã–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ **–ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏**
* –§–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, —á—Ç–æ –Ω–µ—Ç)
* –û—Ç–≤–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å: **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ª–∏ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞?**

üõë **–ù–µ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥.** –¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑, –≤—ã–≤–æ–¥—ã –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ.

–ñ–¥—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –ø–æ –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–µ ConnectWallet ‚Üí –ë–î.
