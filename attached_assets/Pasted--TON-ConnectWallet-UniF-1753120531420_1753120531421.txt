–ù–∞–º —Å–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–∏—ë–º–∞ TON —á–µ—Ä–µ–∑ ConnectWallet –≤–Ω—É—Ç—Ä–∏ UniFarm, –Ω–∞—á–∏–Ω–∞—è –æ—Ç —Ñ—Ä–æ–Ω—Ç–∞ (ConnectWallet), –∑–∞–∫–∞–Ω—á–∏–≤–∞—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∑–∞–ø–∏—Å—å—é –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—É–Ω–∫—Ç–∞–º:

---

### üß© –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏—ë–º–∞ TON –≤ UniFarm

1. –§—Ä–æ–Ω—Ç–µ–Ω–¥:

   * –ì–¥–µ –∏ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ TON (—ç–∫—Ä–∞–Ω, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî TonDepositCard.tsx?);
   * –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Tonkeeper-—Å—Å—ã–ª–∫–∏ –∏–ª–∏ QR-–∫–æ–¥–∞;
   * –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å —Ñ—Ä–æ–Ω—Ç–∞ (userId, Telegram initData, walletAddress, —Å—É–º–º–∞ –∏ —Ç.–ø.);
   * –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è, –∫–∞–∫–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏–ª–∏ —Ö—É–∫–∏ —É—á–∞—Å—Ç–≤—É—é—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å).

2. –°–µ—Ä–≤–µ—Ä (backend):

   * –ö–∞–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —É—á–∞—Å—Ç–≤—É—é—Ç –ø—Ä–∏ –ø—Ä–∏—ë–º–µ TON (–Ω–∞–ø—Ä–∏–º–µ—Ä: /api/wallet/tonDeposit, TonController.ts, `WalletController.ts`);
   * –ì–¥–µ –∏–º–µ–Ω–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç callback –æ—Ç –±–ª–æ–∫—á–µ–π–Ω–∞/—Ç–æ–Ω–∫–∏–ø–µ—Ä–∞ —Å —Ö—ç—à–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
   * –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –ø–æ JWT, telegram\_id, wallet\_address –∏–ª–∏ —á–µ–º—É-—Ç–æ –µ—â—ë;
   * –ö–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è processTonDeposit() (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è) –∏ —á—Ç–æ –µ–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è.

3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:

   * –ö–∞–∫–∏–µ –ø–æ–ª—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π;
   * –ö–∞–∫–æ–π —Å–≤—è–∑–∏ —Ö–≤–∞—Ç–∞–µ—Ç, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–ø–æ wallet, telegram\_id, userId?);
   * –ï—Å—Ç—å –ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞—á–∏—Å–ª–µ–Ω–∏–π –ø–æ –æ–¥–Ω–æ–º—É —Ö—ç—à—É;
   * –ö–∞–∫ –±—ã—Å—Ç—Ä–æ –∏ –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å (–∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ cron –µ–≥–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç?).

---

### üîç –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏

* –£–∫–∞–∂–∏ –≤—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —ç—Ç–æ–π —Ü–µ–ø–æ—á–∫–µ (–Ω–∞—á–∏–Ω–∞—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –º–æ–¥–µ–ª—å—é –ë–î);
* –ü—Ä–æ–≤–µ—Ä—å, –Ω–µ—Ç –ª–∏ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–æ–≤ –º–µ–∂–¥—É —Ç–µ–º, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ñ—Ä–æ–Ω—Ç–∞, –∏ —Ç–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è –Ω–∞ –±—ç–∫–µ;
* –£–∫–∞–∂–∏, –≤—Å–µ –ª–∏ –ø–æ–ª—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–ª—å—à–µ –±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π;
* –ü—Ä–æ–≤–µ—Ä—å, –µ—Å—Ç—å –ª–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, JWT –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –Ω–µ —Ç–æ–º—É, –∫—Ç–æ –æ–ø–ª–∞—Ç–∏–ª);
* –£—Ç–æ—á–Ω–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç getUserByTelegramId() –∏–ª–∏ getUserByWalletAddress() ‚Äî –∏ –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –≤—ã–∑–æ–≤—ã –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–µ–ø–æ–∑–∏—Ç–∞;
* –ü—Ä–æ–≤–µ—Ä—å, –µ—Å—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø—Ä–∏–Ω—è—Ç–∞ –æ—Ç Tonkeeper, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –±–∞–ª–∞–Ω—Å–µ –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏;
* –ü–æ—Å–º–æ—Ç—Ä–∏, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ processTonDeposit() –≤–æ –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, –∏–ª–∏ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–≥–¥–∞ –æ–Ω –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (–∏ –ø–æ—á–µ–º—É).

---

üí° –ù–∞—à–∞ —Ü–µ–ª—å:
–ü–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ TON-–¥–µ–ø–æ–∑–∏—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –≤—Å—é —Å–∏—Å—Ç–µ–º—É UniFarm, –∫–∞–∫–∏–µ —É –Ω–∞—Å —Ç–æ—á–∫–∏ —Ä–∏—Å–∫–∞, –∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —á—Ç–æ–±—ã:

* –ò—Å–∫–ª—é—á–∏—Ç—å —Å–±–æ–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
* –û–±–µ—Å–ø–µ—á–∏—Ç—å –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ Tonkeeper;
* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ, –∞ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏—à–ª–∏ –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –æ—Ç—á–µ—Ç–∞. –ï—Å–ª–∏ –µ—Å—Ç—å —Å—Ö–µ–º—ã (sequence diagram / data flow), —Ç–æ–∂–µ –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ.

–ñ–¥—ë–º!