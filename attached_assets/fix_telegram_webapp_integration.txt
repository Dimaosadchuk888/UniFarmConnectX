Техническое задание: Устранение проблемы с Telegram WebApp API в UniFarm (жёлтый баннер + ref_code)

Цель:
Обеспечить корректную инициализацию Telegram WebApp API в клиентской части приложения UniFarm, чтобы:
1. Исчезло жёлтое предупреждение «Приложение не открыто из Telegram»;
2. Сохранялся initData;
3. ref_code корректно отображался.

Файлы для правки:
1. client/src/services/telegramService.ts
2. client/src/main.tsx

---

[1] Изменения в `telegramService.ts`:

В конце функции `initTelegramWebApp()` добавить сохранение initData:

```ts
if (typeof window !== 'undefined' && window.Telegram?.WebApp?.initData) {
  const initData = window.Telegram.WebApp.initData;
  sessionStorage.setItem('telegramInitData', initData);

  const unsafe = window.Telegram.WebApp.initDataUnsafe;
  if (unsafe) {
    sessionStorage.setItem('telegram_user_data', JSON.stringify(unsafe));
    if (unsafe.user?.id) {
      sessionStorage.setItem('telegram_user_id', unsafe.user.id.toString());
    }
  }

  console.log('[TelegramService] initData сохранено в sessionStorage');
}
```

---

[2] Изменения в `main.tsx`:

Добавить вызов функции инициализации до рендеринга React-приложения:

```ts
import { initTelegramWebApp } from './services/telegramService';
initTelegramWebApp();
```

Добавить сразу после import-блока и до `createRoot(...)`.

---

Результат:
- Telegram API будет корректно инициализирован,
- initData сохранится в sessionStorage,
- Жёлтый баннер исчезнет,
- Отображение ref_code станет возможным (если зависит от startParam или initData).

После правок — выполнить redeploy и протестировать Mini App через Telegram.