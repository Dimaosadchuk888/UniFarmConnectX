–û—Ç–ª–∏—á–Ω–æ, —Ç–≤–æ–π –ø–æ–¥—Ö–æ–¥ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚Äî **–º—ã –Ω–µ –º–æ–∂–µ–º –ª–µ—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É, –ø–æ–∫–∞ –Ω–µ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∂–∏–≤—É—é, –∞–∫—Ç–∏–≤–Ω—É—é –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**, –∞ –Ω–µ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç, —Ç–µ–Ω–µ–≤–æ–π –∏–Ω—Å—Ç–∞–Ω—Å –∏–ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –∫–æ–ø–∏—é. –°–µ–π—á–∞—Å –∑–∞–¥–∞—á–∞ ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å *–≥–ª—É–±–æ–∫–æ–µ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤* **–±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∫–æ–¥**, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è:

* —Å –∫–∞–∫–∏–º *–∏–º–µ–Ω–Ω–æ* –∫–ª–∞—Å—Å–æ–º/–º–æ–¥—É–ª–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä (`TONBoostIncomeScheduler`? `TonFarmingScheduler`? —á—Ç–æ –∏–∑ –Ω–∏—Ö —Ä–µ–∞–ª—å–Ω–æ –Ω–∞ –ø—Ä–æ–¥–µ?);
* –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω –ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∫ **–¥—É–±–ª–∏–∫–∞—Ç–Ω–æ–π** –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–∞;
* –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å—Ç–∞—Ä—ã–π build (–∏–ª–∏ –±–∏–ª–¥ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏/–∏–º–ø–æ—Ä—Ç–∞–º–∏);
* –∫–∞–∫–∏–µ *—Ç–æ—á–Ω–æ* —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (`ton_farming_data` vs `ton_boost_data` –∏ –ø—Ä.);
* –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω –ª–∏ scheduler –∫ –ª–æ–∂–Ω–æ–º—É/—É—Å—Ç–∞—Ä–µ–≤—à–µ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é/—ç–∫—Å–ø–æ—Ä—Ç—É/–∏–º–ø–æ—Ä—Ç—É.

---

## ‚úÖ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: ¬´TON Boost ‚Äì –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–µ –∏–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—É¬ª

### üìÅ 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∏–º—è –∫–ª–∞—Å—Å–∞, —ç–∫—Å–ø–æ—Ä—Ç –∏ —Ñ–∞–π–ª**

* –ù–∞–π—Ç–∏ –≤ `modules/scheduler/tonBoostIncomeScheduler.ts`:

  * –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å?

    ```ts
    class TONBoostIncomeScheduler { ... }
    ```
  * –ö–∞–∫ –æ–Ω —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è?

    ```ts
    export const tonBoostIncomeScheduler = new TONBoostIncomeScheduler();
    ```

* **–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—à–∏–±–æ–∫**:

  * –ù–∞ –ø—Ä–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `tonFarmingScheduler`, –∞ –Ω–µ `tonBoostIncomeScheduler`
  * –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–µ —Ç–æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä
  * –í `server/index.ts` –ø–æ–¥–∫–ª—é—á–µ–Ω –Ω–µ —Ç–æ—Ç –æ–±—ä–µ–∫—Ç
  * –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞/–ø—É—Ç–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ FS (–Ω–∞–ø—Ä–∏–º–µ—Ä: `ton-boost-income-scheduler.ts` –≤ –ø–∞–ø–∫–µ `dist/`)

---

### üîé 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∏–º—è —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase**

–í `TonFarmingRepository` –∏–ª–∏ –º–æ–¥—É–ª–µ `tonBoostIncomeScheduler.ts`, –∏—â–µ–º:

```ts
this.tableName = 'ton_farming_data' // –∏–ª–∏ 'ton_boost_data'?
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

* **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã** –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö (`upsert`, `select`, `insert`)
* –°—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏ –≤ Supabase 2 —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã?

  * `ton_farming_data`
  * `ton_boost_data`
  * `boost_farming_data`
  * `ton_boost_farming`
* **–ö–∞–∫–∞—è –∏–∑ –Ω–∏—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø–∏—Å–∏?**

  * –ì–¥–µ –µ—Å—Ç—å `user_id = 74`?
  * –ì–¥–µ –µ—Å—Ç—å –ø–æ–ª–µ `farming_balance` –∏–ª–∏ `ton_farming_balance`?

---

### üõ†Ô∏è 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º–æ–π –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–∞

–í `server/index.ts`:

```ts
import { tonBoostIncomeScheduler } from '../modules/scheduler/tonBoostIncomeScheduler';
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

* –≠—Ç–æ—Ç –ø—É—Ç—å **—Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ä–µ–∞–ª—å–Ω–æ –≤ `dist/` –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏**?
* –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–¥-—Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ `pm2`, `node dist/index.js` –∏ —Ç.–ø.) ‚Äî **–∫–∞–∫–æ–π —Ñ–∞–π–ª –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ?**

üìå –ò—Å–ø–æ–ª—å–∑—É–π `console.log(__filename)` –≤ `tonBoostIncomeScheduler.ts`, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ª–∏ –∏–º–µ–Ω–Ω–æ –æ–Ω.

---

### üß± 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ "–º–µ—Ä—Ç–≤—ã—Ö" –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª):

```bash
find ./ -name "*tonBoost*"
find ./ -name "*scheduler*"
```

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏:

* –î—É–±–ª–∏–∫–∞—Ç—ã `tonBoostIncomeScheduler.ts`
* –°—Ç–∞—Ä—ã–µ –∫–æ–ø–∏–∏: `tonBoostIncomeScheduler.backup.ts`, `tonBoostScheduler_old.ts` –∏ —Ç.–ø.
* –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ª–æ–≥–∏–∫–∏, –≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—ç–∫—Å–ø–æ—Ä—Ç—ã

---

### üì¶ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ cron/setInterval –∏–Ω—Å—Ç–∞–Ω—Å–∞ (–≤ runtime)

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π `console.log()` –≤ –º–µ—Ç–æ–¥ `start()`:

```ts
console.log('TON BOOST STARTED at', new Date().toISOString());
```

–ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö —ç—Ç–æ **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è** ‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, **—ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω, –Ω–æ –º–µ—Ç–æ–¥ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**, –ª–∏–±–æ –≤–æ–æ–±—â–µ **–∏–º–ø–æ—Ä—Ç –¥—É–±–ª–∏–∫–∞—Ç–Ω—ã–π**.

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∞—É–¥–∏—Ç–∞ –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å:

| –ü—Ä–æ–≤–µ—Ä–∫–∞                         | –°—Ç–∞—Ç—É—Å | –í—ã–≤–æ–¥                                    |
| -------------------------------- | ------ | ---------------------------------------- |
| –ò–º–ø–æ—Ä—Ç `tonBoostIncomeScheduler` | ‚úÖ / ‚ùå  | –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –ø–æ–¥–∫–ª—é—á—ë–Ω                   |
| –≠–∫—Å–ø–æ—Ä—Ç/–∏–º—è –∫–ª–∞—Å—Å–∞               | ‚úÖ / ‚ùå  | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ?                      |
| –¢–∞–±–ª–∏—Ü–∞ –≤ Supabase               | ‚úÖ / ‚ùå  | –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞–∑–≤–∞–Ω–∞?     |
| –ü–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ                   | ‚úÖ / ‚ùå  | –ï—Å—Ç—å –ª–∏ –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ (`farming_balance`)  |
| –î—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤                 | ‚úÖ / ‚ùå  | –ï—Å—Ç—å –ª–∏ `*.old`, `*.copy`, `*.backup.ts` |
| –ó–∞–ø—É—Å–∫ `start()`                 | ‚úÖ / ‚ùå  | –ú–µ—Ç–æ–¥ —Ä–µ–∞–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è?                |
| –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤–Ω—É—Ç—Ä–∏           | ‚úÖ / ‚ùå  | –ü–æ–ø–∞–¥–∞—é—Ç –ª–∏ –≤ stdout?                    |

---

## üí¨ –•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —Å–æ—Å—Ç–∞–≤–∏–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –¢–ó –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –Ω–∞ —ç—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?

–Ø –º–æ–≥—É –≤—ã–¥–∞—Ç—å:

* üìã **–ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–µ –æ—Ç—á–µ—Ç–∞**
* ‚è≥ **–û–∂–∏–¥–∞–µ–º—ã–µ —à–∞–≥–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**
* üõ°Ô∏è –£—Ç–æ—á–Ω–µ–Ω–∏–µ: "‚ùå –ö–æ–¥ –∑–∞–ø—Ä–µ—â–µ–Ω–æ —Ç—Ä–æ–≥–∞—Ç—å, —Ü–µ–ª—å ‚Äî —á–∏—Å—Ç–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ"

–°–∫–∞–∂–∏ ‚Äî –¥–µ–ª–∞—é?
