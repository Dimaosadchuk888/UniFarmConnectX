–í–æ—Ç –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¢–ó –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏:

---

# üìã **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ê—É–¥–∏—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü**

## üéØ **–¶–µ–ª–∏ –∑–∞–¥–∞—á–∏:**

1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `transactions`.
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä—Ç–∏—Ü–∏–π.
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö, –≤–∫–ª—é—á–∞—è `partition_logs`.
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Neon —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏ –ø–∞—Ä—Ç–∏—Ü–∏–∏.
5. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö.
6. –ò—Å–∫–ª—é—á–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

---

## üìö **–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –ª–æ–≥–∞—Ö:**

* ‚ùå –û—à–∏–±–∫–∞: `SQL Error: column "error_message" of relation "partition_logs" does not exist`.
* ‚ùå –ü–∞—Ä—Ç–∏—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è: `Created 0 new partitions.`
* ‚ùå –õ–æ–≥–∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è.
* ‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ Partition Manager ‚Äî —Å–æ–∑–¥–∞—é—Ç—Å—è "–ø—É—Å—Ç—ã–µ" –ø–∞—Ä—Ç–∏—Ü–∏–∏ –∏–ª–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–æ–≤—Å–µ.

---

## ‚úÖ **–ó–∞–¥–∞—á–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

### 1. –ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:

* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–π (—Ñ–∞–π–ª `partition_manager.js` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π).
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–π –Ω–∞ 7 –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥.
* –í—ã—è–≤–∏—Ç—å, –ø–æ—á–µ–º—É –ø–∞—Ä—Ç–∏—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è (–æ—à–∏–±–∫–∏ –≤ –¥–∞—Ç–µ, –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä—Ç–∏—Ü–∏–π).

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã `partition_logs`:

* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `partition_logs` —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

  * `id SERIAL PRIMARY KEY`
  * `operation_type VARCHAR`
  * `partition_name VARCHAR`
  * `status VARCHAR`
  * `notes TEXT`
  * `error_message TEXT` ‚úÖ *–î–æ–±–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ—Ç!*
  * `created_at TIMESTAMP DEFAULT NOW()`
* –ï—Å–ª–∏ –ø–æ–ª–µ `error_message` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã `transactions` –∏ –µ—ë –ø–∞—Ä—Ç–∏—Ü–∏–π:

* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `transactions` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ –¥–∞—Ç–µ.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏, –≤ —Ñ–æ—Ä–º–∞—Ç–µ `transactions_YYYY_MM_DD`.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç ‚Äî RANGE, –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é ‚Äî LIST).
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫:

* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–π –∑–∞–ø–∏—Å–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∏—à—É—Ç—Å—è –≤ `partition_logs` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏.
* –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω –ª–æ–º–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–ª–µ–π.

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–æ–∫ –∫–æ–¥–∞:

* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Partition Manager, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤.
* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ try/catch –±–ª–æ–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ë–î Neon:

* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–π –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Neon.
* –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Ç–∏—Ü–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫—Ä–æ–Ω-–∑–∞–¥–∞—á—É –∏–ª–∏ —Å–µ—Ä–≤–∏—Å.

---

## üìÖ **–î–µ–¥–ª–∞–π–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

* –ê—É–¥–∏—Ç –∏ –æ—Ç—á–µ—Ç ‚Äî **–≤ —Ç–µ—á–µ–Ω–∏–µ 1 –¥–Ω—è**.
* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî **–¥–æ 2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –ø–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞**.

---

üìå **–í–Ω–∏–º–∞–Ω–∏–µ: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏. –ü—Ä—è–º—ã–µ –ø—Ä–∞–≤–∫–∏ –≤ –ë–î Neon –±–µ–∑ —Ñ–∏–∫—Å–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Äî –∑–∞–ø—Ä–µ—â–µ–Ω—ã.**

---

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –æ—Ñ–æ—Ä–º–∏–ª —ç—Ç–æ –≤ .txt –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–≥–µ–Ω—Ç—É? üòä
