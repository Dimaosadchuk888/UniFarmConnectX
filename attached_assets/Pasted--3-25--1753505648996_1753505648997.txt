Вот 3 последних технических задания, которые мы с тобой сформулировали вчера вечером (25 июля):

⸻

✅ 1. Техническое задание: Проверка подключения системы к полям базы данных

Цель:
Понять, какие поля в таблице реально запрашивает система, какие поля есть в базе, и куда именно система подключена. Нужно выявить расхождения между ожидаемыми полями и фактическими данными, к которым идет обращение.

Задачи:
 • Пройтись по ключевым запросам (через ORM или SQL).
 • Зафиксировать список полей, которые система пытается прочитать.
 • Сопоставить это с реальными колонками в базе данных.
 • Отдельно отметить:
 • Поля, которые запрашиваются, но отсутствуют.
 • Поля, которые есть, но не используются.
 • Проверить, на какой базе/таблице фактически выполняется каждый запрос.

⸻

✅ 2. Техническое задание: Диагностика дублирования TON-депозитов и остановки обновления баланса

Цель:
Выяснить, почему после деплоя система:
 1. Начала удваивать транзакции при пополнении TON.
 2. Баланс перестал обновляться, несмотря на успешное списание с кошелька.

Задачи:
 • Проверить логику обработки входящих транзакций.
 • Выяснить, по какому критерию происходит дедупликация (см. проблему с description ilike).
 • Проверить, обновляется ли balance после создания transaction.
 • Убедиться, что нет двойного вызова createTransaction() и updateBalance().
 • Протестировать на User #25 с реальной транзакцией.

⸻

✅ 3. Техническое задание: Диагностика отсутствия начисления и отображения пакета TON Boost

Цель:
Выяснить, почему при покупке TON Boost пакета:
 • Он не отобразился в списке активных пакетов.
 • Не начислился бонус (фарминг доход, ускорение и т.д.).

Задачи:
 • Проверить, фиксируется ли транзакция покупки в базе (по TON/внутреннему балансу).
 • Убедиться, что вызывается логика активации Boost-пакета.
 • Проверить, обновляется ли фарминг-параметры (speed, daily_income, packages_count и т.д.).
 • Посмотреть, не отключено ли отображение пакета в UI/фильтрации.
 • Сопоставить связку: User ➝ Wallet ➝ Purchase ➝ Boost ➝ Активные пакеты ➝ Фарминг доход.

⸻

Если нужно, я могу любой из этих пунктов преобразовать в задачу для разработчика или агента.