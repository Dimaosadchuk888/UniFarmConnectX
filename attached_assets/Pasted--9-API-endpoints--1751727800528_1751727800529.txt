‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ9: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö API endpoints

üéØ –¶–µ–ª—å:

–í–Ω–µ–¥—Ä–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö API —Ç–æ—á–µ–∫. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

‚∏ª

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ –∏–∑ –∞—É–¥–∏—Ç–∞:

‚ùå –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:

–ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö endpoints



‚∏ª

üìç 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ endpoints, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å:

Endpoint –û–ø–∏—Å–∞–Ω–∏–µ
/api/v2/boost/packages –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Boost-–ø–∞–∫–µ—Ç–æ–≤
/api/v2/wallet/transactions –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/api/v2/ton/verify –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è TON-–ø–ª–∞—Ç–µ–∂–∞
/api/v2/farming/deposits –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/api/v2/user/profile –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/api/v2/ws/status WebSocket —Å—Ç–∞—Ç—É—Å (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)


‚∏ª

üìÅ 2. –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

üîß A. –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å modules/monitor/
 ‚Ä¢ –í–∫–ª—é—á–∞–µ—Ç:
 ‚Ä¢ monitor.controller.ts
 ‚Ä¢ monitor.service.ts
 ‚Ä¢ monitor.routes.ts

üõ† B. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint /api/v2/monitor/status
 ‚Ä¢ –ú–µ—Ç–æ–¥: GET
 ‚Ä¢ –û—Ç–≤–µ—Ç JSON –≤–∏–¥–∞:

{
  "boostPackages": "OK",
  "walletTransactions": "OK",
  "verifyTon": "FAIL",
  "userProfile": "OK",
  "farmingDeposits": "OK"
}

 ‚Ä¢ –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ ‚Äî —Å—Ç–∞—Ç—É—Å: "FAIL" + –ª–æ–≥ –ø—Ä–∏—á–∏–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: "500 Internal Server Error")

üîÅ C. –ü–∏–Ω–≥–æ–≤–∞—Ç—å endpoints —á–µ—Ä–µ–∑ internal fetch

–ü—Ä–∏–º–µ—Ä:

const res = await fetch(`${BASE_URL}/api/v2/boost/packages`);
if (!res.ok) return "FAIL";

 ‚Ä¢ –¢–∞–π–º–∞—É—Ç: 5 —Å–µ–∫—É–Ω–¥
 ‚Ä¢ –ú–µ—Ç–æ–¥: GET
 ‚Ä¢ –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–æ–∫–µ–Ω—ã ‚Äî –¥–µ–ª–∞–µ—Ç—Å—è –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

‚∏ª

üß™ D. –õ–æ–≥–∏–∫–∞
 ‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ cron (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
 ‚Ä¢ –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ /verify ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞)

‚∏ª

‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
 ‚Ä¢ Endpoint /api/v2/monitor/status —Ä–∞–±–æ—Ç–∞–µ—Ç
 ‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º—É API
 ‚Ä¢ –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫
 ‚Ä¢ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–æ–¥—É–ª–µ monitor

‚∏ª

üìÑ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
 ‚Ä¢ ‚úîÔ∏è –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ ping-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
 ‚Ä¢ ‚úîÔ∏è JSON-–æ—Ç–≤–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
 ‚Ä¢ ‚úîÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
 ‚Ä¢ ‚úîÔ∏è –ü–ª–∞–Ω –Ω–∞ –±—É–¥—É—â–µ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–¥–º–∏–Ω-–±–æ—Ç–æ–º)

‚∏ª

üß© –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
 ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏—Ç—å ‚Äú–∂–∏–≤–æ—Å—Ç—å‚Äù —Å–∏—Å—Ç–µ–º—ã
 ‚Ä¢ –õ—ë–≥–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
 ‚Ä¢ –ü–µ—Ä–≤–∞—è –±–∞–∑–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ –≤ –±—É–¥—É—â–µ–º