–í–æ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –º–æ–∂–µ—à—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–≥–µ–Ω—Ç—É, —á—Ç–æ–±—ã –æ–Ω **–¥–∞–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ**:
–∫–∞–∫ **—Å–∏—Å—Ç–µ–º–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç Telegram ID –∏ –∫–æ—à–µ–ª—ë–∫** –≤ –º–æ–º–µ–Ω—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ TON,
–∏ –º–æ–≥ –ª–∏ –∏–º–µ–Ω–Ω–æ **–º–µ—Ö–∞–Ω–∏–∑–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π —Ç–æ–≥–æ,
—á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –∑–∞—á–∏—Å–ª—è–µ—Ç—Å—è:

---

üëã –ü—Ä–∏–≤–µ—Ç!

–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç, –≤—Å—ë –æ—á–µ–Ω—å —è—Å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ. –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ **–æ–¥–Ω–æ–º—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º—É –º–æ–º–µ–Ω—Ç—É**, —Å–≤—è–∑–∞–Ω–Ω–æ–º—É —Å –ø.‚ÄØ8.1:
**"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ Telegram ID ‚Üí fallback –Ω–∞ wallet\_address"**.

üéØ **–ù—É–∂–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ –ø–æ—è—Å–Ω–∏—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —É –Ω–∞—Å —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å–≤—è–∑–∫–∞ Telegram ID –∏ TON-–∫–æ—à–µ–ª—å–∫–∞** –≤ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ê –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ:

---

### üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:

1. **–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∫–æ—à–µ–ª—ë–∫ —á–µ—Ä–µ–∑ TonConnect –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è wallet\_address**:

   * –ì–¥–µ –∏ –∫–∞–∫ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è `telegram_id`?
   * –ò–∑ –∫–∞–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ–Ω –±–µ—Ä—ë—Ç—Å—è (JWT, initData, –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —Å —Ñ—Ä–æ–Ω—Ç–∞)?

2. **–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ `/ton-deposit`**:

   * –ü–æ—á–µ–º—É `getUserByTelegramId()` –º–æ–∂–µ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ Telegram ID —Ç–æ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –≤ JWT?
   * –ï—Å—Ç—å –ª–∏ –∫–µ–π—Å—ã, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ `telegram_id` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω/–Ω–µ –∞–∫—Ç—É–∞–ª–µ–Ω –≤ –ë–î?

3. **Fallback –ø–æ wallet\_address**:

   * –ú–æ–∂–µ—Ç –ª–∏ –±—ã—Ç—å —Å–∏—Ç—É–∞—Ü–∏—è, —á—Ç–æ –∞–¥—Ä–µ—Å —É–∂–µ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ `users`, –Ω–æ –æ–Ω **–Ω–µ —Å–≤—è–∑–∞–Ω —Å –Ω—É–∂–Ω—ã–º Telegram ID**?
   * –ö–∞–∫ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–≥–∏–∫–∞: –º—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º –ø–æ –∞–¥—Ä–µ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –≤—Å—ë –∂–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π (–∫–∞–∫ –≤ `getOrCreateUserFromTelegram`)?

4. **–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**:

   * –ú–æ–∂–µ—Ç –ª–∏ –±—ã—Ç—å —Ç–∞–∫, —á—Ç–æ:

     * –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –æ–¥–Ω–∏–º JWT (–æ–¥–Ω–∏–º Telegram ID),
     * –∞ –∞–¥—Ä–µ—Å TON-–∫–æ—à–µ–ª—å–∫–∞ —É–∂–µ —Å–≤—è–∑–∞–Ω —Å –¥—Ä—É–≥–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º –≤ –±–∞–∑–µ,
     * –∏–∑-–∑–∞ —á–µ–≥–æ –∑–∞–ø—Ä–æ—Å `/ton-deposit` –Ω–µ –º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º?

---

### üß© –¶–µ–ª—å:

–ü–æ–Ω—è—Ç—å, **–≥–¥–µ –∏–º–µ–Ω–Ω–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ Telegram ID ‚Üî wallet\_address**,
–∏ –º–æ–∂–Ω–æ –ª–∏ —ç—Ç–æ —Å—á–∏—Ç–∞—Ç—å –≥–ª–∞–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π, –ø–æ –∫–æ—Ç–æ—Ä–æ–π `processTonDeposit()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.
–≠—Ç–æ –≤–∞–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç, –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è,
–Ω–æ –æ–Ω–∏ –Ω–µ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è **–∏–∑-–∑–∞ —Å–±–æ—è –≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.

---

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏ **—Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ª–æ–≥–∏–∫–∏ Telegram ID + wallet**,
–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ –µ—ë –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∫ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–π, —É—Å—Ç–æ–π—á–∏–≤–æ–π —Å—Ö–µ–º–µ,
—á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å —Ç–∞–∫–∏–µ —Å–±–æ–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ñ–¥—ë–º!
