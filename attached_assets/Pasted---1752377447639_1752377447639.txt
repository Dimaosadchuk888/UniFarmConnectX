–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π **—Ç–æ—á–Ω—ã–π –ø—Ä–æ–º—Ç**, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–≥–µ–Ω—Ç—É **–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ —Ä–∞–±–æ—Ç—ã**. –û–Ω —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ **–ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏–π**, **–≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏**, –∏ —Ç—Ä–µ–±—É–µ—Ç **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π** –ø–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –ø—Ä–∞–≤–æ–∫.

---

### üß† –ó–ê–î–ê–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤–æ–∫ –≤ UniFarming

–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –ø–æ –∑–∞–º–µ–Ω–µ `farmer.id` ‚Üí `farmer.user_id` –≤ `farmingScheduler.ts` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

---

### ‚úÖ **–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞**:

1. **–ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π**:

   * –ö–∞–∫–∏–µ **—Ñ–∞–π–ª—ã**, **—Ñ—É–Ω–∫—Ü–∏–∏**, **–º–æ–¥—É–ª–∏** –∏—Å–ø–æ–ª—å–∑—É—é—Ç `farmer.id`, `farmer.user_id`, –∏ –≥–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç**?
   * –ï—Å—Ç—å –ª–∏ **–¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —ç—Ç–∏–º `id`, –∏ –º–æ–≥—É—Ç –ø–æ—Å—Ç—Ä–∞–¥–∞—Ç—å –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è?

2. **–ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ù–ï –≤—ã–∑–æ–≤—É—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤**:

   * –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ `farmer.id` –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.
   * –£–∫–∞–∂–∏—Ç–µ **—Ç–æ—á–Ω–æ**, –ø–æ—á–µ–º—É –∑–∞–º–µ–Ω–∞ `farmer.id` –Ω–∞ `farmer.user_id` **–Ω–µ –Ω–∞—Ä—É—à–∏—Ç** –¥—Ä—É–≥–∏–µ —Ü–µ–ø–æ—á–∫–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ `UnifiedTransactionService`, `NotificationService`, `BatchBalanceProcessor`, `referralRewardProcessor` –∏ —Ç.–¥.).

3. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –ø—Ä–∞–≤–∫–∏ –ø–æ–≤–ª–∏—è—é—Ç –¢–û–õ–¨–ö–û –Ω–∞ —Ä–∞—Å—á—ë—Ç FARMING\_REWARD**, –∏ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç:

   * –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ (TON Boost, –º–∏—Å—Å–∏–∏, –±–æ–Ω—É—Å—ã –∏ —Ç.–¥.)
   * –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤
   * –°–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ WebSocket

4. **–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**:

   * –ö–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–≤—É—é—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ (`user_id: number` –ø—Ä–æ—Ç–∏–≤ `id: string`)?
   * –ì–¥–µ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ `supabase.from('transactions').insert(...)`, –∏ –∫–∞–∫ –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã?

---

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ:

* –ü–æ—á–µ–º—É –≤–∞—à–∏ –ø—Ä–∞–≤–∫–∏ ‚Äî **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã**?
* –ü–æ—á–µ–º—É –æ–Ω–∏ –Ω–µ —Å–ª–æ–º–∞—é—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã?
* –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ `farmingScheduler.ts` –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `user_id`, –∞ –Ω–µ `id`?

---

### üß™ –î–∞–ª–µ–µ:

–ü–æ—Å–ª–µ –≤–∞—à–µ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –º—ã –¥–∞–¥–∏–º —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
–î–æ —ç—Ç–æ–≥–æ ‚Äî **–∫–æ–¥ –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å**.

---

üìç –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —ç—Ç–æ **–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ –º–Ω–µ–Ω–∏–µ**, –∞ **–¥–æ–∫–∞–∑—É–µ–º—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä**: —Å —Ñ–∞–π–ª–∞–º–∏, —Ç–∏–ø–∞–º–∏, —Å–≤—è–∑—è–º–∏, –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏ –≤—ã–≤–æ–¥–∞–º–∏.
