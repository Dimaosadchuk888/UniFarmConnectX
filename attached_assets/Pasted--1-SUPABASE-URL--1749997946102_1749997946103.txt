‚úÖ –£–†–û–í–ï–ù–¨ 1. –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø
–°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –ì–û–¢–û–í–û

‚úÖ SUPABASE_URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—á–∞—è (https://wunnsvicbebssrjqedor.supabase.co)
‚úÖ SUPABASE_KEY –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (–¥–ª–∏–Ω–∞ 208 —Å–∏–º–≤–æ–ª–æ–≤, JWT —Ñ–æ—Ä–º–∞—Ç)
‚úÖ TELEGRAM_BOT_TOKEN –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (7980427501:AAH...)
‚úÖ JWT_SECRET —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (32+ —Å–∏–º–≤–æ–ª–æ–≤)
‚úÖ SESSION_SECRET —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á)
‚ùå –ö–†–ò–¢–ò–ß–ù–û: –ù–∞–π–¥–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: DATABASE_URL, PGHOST, PGUSER, PGPASSWORD, PGDATABASE, PGPORT
‚úÖ –£–†–û–í–ï–ù–¨ 2. –ë–ê–ó–ê –î–ê–ù–ù–´–• SUPABASE
–°—Ç–∞—Ç—É—Å: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û

‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—É—Å–ø–µ—à–Ω—ã–π API –∑–∞–ø—Ä–æ—Å)
‚úÖ –¢–∞–±–ª–∏—Ü–∞ users —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (22 –ø–æ–ª—è –≤–∫–ª—é—á–∞—è telegram_id, ref_code, –±–∞–ª–∞–Ω—Å—ã)
‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Supabase API
‚úÖ –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID:4 —Å –∞–∫—Ç–∏–≤–Ω—ã–º —Ñ–∞—Ä–º–∏–Ω–≥–æ–º)
‚úÖ –£–†–û–í–ï–ù–¨ 3. –ú–û–î–£–õ–ò –°–ò–°–¢–ï–ú–´
–°—Ç–∞—Ç—É—Å: ‚úÖ –°–¢–†–£–ö–¢–£–†–ê –ì–û–¢–û–í–ê

–ü–æ–ª–Ω—ã–µ –º–æ–¥—É–ª–∏ (controller.ts + service.ts + routes.ts + types.ts):

‚úÖ auth, user, farming, wallet, boost, missions, referral, dailyBonus, telegram, tonFarming, transactions, admin, monitor
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:

‚úÖ model.ts —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–¥—É–ª—è—Ö
‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π index.ts —Å —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚ö†Ô∏è –£–†–û–í–ï–ù–¨ 4. API ENDPOINTS
–°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

‚úÖ /api/v2/health —Ä–∞–±–æ—Ç–∞–µ—Ç (200 OK)
‚ùå /api/v2/missions/list –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 (Route not found)
‚ùå /api/v2/farming/start –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 (Route not found)
‚ö†Ô∏è –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ server/routes.ts –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –Ω–æ –Ω–µ –≤—Å–µ –ø–æ–¥–º–∞—Ä—à—Ä—É—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã
‚úÖ –£–†–û–í–ï–ù–¨ 5. –ö–û–ù–¢–†–û–õ–õ–ï–†–´
–°—Ç–∞—Ç—É—Å: ‚úÖ –°–¢–†–£–ö–¢–£–†–ù–û –ì–û–¢–û–í–´

–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:

‚úÖ AuthController, UserController, FarmingController, WalletController
‚úÖ MissionsController, ReferralController, BoostController
‚úÖ DailyBonusController, TelegramController, AdminController
‚úÖ TonFarmingController, TransactionsController, MonitorController
‚úÖ –í—Å–µ –∏–º–µ—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ try/catch –±–ª–æ–∫–∏
‚ö†Ô∏è –£–†–û–í–ï–ù–¨ 6. –°–ï–†–í–ò–°–´
–°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò

–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã —Å Supabase API:

‚úÖ AuthService, UserService, WalletService, FarmingService
‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ–∞–π–ª—ã (service.ts + service-supabase.ts)
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚úÖ –£–†–û–í–ï–ù–¨ 7. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í–û

‚úÖ Middleware: auth.ts, telegramAuth.ts, adminAuth.ts –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
‚úÖ CORS middleware: cors.ts –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ Error handler: errorHandler.ts —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—â–µ–Ω–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ requireTelegramAuth –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
‚ö†Ô∏è –£–†–û–í–ï–ù–¨ 8. TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø
–°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –ì–û–¢–û–í–û

‚úÖ Webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω (/webhook, /telegram/webhook)
‚úÖ TelegramController.ts —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
‚úÖ TelegramService.ts –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚úÖ telegramAuth.ts middleware –∞–∫—Ç–∏–≤–µ–Ω
‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ 401 Unauthorized –≤ –∫–æ–Ω—Å–æ–ª–∏ (initData –ø—Ä–æ–±–ª–µ–º—ã)
‚úÖ –£–†–û–í–ï–ù–¨ 9. FRONTEND
–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í–û

‚úÖ HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å React (#root)
‚úÖ manifest.json –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
‚úÖ –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è Telegram WebApp –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
‚úÖ Telegram WebApp —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω (https://telegram.org/js/telegram-web-app.js)
‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp —Ä–∞–±–æ—Ç–∞–µ—Ç (ready(), expand() –≤—ã–∑—ã–≤–∞—é—Ç—Å—è)
‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É—é—Ç—Å—è (401 –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏)
‚úÖ –£–†–û–í–ï–ù–¨ 10. –°–ò–°–¢–ï–ú–ù–´–ï –§–ê–ô–õ–´
–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í–û

‚úÖ server/index.ts –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚úÖ server/routes.ts —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚úÖ core/config.ts –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ core/supabase.ts –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚úÖ client/ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å pages, components
‚úÖ core/logger.ts –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚ö†Ô∏è –£–†–û–í–ï–ù–¨ 11. –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –î–ï–ü–õ–û–Æ
–°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –ü–û–ß–¢–ò –ì–û–¢–û–í–û

‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ health –ø—Ä–æ–≤–µ—Ä–∫–∏
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (401 –æ—à–∏–±–∫–∏)
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–ª–æ—Å—Ç–Ω–∞—è
üßæ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢
–ì–û–¢–û–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase (100%)
‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å middleware (100%)
‚úÖ Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)
‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (100%)

–ü–†–û–ë–õ–ï–ú–ù–´–ï –û–ë–õ–ê–°–¢–ò:
‚ö†Ô∏è API –º–∞—Ä—à—Ä—É—Ç—ã (70% - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ 404)
‚ö†Ô∏è Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (60% - 401 –æ—à–∏–±–∫–∏)
‚ùå Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (30% - –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–õ–û–ö–ï–†–´:
Environment –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã - —Å—Ç–∞—Ä—ã–µ PG* –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç 401 –æ—à–∏–±–∫–∏
API –º–∞—Ä—à—Ä—É—Ç—ã - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404
üí¨ –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°:
üü° –ü–û–ß–¢–ò –ì–û–¢–û–í–û (75% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
–°–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –Ω–∞ 75%, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–µ—Ä–æ–≤ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏—á–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã.

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç—Ä–∞–Ω–∏—Ç—å: –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram, –∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å API –º–∞—Ä—à—Ä—É—Ç—ã.