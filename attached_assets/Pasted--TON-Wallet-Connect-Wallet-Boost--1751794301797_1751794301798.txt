‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ TON Wallet (Connect Wallet + Boost)

üéØ –¶–µ–ª—å:

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ Boost, –¥–æ –∑–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ TON –≤ —Å–∏—Å—Ç–µ–º–µ:
 ‚Ä¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ (Tonkeeper, Wallet)
 ‚Ä¢ –°–ø–∏—Å–∞–Ω–∏–µ TON —Å –∫–æ—à–µ–ª—å–∫–∞
 ‚Ä¢ –ü–æ—è–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ Supabase
 ‚Ä¢ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ –≤ Farming
 ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
 ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö—ç—à–∏

‚∏ª

üì¶ 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–≤ –∫–æ–¥–µ)

üß© –ú–æ–¥—É–ª–∏:
 ‚Ä¢ modules/boost/controller.ts ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ createTransaction, confirmBoost
 ‚Ä¢ modules/transactions/ ‚Üí —Ñ–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
 ‚Ä¢ modules/wallet/ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ stateless/TON
 ‚Ä¢ client/src/components/BoostModal.tsx ‚Üí frontend –ª–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è connect wallet
 ‚Ä¢ client/src/pages/Farming.tsx ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—É—Å—Ç–æ–≤

üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞:
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ TON Connect –≤ –ø—Ä–æ–µ–∫—Ç–µ (@tonconnect/sdk, TonConnectUI)
 ‚Ä¢ –ü—Ä–æ–ø–∏—Å–∞–Ω –ª–∏ ton-proof (TON-—Å–∏–≥–Ω–∞—Ç—É—Ä–∞)
 ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ BoostModal —Å–æ–∑–¥–∞–µ—Ç—Å—è payload —Å –∞–¥—Ä–µ—Å–æ–º –∏ —Å—É–º–º–æ–π
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ (–∏–ª–∏ QR), –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ –≤ Tonkeeper
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ onTransactionSuccess ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ–∏–∫—Å–∞—Ç–æ—Ä –≤ –±–∞–∑–µ

‚∏ª

üß∑ 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π (—Ç–µ—Å—Ç –≤—Ä—É—á–Ω—É—é)

–®–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

–≠—Ç–∞–ø –ß—Ç–æ –¥–µ–ª–∞–µ–º –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏
1 –û—Ç–∫—Ä—ã—Ç—å Farming ‚Üí –ù–∞–∂–∞—Ç—å –Ω–∞ Boost –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è BoostModal
2 –í—ã–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Starter Boost) –ü–æ—è–≤–ª—è–µ—Ç—Å—è QR –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ‚Äú–û–ø–ª–∞—Ç–∏—Ç—å‚Äù
3 –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ TON Wallet –ö–æ—à–µ–ª–µ–∫ —Å–ø–∏—Å—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—É–º–º—É
4 –û—Ç–∫—Ä—ã—Ç—å Supabase ‚Üí –¢–∞–±–ª–∏—Ü–∞ transactions –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å tx_hash, user_id, amount, status=confirmed
5 –û—Ç–∫—Ä—ã—Ç—å boost_purchases –î–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è boost —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–µ—Ç–∫–æ–π (—Ç–∏–ø, –ø—Ä–æ—Ü–µ–Ω—Ç, –¥–∞—Ç–∞)
6 –°—Ç—Ä–∞–Ω–∏—Ü–∞ Farming ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Boost –ê–∫—Ç–∏–≤–Ω—ã–π Boost –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (—Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è, –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º)
7 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Wallet ‚Üí –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏–ª—Å—è –£–º–µ–Ω—å—à–µ–Ω –Ω–∞ —Å—É–º–º—É TON (–∏–ª–∏ –ø–æ—è–≤–∏–ª—Å—è Boost-–±–æ–Ω—É—Å)


‚∏ª

üìç 3. –ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫ –∏ —á—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ì–¥–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –†–µ—à–µ–Ω–∏–µ
‚ùå –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è modules/transactions/controller.ts –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å tx_hash, user_id, currency, amount, status
‚ùå Boost –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è modules/boost/service.ts –ü—Ä–æ–≤–µ—Ä–∏—Ç—å createBoostPurchase, confirmBoostPurchase
‚ùå –ó–∞–ø—Ä–æ—Å –∫ wallet –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è BoostModal.tsx –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tonConnect.sendTransaction()
‚ùå –ù–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å wallet/balanceUpdater.ts –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ transactions/model.ts –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ –≤—ã–∑–≤–∞–Ω save()
‚ùå –û—à–∏–±–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å DevTools –ü—Ä–æ–≤–µ—Ä–∏—Ç—å stack trace –∏ fetch()


‚∏ª

üõ° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
 ‚Ä¢ üîê –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ Boost –±–µ–∑ tx_hash –∏ status = success
 ‚Ä¢ üîÅ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ø–æ–∫—É–ø–∫–∏
 ‚Ä¢ üìâ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏: –æ—Ç–º–µ–Ω–∞ –æ–ø–ª–∞—Ç—ã, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
 ‚Ä¢ üìä –õ–æ–≥–∏: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ transactions, boost_purchases –∏ user_balances

‚∏ª

‚úÖ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

–ü–æ–ø—Ä–æ—Å–∏ –∞–≥–µ–Ω—Ç–∞:
 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å 2 —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Tonkeeper –∏ Wallet
 2. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
 3. –ü—Ä–∏—Å–ª–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
 ‚Ä¢ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ Supabase ‚úÖ
 ‚Ä¢ Boost –∞–∫—Ç–∏–≤–µ–Ω ‚úÖ
 ‚Ä¢ –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—ë–Ω ‚úÖ
 ‚Ä¢ UI –±–µ–∑ –æ—à–∏–±–æ–∫ ‚úÖ

‚∏ª

üí¨ –§–∏–Ω–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç:

‚Äú–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ TonConnect —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–∞—Ö. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–∏—ë–º—É —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–ø–ª–∞—Ç.‚Äù