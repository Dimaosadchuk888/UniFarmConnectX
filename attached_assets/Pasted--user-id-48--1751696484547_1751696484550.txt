üß™ üìã –ß–∏—Å—Ç–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ user_id = 48

üîí –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–∞–≤–æ–∫. –¢–æ–ª—å–∫–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç.

‚∏ª

üîç 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ user_id = 48 –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
 ‚Ä¢ telegram_id (—á–∏—Å–ª–æ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É Telegram-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é?)
 ‚Ä¢ username, first_name, last_name
 ‚Ä¢ –°—Ç–∞—Ç—É—Å is_active, banned, –∏ –¥—Ä—É–≥–∏–µ —Ñ–ª–∞–≥–∏
 ‚Ä¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ (—Ç–æ–Ω–Ω –±–∞–ª–∞–Ω—Å, boost, farming –∏ —Ç.–¥.)
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–∑–¥–∞—é—Ç—Å—è –ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ boost-–∑–∞–ø–∏—Å–∏ –Ω–∞ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

‚∏ª

üîç 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 ‚Ä¢ –í auth/telegram.ts, auth/service.ts, UserController ‚Äî –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç user_id = 48
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ –ø—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

if (!user) user = getUserById(48);


 ‚Ä¢ –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ fallback‚Äô–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ 48 –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö?

‚∏ª

üîç 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Ö–∞—Ä–¥–∫–æ–¥ user_id = 48

–ò—Å–∫–∞—Ç—å:
 ‚Ä¢ 48 –∏–ª–∏ user_id = 48
 ‚Ä¢ user?.id === 48
 ‚Ä¢ userId = 48
 ‚Ä¢ return 48
(–∏ –¥—Ä—É–≥–∏–µ –ø–æ–¥–æ–±–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã:
 ‚Ä¢ middleware, auth, controller, tonBoost, transactions, userContext.tsx, farming, –∏ —Ç.–ø.

–û—Ç–º–µ—Ç–∏—Ç—å:
 ‚Ä¢ –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã –≤ –ø—Ä–æ–¥–µ,
 ‚Ä¢ –∫–∞–∫–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–µ–≤—å—é

‚∏ª

üîç 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram
 ‚Ä¢ –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram Mini App:
 ‚Ä¢ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç user_id = 48 –ø–æ telegram_id?
 ‚Ä¢ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JWT?
 ‚Ä¢ –≥–¥–µ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (telegramJWT, unifarm_jwt_token)?

–û—Ç—Å–ª–µ–¥–∏—Ç—å:
 ‚Ä¢ –¥–∞–Ω–Ω—ã–µ –≤ initDataUnsafe.user
 ‚Ä¢ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ë–î
 ‚Ä¢ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ç–æ–∫–µ–Ω–µ (payload)

‚∏ª

üîç 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å LocalStorage –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ Preview
 ‚Ä¢ –ö–∞–∫–æ–π —Ç–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–≤—å—é
 ‚Ä¢ –ö–∞–∫–æ–π –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
 ‚Ä¢ –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ /auth/telegram –∏–ª–∏ –¥—Ä—É–≥–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
 ‚Ä¢ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ª–∏ user_id = 48 –Ω–∞–ø—Ä—è–º—É—é –≤ frontend

‚∏ª

üîç 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª–∏ –Ω–∞ –∂—ë—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç 48

–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ:
 ‚Ä¢ farming, boost, transactions, income, referral, wallet, dashboard
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ö–∞—Ä–¥–∫–æ–¥ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ user_id=48?

‚∏ª

üìå –í—ã–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∞–≥–µ–Ω—Ç

–í –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ï—Å—Ç—å —Ö–∞—Ä–¥–∫–æ–¥? –ì–¥–µ –Ω–∞–π–¥–µ–Ω –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ù—É–∂–Ω–æ –ª–∏ –ø—Ä–∞–≤–∏—Ç—å
JWT ‚ùå / ‚úÖ auth/telegram.ts ‚Ä¶ ‚Ä¶
Middleware ‚ùå / ‚úÖ telegramAuth.ts ‚Ä¶ ‚Ä¶
Boost ‚ùå / ‚úÖ service.ts ‚Ä¶ ‚Ä¶
‚Ä¶ ‚Ä¶ ‚Ä¶ ‚Ä¶ ‚Ä¶