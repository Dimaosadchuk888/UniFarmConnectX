‚∏ª

üü© –ó–û–õ–û–¢–û–ô –ü–†–û–ú–¢: –§–∏–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∑–∞–ø—É—Å–∫–æ–º

üîß –¶–µ–ª—å:
–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã UniFarm, —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—à–∏–±–∫–∏, –ø—Ä–æ–±–ª–µ–º—ã –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Supabase API –∏ –¥–µ–ø–ª–æ—è Telegram Mini App.

‚∏ª

‚ùó –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:
 ‚Ä¢ –ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–π –æ—à–∏–±–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π.
 ‚Ä¢ –ù–µ –≤–Ω–æ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º—É.
 ‚Ä¢ –û—Ç—á–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å—Ç—ã–º, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –±–µ–∑ –ª–∏—à–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

‚∏ª

‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
 1. Webhook
 ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ production URL, –∞ –Ω–µ –Ω–∞ dev-—Å—Å—ã–ª–∫—É
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: https://<...>.replit.dev/webhook ‚Äî –µ—Å–ª–∏ dev, —ç—Ç–æ –æ—à–∏–±–∫–∞
 2. initData –∏ Telegram
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç window.Telegram.WebApp.initData
 ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ telegram_id, username –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
 3. .env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: DATABASE_URL, PGHOST, PGUSER)
 ‚Ä¢ –î–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ:

SUPABASE_URL=
SUPABASE_KEY=
TELEGRAM_BOT_TOKEN=
JWT_SECRET=
SESSION_SECRET=


 4. –û—à–∏–±–∫–∏ API
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
 ‚Ä¢ HTTP 500 / 404
 ‚Ä¢ –û—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
 ‚Ä¢ –û—à–∏–±–æ–∫ —á—Ç–µ–Ω–∏—è –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –∏–∑ Supabase
 5. Manifest –∏ Telegram WebApp
 ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω (/client/manifest.json)
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–µ–≥–æ–≤:
 ‚Ä¢ telegram-web-app-ready
 ‚Ä¢ viewport –±–µ–∑ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (user-scalable=no)
 ‚Ä¢ theme_color, icons
 6. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å /health –∏ /api/v2/health
 ‚Ä¢ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

‚∏ª

üìÑ –§–û–†–ú–ê–¢ –û–¢–ß–ï–¢–ê:

üõ†Ô∏è –§–∏–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç UniFarm
–î–∞—Ç–∞: <–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏>
–°—Ä–µ–¥–∞: Replit / Supabase / Telegram WebApp

üîó Webhook:
 ‚Ä¢ URL: ‚úÖ/‚ùå
 ‚Ä¢ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:

üì¶ initData:
 ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ‚úÖ/‚ùå
 ‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã:

üîê .env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
 ‚Ä¢ –õ–∏—à–Ω–∏–µ: [...]
 ‚Ä¢ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: [...]

üì° –û—à–∏–±–∫–∏ API:
 ‚Ä¢ /auth/telegram: 200 ‚úÖ / 500 ‚ùå
 ‚Ä¢ /farming/start: ...
 ‚Ä¢ /wallet/balance: ...

üì± Manifest / Telegram WebApp:
 ‚Ä¢ Manifest –ø–æ–¥–∫–ª—é—á–µ–Ω: ‚úÖ/‚ùå
 ‚Ä¢ –¢–µ–≥–∏: ‚úÖ/‚ùå

üìä Health / –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
 ‚Ä¢ /health: 200 ‚úÖ
 ‚Ä¢ /api/v2/health: ...

üìå –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: üü° –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ / üü¢ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω


‚∏ª

üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ:
 ‚Ä¢ –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π –∑–∞–¥–∞—á–∏
 ‚Ä¢ –£–¥–∞–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
 ‚Ä¢ –í–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

‚∏ª

üì§ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—É–¥–∏—Ç–∞ –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–ø—É—Å–∫—É –ª–∏–±–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å.