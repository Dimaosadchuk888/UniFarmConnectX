‚∏ª

‚úÖ PROMPT –î–õ–Ø –ê–ì–ï–ù–¢–ê:

–ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º –∏–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ UniFarm (10.01.2025)

‚∏ª

üéØ –¶–µ–ª—å:

–ù–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –≤—ã—è–≤–ª–µ–Ω—ã 4 –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ:
 1. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ –∫–∞–∂–¥–æ–º—É –º–æ–¥—É–ª—é.
 2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–ª–∏ —É—Ç–æ—á–Ω–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É.
 3. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —á—ë—Ç–∫–∏–µ, –ø–æ—Ñ–∞–π–ª–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é, –Ω–æ –ø–æ–∫–∞ –Ω–µ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥.

‚∏ª

üîç –ú–æ–¥—É–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:

‚∏ª

1. ‚ùå –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

ref_code –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –Ω–∞–≥—Ä–∞–¥—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è, –Ω–æ —Ç–∞–±–ª–∏—Ü–∞ referrals –ø—É—Å—Ç–∞.

–¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç —Ç–µ–±—è:
 ‚Ä¢ –ù–∞–π—Ç–∏ –≤ –∫–æ–¥–µ, –≥–¥–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ referrals.
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ –≤—ã–∑–æ–≤ –∑–∞–ø–∏—Å–∏ –≤ Supabase –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å ref_user_id?
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å user_id, ref_user_id ‚Äî –≥–¥–µ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
 ‚Ä¢ –û–ø–∏—à–∏, –ø–æ—á–µ–º—É –∑–∞–ø–∏—Å–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è, –∏ –≥–¥–µ —ç—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

‚∏ª

2. ‚ùå TON Wallet Connect

–í —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏.

–¢—Ä–µ–±—É–µ—Ç—Å—è:
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Tonkeeper –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.
 ‚Ä¢ –ï—Å—Ç—å –ª–∏ API –∏–ª–∏ WebSocket-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞.
 ‚Ä¢ –ù–∞–π—Ç–∏, –≥–¥–µ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –∞–¥—Ä–µ—Å (user_wallets, wallet_sessions –∏ —Ç.–¥.).
 ‚Ä¢ –£–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å, —á—Ç–æ–±—ã –∞–¥—Ä–µ—Å TON —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è.

‚∏ª

3. ‚ö†Ô∏è –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–í –±–∞–∑–µ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ FARMING_REWARD –∏ REFERRAL_REWARD, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

–¢—Ä–µ–±—É–µ—Ç—Å—è:
 ‚Ä¢ –°—Ä–∞–≤–Ω–∏ —Å–ø–∏—Å–æ–∫ transaction_type –≤ Supabase –∏ –≤ –∫–æ–¥–µ.
 ‚Ä¢ –ù–∞–π–¥–∏, –≥–¥–µ –∏ –∫–∞–∫ –∑–∞–¥–∞—é—Ç—Å—è —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–≤ TransactionService, boostService, bonusService, –∏ —Ç.–ø.)
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏, –ø–æ—á–µ–º—É –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è BOOST_PURCHASE, FARMING_DEPOSIT, DAILY_BONUS.
 ‚Ä¢ –î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ enum –∏ –ª–æ–≥–∏–∫–∏.

‚∏ª

4. ‚ö†Ô∏è Daily Bonus

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è, –Ω–æ daily_bonus_logs –ø—É—Å—Ç–∞.

–¢—Ä–µ–±—É–µ—Ç—Å—è:
 ‚Ä¢ –ù–∞–π—Ç–∏, –≥–¥–µ –≤ –∫–æ–¥–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ daily_bonus_logs.
 ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å, —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —á–µ—Ä–µ–∑ TransactionService –∏ –æ—Ç–¥–µ–ª—å–Ω–æ –ª–∏ –ø–∏—à–µ—Ç—Å—è –ª–æ–≥.
 ‚Ä¢ –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏, –ø–æ—á–µ–º—É –ª–æ–≥ –Ω–µ –ø–∏—à–µ—Ç—Å—è (–æ—Ç–∫–ª—é—á–µ–Ω–∞, –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞, –æ—à–∏–±–∫–∞?).
 ‚Ä¢ –£–∫–∞–∂–∏, –≥–¥–µ –∏ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–¥—ë–∂–Ω—É—é –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥–∏.

‚∏ª

üì§ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:

–¢—ã –¥–æ–ª–∂–µ–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –ø—É–Ω–∫—Ç—É:

### üîß –ú–û–î–£–õ–¨: –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

üìå –ü—Ä–æ–±–ª–µ–º–∞: —Ç–∞–±–ª–∏—Ü–∞ referrals –ø—É—Å—Ç–∞  
üîç –ê–Ω–∞–ª–∏–∑: ...  
üìÅ –ù–∞–π–¥–µ–Ω–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞: `/modules/referral/service.ts`, —Å—Ç—Ä–æ–∫–∞ 38  
üõ† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ –ø–æ –∏—Å–ø—Ä–∞–≤–≤ –º–æ–º–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Supabase —Å—Ö–µ–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è.
3. –°–≤—è–∑–∞—Ç—å–±–ª–µ–º –∏–∑ —Ä–µ–≥—Ä—Å‚∏ª

‚úÖ PROMPT–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∏–∑–∏—Ç–µ.

---

### üîß –ú–û–î–£–õ–¨: TON Wallet

üìå –ü—Ä–æ–±–ª–µ–º–∞: –∞–¥—Ä–µ—Å–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è  
üîç –ê–Ω–∞–ª–∏–∑: ...
üìÅ –ù–∞–π–¥–µ–Ω–Ω—ã–π —É—á–∞—Å—Ç–æ–∫:–µ–ª—å:

–ù–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–≥—Ä–µ—Åüõ† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∞–¥—Ä–µ—Å–∞ —Å —Ñ—Ä–æ–Ω—Ç–∞.
2. –î–æ–±–∞–≤–∏—Ç—å API–∏–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞–¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏.
3. –°–≤—è–∑–∞—Ç—å –∞–¥—Ä–µ—Å —Å –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É–¢–ê:

–ê–Ω–∞–ª–∏–∑

üìå –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ—Ö —á–µ—Ç—ã—Ä—ë—Ö –º–æ–¥—É–ª–µ–π.
üïê –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ –≤–Ω–æ—Å–∏—Ç—å, —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

‚∏ª