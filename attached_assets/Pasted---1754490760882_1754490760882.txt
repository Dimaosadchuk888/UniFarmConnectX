–í–æ—Ç —á—ë—Ç–∫–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **–∞—É–¥–∏—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞**, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –∏–ª–∏ –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏:

---

## üîç –ü–†–û–í–ï–†–ö–ê: –ò–°–¢–û–†–ò–Ø –¢–†–ê–ù–ó–ê–ö–¶–ò–ô + –ü–û–í–ï–î–ï–ù–ò–ï –ü–†–ò –ü–†–û–ö–†–£–¢–ö–ï

### ‚úÖ 1. **–ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

–§–∞–π–ª—ã:

* `client/src/components/wallet/TransactionHistory.tsx` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
* `client/src/components/wallet/StyledTransactionItem.tsx` ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–î–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑:

```ts
useQuery({
  queryKey: ['/api/transactions', filters],
  ...
})
```

API:

* `/api/transactions` (–∏ –∞–ª–∏–∞—Å `/api/v2/transactions`)
* –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `TransactionsController`, –¥–∞–ª–µ–µ ‚Üí `UnifiedTransactionService.getUserTransactions()`

---

### ‚úÖ 2. **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

| –ü–æ–ª–µ –≤ UI                 | –ü–æ–ª–µ –≤ –ë–î (transactions)         | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π    |
| ------------------------- | -------------------------------- | -------------- |
| `amount_ton`              | `transactions.amount_ton`        | ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ    |
| `metadata.tx_hash`        | `transactions.metadata->tx_hash` | ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ    |
| –í—Ä–µ–º—è                     | `created_at`                     | ‚úÖ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| –¢–∏–ø (DEPOSIT –∏ –¥—Ä.)       | `type`                           | ‚úÖ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è |
| –°—Ç–∞—Ç—É—Å (completed/failed) | `status`                         | ‚úÖ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è |

üìå **–í—ã–≤–æ–¥**: –¢–µ–∫—É—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç **–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ë–î ‚Äî ‚úÖ

---

### ‚ö†Ô∏è 3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º –∏ ¬´–æ—Ç–∫–∞—Ç–æ–º –≤–≤–µ—Ä—Ö¬ª**

**–°–∏–º–ø—Ç–æ–º**:
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 20‚Äì30 —à—Ç—É–∫), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∑–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –Ω–∞—á–∞–ª–æ ‚Äî —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, **–∏–∑-–∑–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞** –∏–ª–∏ **–ø–µ—Ä–µ–∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö**, —á—Ç–æ –æ–±–Ω—É–ª—è–µ—Ç scroll position.

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

#### üîç –ü–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

| –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞                        | –ì–¥–µ –∏—Å–∫–∞—Ç—å / —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å                                 |
| ---------------------------------------- | ---------------------------------------------------------- |
| ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `React Virtualization` | `TransactionHistory.tsx` ‚Äî –µ—Å–ª–∏ –æ–±—ã—á–Ω—ã–π `map()` –ø–æ –º–∞—Å—Å–∏–≤—É |
| ‚ùå `key` —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω         | `StyledTransactionItem` ‚Äî –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å re-render         |
| ‚ùå `queryKey` –º–µ–Ω—è–µ—Ç—Å—è                    | `useQuery` –≤ `TransactionHistory` ‚Äî –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏     |
| ‚ùå `useEffect` —Å `scrollTo(0,0)`          | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ –Ω–∞ `data` –∏–ª–∏ `page`           |

---

### üõ† –ö—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞?

* **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** `TransactionHistory.tsx`
* **–õ–æ–≥–∏–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏/–ª–µ–Ω–∏–≤–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–∏:** –µ—Å–ª–∏ –µ—Å—Ç—å `load more` –∏–ª–∏ `infinite scroll`, —Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `React Query` + `IntersectionObserver` –∏–ª–∏ —Ä—É—á–Ω–æ–π —Ö–µ–Ω–¥–ª–∏–Ω–≥
* **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å:** —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —ç—Ç–æ **Wallet** (–∏–ª–∏ –æ–±—â–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞)

---

### ‚úÖ 4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ "—Ç—É–ø–∏—Ç"**

* –ü—Ä–∏—á–∏–Ω–∞ "—Ç—É–ø–æ—Å—Ç–∏" —á–∞—Å—Ç–æ ‚Äî **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ virtualization**. –ü—Ä–∏ 50+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –æ–±—ã—á–Ω—ã–π `.map()` –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ `react-window`, `react-virtualized` –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* –ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç ‚Äî —ç—Ç–æ –ø—Ä–∏—á–∏–Ω–∞ –∏ –ª–∞–≥–æ–≤, –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è —Å–∫—Ä–æ–ª–ª–∞

---

## üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞)

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

‚úÖ –ü–æ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úÖ –í—Å—ë —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å –±–∞–∑–æ–π
‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≥–µ–Ω—Ç—É:

1. **–ü–æ—á–µ–º—É —Å–∫—Ä–æ–ª–ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö**:

   * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ `key` —Å—Ç–∞–±–∏–ª—å–Ω–æ
   * –ù–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π `useQuery` —Ä–µ—Ä–µ–Ω–¥–µ—Ä
   * –ù–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ `scrollTo(0,0)` –≥–¥–µ-—Ç–æ –ø–æ `data`

2. **–ü–æ—á–µ–º—É —Å–ø–∏—Å–æ–∫ "—Ç—É–ø–∏—Ç" –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ**:

   * –ï—Å—Ç—å –ª–∏ `virtualization`?
   * –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–¥–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (fetchMore / pagination / scroll)

### –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ:

‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –∞–¥–º–∏–Ω–æ–∫
‚ùå –ù–µ —É—Å–ª–æ–∂–Ω—è—Ç—å —á–µ—Ä–µ–∑ webhooks
‚ùå –ù–µ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –±–µ–∑ —á—ë—Ç–∫–æ–π –ø—Ä–∏—á–∏–Ω—ã

---

üß© –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **—á–µ–∫–ª–∏—Å—Ç** –∏–ª–∏ –¥–∞–∂–µ **—Ç–µ—Å—Ç-–∫–µ–π—Å**, —á—Ç–æ–±—ã QA –º–æ–≥ –ø—Ä–æ–≥–Ω–∞—Ç—å —Ä—É–∫–∞–º–∏ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –±–∞–≥–∏.
