# üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
**–ü—Ä–æ–µ–∫—Ç:** UniFarm  –∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä—É—á–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –≤—ã–ø–ª–∞—Ç TON  * UniFarm  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–≤–æ–¥ ‚Üí –∑–∞—è–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è ‚Üí –∞–¥–º–∏–Ω –≤—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç TON –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é ‚Üí –±–∞–ª–∞–Ω—Å –∏ —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.

---

## 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 1.1 –¢–∞–±–ª–∏—Ü–∞–ø—Ä–∞–≤–ª—è–µ—Ç TON –∏ –ø–æ–¥—Ç–≤–µ| –ü–æ–ª–µ            | –¢–∏–ø        | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|-----------------|-----------|---------------------------------------|
| id              | UUID PK   | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞—è–≤–∫–∏                  |
| user_id         | UUID FK   | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                          |
| amount          | numeric   | –°—É–º–º–∞ TON –∫ –≤—ã–≤–æ–¥—É                    |
| wallet_address  | text      | TON-–∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                |
| status          | text      |          |\|üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫\| `completed`|
| admin_tx_hash   | text      | –•—ç—à —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–ø–ª–∞—Ç—ã (TON)         |
| created_at      | timestamptz | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                        |
| completed_at    | timestamptz | –î–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è                   |

> –æ–±–Ω–æ–≤–ª—è—é—Çdefault =–∏—á–µ—Å–∫–æ–µ –∑–∞–¥
---

## 2. Backend

### 2.1 –≠–Ω–¥–ø–æ–∏–Ω—Ç ¬´–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É¬ª

POST /api/v2/wallet/withdraw-request
body: { amount, wallet_address }

*–ü—Ä–æ–≤–µ—Ä–∫–∏*:  
- –µ—Å—Ç—å –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π –∫–æ—à–µ–ª—ë–∫;  
-—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç TON –∏ –ø–æ  
- —Å–æ–∑–¥–∞—ë—Ç—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
**–ü—Ä–æ–µ(status=`pending`);  
- –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Ç:** UniFarm  
*—Å–æ —Å—Ç–∞—Ç—É—Å–æ–º–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω

### 2.2 –≠–Ω–¥–ø–æ–∏–Ω—Ç ¬´–ê–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç¬ª

POST /api/v2/admin/withdraw-confirm
body: { request_id, tx_hash }

*–î–µ–π—Å—Ç–≤–∏—è*:  
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞—è–≤–∫–∞—è–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä  
- –û–±–Ω–æ–≤–∏—Ç—å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
**–ü—Ä–æ–µ–∫‚Üí üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏# üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ # üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
- –û–±–Ω–æ–≤–∏—Ç—å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
**(status=`completed`, metadata.tx_hash).

### 2.3 –≠–Ω–¥–ø–æ–∏–Ω—Ç ¬´–ê–¥–º–∏–Ω –æ—Ç–∫–ª–æ–Ω—è–µ—Ç¬ª (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

POST /api/v2/admin/withdraw-reject
body: { request_id, reason }

*–û–±–Ω—É–ª—è–µ—Ç –∑–∞—è–≤–∫—É, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TON –Ω–∞ –±–∞–ª–∞–Ω—Å.*

---

## 3. Frontend

### 3.1 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π UI
- –ö–Ω–æ–ø–∫–∞ ¬´–í—ã–≤–µ—Å—Ç–∏ TON¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É—Ü–∞ `withdr
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã ‚Üí–¥–∞–Ω–∏–µ  
**–ü—Ä–æ–µ–∫—Ç:** UniFarm 
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: ¬´–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞, –æ–∂–∏–¥–∞–π—Ç–µ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏¬ª.

### 3.2 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–º–∏–Ω–∏–º—É–º)
- –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫–≤—ã–≤–æ–¥ ‚Üí –∑–∞—è
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ# üßæ –¢–µ—Ö–Ω–∏# üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑# üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫  - –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–ª–∞—Ç—É¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä
  - –ö–Ω–æ–ø–∫–∞ ¬´–û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª.

---

## 4. –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–ª–∞—Ç—ã

1.–∏—è:** –ü–æ–ª–Ω–æ–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–µ  

2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç TON –∏–∑ –∫–æ—à–µ–ª—å–∫–∞.
3. –ö–æ–ø–∏—Ä—É–µ—Ç—å—é —Ä—É—á–Ω–∞—è —Ü‚Üí –≤–≤–æ–¥–∏—Ç –≤ —Ñ–æ—Ä–º—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
4. –°–∏—Å—Ç–µ–º–∞:
   - –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å ‚Üí–ª–Ω–æ—Å—Ç—å—é —Ä—É—á–Ω–∞   - —Å–ø–∏—Å—ã–≤–∞–µ—Ç TON —Å –±–∞–ª–∞–Ω—Å–∞
   - –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (`type: WITHDRAWAL`).

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ / –¢–µ—Å—Ç—ã

- –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ 1 TON ‚Üí —Å—Ç–∞—Ç—É—Å‚Üí –∑–∞—è–≤–∫–∞ —Ñ–∏
- –í—Ä—É—á–Ω—É—é –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–º—Ç:** UniFar‚Üí —Å—Ç–∞—Ç—É—Å–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞ –±–∞–ª–∞–Ω—Å ‚Üì –Ω–∞ 1 TON.
-–Ω–∏–µ  
**–ü—Ä–æ–µ–∫—Ç:*—Å—Ç—Ä–æ–∫–∞–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥‚Üí üßæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫# üßæ –¢–µ—Ö–Ω–∏—á—Å–æ—Ö—Ä–∞–Ω—ë–Ω.
- –û—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TON –Ω–∞ –±–∞–ª–∞–Ω—Å.

---

## 6. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ùå –ê–≤—Ç–æ–≤—ã–ø–ª–∞—Ç –Ω–µ—Ç. –¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –≤–≤–æ–¥–≤—ã–≤–æ–¥ ‚Üí –∑–∞—è
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–µ—Ä–≤–∏—Å-—Å–ª–æ–µ, UI –º–∏–Ω–∏–º–∞–ª–µ–Ω.
- üîí –ê–¥–º–∏–Ω-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã JWT/role =—ã–ø–ª–∞—Ç TON
- üóÉÔ∏è –õ–æ–≥–∏ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

---

### ‚úì –ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É, –±–∞–ª–∞–Ω—Å —Å—Ä–∞–∑—É *–Ω–µ* –º–µ–Ω—è–µ—Ç—Å—è.  
2. –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –∑–∞—è–≤–∫—É, –≤—Ä—É—á–Ω—É—é –≤–≤–æ–¥–∏—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç  
3. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
   - –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è;  
   - –∑–∞—è–≤–∫–∞ ‚Üí–µ–ø–æ—á–∫–∞ –≤—ã–ø–ª–∞—Ç  
   - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ‚Üí–∞–Ω–∏–µ  
**–ü—Ä–æ–µ# üßæ –¢–µ—Ö–Ω–∏—á—Å–æ—Ö—Ä–∞–Ω—ë–Ω.  
4. –û—à–∏–±–∫–∏ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤, –Ω–µ–≤–µ—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π `tx_hash`) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è.