üìã –ó–ê–î–ê–ß–ê 2: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫ Telegram WebApp ¬´–ó–∞–ª–∏–≤–∫–∏¬ª

‚∏ª

üß© –¶–µ–ª—å

–í—ã—è—Å–Ω–∏—Ç—å —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Telegram WebApp –ø—Ä–∏ –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏–∏. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–∞–≥ –Ω–µ —Å–≤—è–∑–∞–Ω —Å –∫—ç—à–æ–º, –∞–≤—Ç–æ–ª–æ–≥–∏–Ω–æ–º –∏–ª–∏ —Å—Ç–∞—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –±–∞–∑–µ.

‚∏ª

‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤ –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ WebApp:
 ‚Ä¢ –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram SDK?
 ‚Ä¢ –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (auth, jwt, getMe)
 ‚Ä¢ –ª–æ–≤–∏—Ç—Å—è –ª–∏ window.Telegram.WebApp.ready() –∏–ª–∏ –∑–∞–≤–∏—Å–∞–µ—Ç?
 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ WebApp –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:
 ‚Ä¢ –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Telegram –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ tg.initData
 ‚Ä¢ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏ –æ–Ω–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ?
 ‚Ä¢ –Ω–µ—Ç –ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ –æ—à–∏–±–∫—É –∏–ª–∏ loop –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏?
 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ:
 ‚Ä¢ –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º telegramId?
 ‚Ä¢ –Ω–µ—Ç –ª–∏ —Å–ª–æ–º–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π –≤ –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª–µ?
 ‚Ä¢ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏ –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞—Ö–æ–¥–µ?
 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫—ç—à:
 ‚Ä¢ –Ω–µ—Ç –ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤, –∫—É–∫–∏ –∏–ª–∏ sessionStorage, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –≤—ã–∑–≤–∞—Ç—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ?
 ‚Ä¢ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ WebApp –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–ª–æ–≥–∏–Ω–∞ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫?
 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–µ–ø–ª–æ—è:
 ‚Ä¢ –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤–æ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è?
 ‚Ä¢ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ —Å Telegram?
 ‚Ä¢ –Ω–µ—Ç –ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤, 500 –∏–ª–∏ 401 –≤ –ª–æ–≥–∞—Ö?

‚∏ª

‚ö†Ô∏è –û—Å–æ–±—ã–µ —É–∫–∞–∑–∞–Ω–∏—è:
 ‚Ä¢ ‚ùóÔ∏è–ù–µ –º–µ–Ω—è—Ç—å –Ω–∏–∫–∞–∫–æ–π –∫–æ–¥ –∏ –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç —á—ë—Ç–∫–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞.
 ‚Ä¢ üîÅ –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –º—è–≥–∫–∏–π —Ä–µ–¥–µ–ø–ª–æ–π –∏–ª–∏ —Ä–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Ç–µ–∫—É—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
 ‚Ä¢ üîí –ò—Å–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ reset‚Äô—ã –∏–ª–∏ —Å–±—Ä–æ—Å—ã –¥–∞–Ω–Ω—ã—Ö.

‚∏ª

üí° –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
 ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ, Telegram WebApp —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ä—É—é —Å–µ—Å—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
 ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ, –≤ –ë–î –µ—Å—Ç—å –±–∞–≥ –≤ –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω)
 ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ, —Ñ—Ä–æ–Ω—Ç –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏ —É—Ö–æ–¥–∏—Ç –≤ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É (infinite redirect)

‚∏ª

üìé –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
 ‚Ä¢ üß© –ß—ë—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
 ‚Ä¢ üîó –¢–∞–±–ª–∏—Ü–∞ —à–∞–≥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ WebApp –∏ –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–±–æ–π
 ‚Ä¢ üìÇ –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –≤ –º–æ–º–µ–Ω—Ç —Å–±–æ—è
 ‚Ä¢ ‚úÖ –í—ã–≤–æ–¥: –≥–¥–µ —Ç–æ—á–Ω–æ –ª–æ–º–∞–µ—Ç—Å—è, –∏ –∫–∞–∫–æ–π —Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—Ç—å —Ä–µ—à–µ–Ω–∏—è

‚∏ª

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É:
 ‚Ä¢ üîÑ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è CI-–∞–≥–µ–Ω—Ç–∞/–±–æ—Ç–∞, —á—Ç–æ–±—ã –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–ª –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
 ‚Ä¢ üì¶ –ò–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤ dev-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ –ª–æ–≤–∏—Ç—å –ª–æ–≥–∏