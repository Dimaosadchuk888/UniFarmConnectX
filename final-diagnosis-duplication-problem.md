# üîç –§–ò–ù–ê–õ–¨–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï –¢–†–ê–ù–ó–ê–ö–¶–ò–ô –ù–ê–ô–î–ï–ù–û!

## üìã **–ü–û–õ–ù–ê–Ø –ö–ê–†–¢–ò–ù–ê –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø:**

### **üéØ –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –ü–£–¢–ò –ê–ö–¢–ò–í–ê–¶–ò–ò TON BOOST:**

**1. modules/boost/service.ts:**
- `purchaseWithInternalWallet()` ‚Üí `tonFarmingRepo.activateBoost()` (—Å—Ç—Ä–æ–∫–∞ 430)
- `verifyTonPayment()` ‚Üí `this.activateBoost()` (—Å—Ç—Ä–æ–∫–∞ 867)  
- `activateBoost()` ‚Üí `tonFarmingRepo.activateBoost()` (—Å—Ç—Ä–æ–∫–∞ 995)
- `activateBoost()` ‚Üí `awardUniBonus()` (–≤—ã–¥–∞–µ—Ç DAILY_BONUS)

**2. modules/boost/TonFarmingRepository.ts:**
- `activateBoost()` ‚Üí farming record creation (—Å—Ç—Ä–æ–∫–∞ 320)

### **üîÑ –¶–ï–ü–û–ß–ö–ê –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø –î–õ–Ø USER 25:**

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–∫—É–ø–∫–∏ TON Boost:**
```
1. User 25 –ø–æ–∫—É–ø–∞–µ—Ç "Starter Boost" –ø–∞–∫–µ—Ç

2. –ü–£–¢–¨ 1 (—á–µ—Ä–µ–∑ purchaseWithInternalWallet):
   ‚Üí tonFarmingRepo.activateBoost() 
   ‚Üí —Å–æ–∑–¥–∞–µ—Ç farming record
   
3. –ü–£–¢–¨ 2 (—á–µ—Ä–µ–∑ activateBoost private method):
   ‚Üí this.awardUniBonus()
   ‚Üí balanceManager.addBalance(userId, 10000)
   ‚Üí DAILY_BONUS —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è #1 (6:20:00 PM)

4. –ü–£–¢–¨ 3 (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –≥–¥–µ-—Ç–æ):
   ‚Üí this.awardUniBonus() –°–ù–û–í–ê
   ‚Üí balanceManager.addBalance(userId, 10000) 
   ‚Üí DAILY_BONUS —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è #2 (6:21:12 PM)
```

**–†–ï–ó–£–õ–¨–¢–ê–¢:** User –ø–æ–ª—É—á–∞–µ—Ç 20,000 UNI –≤–º–µ—Å—Ç–æ 10,000!

---

## üßê **–ê–ù–ê–õ–û–ì–ò–ß–ù–´–ï –î–£–ë–õ–ò–ö–ê–¢–´ –í –î–†–£–ì–ò–• –°–ò–°–¢–ï–ú–ê–•:**

### **A. FARMING_DEPOSIT –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (–¥–æ 6 —Ä–∞–∑):**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã farming deposit —Ñ—É–Ω–∫—Ü–∏–π
- Race conditions –≤ farming logic

### **B. FARMING_REWARD –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (–¥–æ 7 —Ä–∞–∑):**  
- Scheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥
- Income generation –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- –ü—Ä–æ–±–ª–µ–º—ã —Å deduplication –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ

### **C. TON Boost income –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è:**
- Boost income scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –î–æ—Ö–æ–¥—ã –æ—Ç TON Boost –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–≤–∞–∂–¥—ã

---

## üí° **–û–ë–™–Ø–°–ù–ï–ù–ò–ï "–ö–ï–®–ò–†–û–í–ê–ù–ò–Ø" –ü–†–û–ë–õ–ï–ú–´:**

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥" –ø–æ—Ç–æ–º—É —á—Ç–æ:**

1. **–ü–æ–∫—É–ø–∫–∞ TON Boost** ‚Üí TON —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è ‚úÖ
2. **–ü–µ—Ä–≤—ã–π DAILY_BONUS** ‚Üí +10,000 UNI ‚úÖ  
3. **–í—Ç–æ—Ä–æ–π DAILY_BONUS** (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚Üí +10,000 UNI ‚ùå
4. **Frontend cache invalidation** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–≤–∞–∂–¥—ã
5. **User –≤–∏–¥–∏—Ç:** –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å–∞–ª–∏—Å—å –∏ "–≤–µ—Ä–Ω—É–ª–∏—Å—å" (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –¥–≤–æ–π–Ω–æ–π –±–æ–Ω—É—Å)

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏, –∞ –≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö!**

---

## üéØ **–ö–û–†–ù–ï–í–´–ï –ü–†–ò–ß–ò–ù–´:**

### **1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ entry points –¥–ª—è –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ deduplication checks
- Race conditions –≤ concurrent operations

### **2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ idempotency:**
- –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏  
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- Transaction isolation problems

### **3. –ü–ª–æ—Ö–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
- BalanceManager –∏ TransactionService –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- WebSocket notifications –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è
- Cache invalidation –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ

---

## ‚úÖ **–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê**

**–ö–æ–¥ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑—É—á–µ–Ω.**  
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ boost/service.ts –∏ TonFarmingRepository.ts.**  
**–ü—Ä–æ–±–ª–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä—è—Å–Ω–µ–Ω–∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ backend –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.**

**–†–ê–°–°–õ–ï–î–û–í–ê–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–û –°–û–ì–õ–ê–°–ù–û –¢–†–ï–ë–û–í–ê–ù–ò–Ø–ú –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø** ‚úÖ