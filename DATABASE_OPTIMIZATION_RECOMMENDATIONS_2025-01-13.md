# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö UniFarm
**–î–∞—Ç–∞**: 13 –∏—é–ª—è 2025
**–°—Ç–∞—Ç—É—Å**: –ê–Ω–∞–ª–∏–∑ —Å—Ö–µ–º—ã –ë–î vs –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

## üóëÔ∏è –¢–ê–ë–õ–ò–¶–´ –î–õ–Ø –£–î–ê–õ–ï–ù–ò–Ø (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ)

### 1. –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- **referrals** - –¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–µ–π –≤ users (referred_by, referrer_id)
- **farming_sessions** - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ uni_farming_data
- **user_sessions** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (JWT —Ç–æ–∫–µ–Ω—ã –≤ localStorage)
- **wallet** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ç–∞–±–ª–∏—Ü–µ users
- **farming_deposits** - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ uni_farming_data
- **boosts** - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ boost_purchases

### 2. –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- **airdrop_claims** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ airdrops
- **airdrop_missions** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ missions
- **auth_logs** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **mission_progress** - –¥—É–±–ª–∏—Ä—É–µ—Ç user_missions
- **mission_templates** - –¥—É–±–ª–∏—Ä—É–µ—Ç missions
- **referral_analytics** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ users
- **referral_earnings** - —Ä–∞—Å—á–µ—Ç —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **system_metrics** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **ton_boost_schedules** - —Ä–∞—Å—á–µ—Ç –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ
- **user_mission_claims** - –¥—É–±–ª–∏—Ä—É–µ—Ç user_missions
- **user_mission_completions** - –¥—É–±–ª–∏—Ä—É–µ—Ç user_missions
- **wallet_logs** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ transactions
- **webhook_logs** - –≤–µ–±—Ö—É–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- **daily_bonus_history** - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ daily_bonus_logs

## ‚úÖ –¢–ê–ë–õ–ò–¶–´ –í –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ò (–æ—Å—Ç–∞–≤–∏—Ç—å)

1. **users** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **transactions** - –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
3. **missions** - –∑–∞–¥–∞–Ω–∏—è –∏ –º–∏—Å—Å–∏–∏
4. **user_missions** - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –º–∏—Å—Å–∏—è–º
5. **boost_purchases** - –ø–æ–∫—É–ø–∫–∏ boost –ø–∞–∫–µ—Ç–æ–≤
6. **daily_bonus_logs** - –∏—Å—Ç–æ—Ä–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤
7. **withdraw_requests** - –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
8. **airdrops** - –∫–∞–º–ø–∞–Ω–∏–∏ airdrop
9. **uni_farming_data** - –¥–∞–Ω–Ω—ã–µ UNI —Ñ–∞—Ä–º–∏–Ω–≥–∞
10. **ton_farming_data** - –¥–∞–Ω–Ω—ã–µ TON —Ñ–∞—Ä–º–∏–Ω–≥–∞

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –° –ü–û–õ–Ø–ú–ò

### 1. –¢–∞–±–ª–∏—Ü–∞ users - –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–ª—è:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞—Ä–º–∏–Ω–≥ –ø–æ–ª–µ–π** - –µ—Å—Ç—å –ø–æ–ª—è uni_* –∏ ton_* –∫–æ—Ç–æ—Ä—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç uni_farming_data –∏ ton_farming_data
- **last_active** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î (—Å–æ–∑–¥–∞–µ—Ç –æ—à–∏–±–∫–∏)
- **guest_id** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
- **is_active** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î

### 2. –¢–∞–±–ª–∏—Ü–∞ transactions:
- **amount** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î (–µ—Å—Ç—å amount_uni/amount_ton)
- **metadata** - –ø–æ–ª–µ jsonb –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

## üîß –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –î–ï–ô–°–¢–í–ò–Ø

### 1. –°—Ä–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ë–î:
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤ users
ALTER TABLE users ADD COLUMN IF NOT EXISTS last_active timestamp without time zone;
ALTER TABLE users ADD COLUMN IF NOT EXISTS guest_id text;
ALTER TABLE users ADD COLUMN IF NOT EXISTS is_active boolean DEFAULT true;

-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ amount –≤ transactions
ALTER TABLE transactions ADD COLUMN IF NOT EXISTS amount numeric NOT NULL DEFAULT 0;
```

### 2. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
```sql
-- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã
DROP TABLE IF EXISTS referrals CASCADE;
DROP TABLE IF EXISTS farming_sessions CASCADE;
DROP TABLE IF EXISTS user_sessions CASCADE;
DROP TABLE IF EXISTS wallet CASCADE;
DROP TABLE IF EXISTS farming_deposits CASCADE;
DROP TABLE IF EXISTS boosts CASCADE;
DROP TABLE IF EXISTS airdrop_claims CASCADE;
DROP TABLE IF EXISTS airdrop_missions CASCADE;
DROP TABLE IF EXISTS auth_logs CASCADE;
DROP TABLE IF EXISTS mission_progress CASCADE;
DROP TABLE IF EXISTS mission_templates CASCADE;
DROP TABLE IF EXISTS referral_analytics CASCADE;
DROP TABLE IF EXISTS referral_earnings CASCADE;
DROP TABLE IF EXISTS system_metrics CASCADE;
DROP TABLE IF EXISTS ton_boost_schedules CASCADE;
DROP TABLE IF EXISTS user_mission_claims CASCADE;
DROP TABLE IF EXISTS user_mission_completions CASCADE;
DROP TABLE IF EXISTS wallet_logs CASCADE;
DROP TABLE IF EXISTS webhook_logs CASCADE;
DROP TABLE IF EXISTS daily_bonus_history CASCADE;
```

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É users:
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ–∞—Ä–º–∏–Ω–≥ –ø–æ–ª—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- –û—Å—Ç–∞–≤–∏—Ç—å –≤ users —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è –∏ –±–∞–ª–∞–Ω—Å—ã

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
- –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—è –≤ users (referred_by, referrer_id)
- –†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å view –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü

### 2. –§–∞—Ä–º–∏–Ω–≥ –¥–∞–Ω–Ω—ã–µ:
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ uni_farming_data –∏ ton_farming_data
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –ø–æ–ª—è –∏–∑ users

### 3. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è amount
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

## üìà –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–í—Å–µ–≥–æ —Ç–∞–±–ª–∏—Ü –≤ –ë–î**: 31
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ**: 10 (32%)
- **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: 21 (68%)
- **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ —É–¥–∞–ª–∏—Ç—å**: 21 —Ç–∞–±–ª–∏—Ü–∞
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º**: 3 (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è)

## ‚ö° –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

1. **–ö—Ä–∏—Ç–∏—á–Ω–æ**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è last_active, guest_id, is_active –≤ users
2. **–í–∞–∂–Ω–æ**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ amount –≤ transactions
3. **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ**: –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ë–î
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞—Ä–º–∏–Ω–≥ –ø–æ–ª—è –∏–∑ users –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã