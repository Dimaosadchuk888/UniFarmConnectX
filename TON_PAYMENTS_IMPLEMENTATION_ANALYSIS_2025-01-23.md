# üìä –ê–ù–ê–õ–ò–ó –°–ò–°–¢–ï–ú–´ TON –ü–õ–ê–¢–ï–ñ–ï–ô –ò –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø –û–ë–ù–û–í–õ–ï–ù–ò–ô

**–î–∞—Ç–∞:** 23 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –§–∏–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–¥ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º  
**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π  

---

## üîç –ê–ù–ê–õ–ò–ó –ü–û–°–õ–ï–î–ù–ò–• –î–ò–ê–õ–û–ì–û–í

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
   - –û–¥–∏–Ω tx_hash –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏

2. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º—ã –ë–î –∏ –∫–æ–¥–∞**
   - –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `metadata` –æ–±—ä–µ–∫—Ç, –Ω–æ –≤ schema.ts —Ç–æ–ª—å–∫–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
   - –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `amount_uni/amount_ton`, –Ω–æ –≤ schema.ts —Ç–æ–ª—å–∫–æ `amount`
   - boost_purchases –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª–µ–π `amount`, `daily_rate`

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - 3-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—É–±–ª–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

---

## üõ°Ô∏è –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò –°–ò–°–¢–ï–ú–´

### ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û:

1. **–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è TON:**
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (JWT ‚Üí wallet ‚Üí –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç)
   - –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ BalanceManager
   - WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

2. **–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Å—É–º–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –±–∞–ª–∞–Ω—Å–∞
   - –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥

3. **TON Boost –∞–∫—Ç–∏–≤–∞—Ü–∏—è:**
   - –û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å —á–µ—Ä–µ–∑ users —Ç–∞–±–ª–∏—Ü—É —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:**
   ```typescript
   // –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø - –ù–ï–¢ –ü–†–û–í–ï–†–ö–ò:
   const result = await transactionService.createTransaction({
     metadata: { tx_hash: "abc123" }  // –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ!
   });
   ```

2. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:**
   ```typescript
   // –ö–û–î –û–ñ–ò–î–ê–ï–¢:
   metadata: { tx_hash: "..." }
   amount_uni: "100"
   amount_ton: "10"
   
   // SCHEMA.TS –û–ü–†–ï–î–ï–õ–Ø–ï–¢:
   tx_hash: text("tx_hash")  // –û—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
   amount: numeric("amount")  // –û–¥–Ω–æ –ø–æ–ª–µ
   // –ù–ï–¢ –ø–æ–ª–µ–π amount_uni, amount_ton
   ```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–º–µ–µ—Ç –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**
   - –†–µ–∞–ª—å–Ω–∞—è –ë–î –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `metadata` –∫–∞–∫ JSONB –ø–æ–ª–µ
   - –†–µ–∞–ª—å–Ω–∞—è –ë–î –∏–º–µ–µ—Ç –ø–æ–ª—è `amount_uni`, `amount_ton`
   - schema.ts –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

---

## üìã –ö–û–ù–ö–†–ï–¢–ù–´–ï –§–ê–ó–´ –í–ù–ï–î–†–ï–ù–ò–Ø

### –§–ê–ó–ê 1: –ê–ù–ê–õ–ò–ó –ò –ü–û–î–ì–û–¢–û–í–ö–ê (30 –º–∏–Ω—É—Ç)
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –ó–∞–ø—É—Å–∫–∞–µ–º SQL —Å–∫—Ä–∏–ø—Ç `1_check_duplicates.sql`
2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –µ—Å—Ç—å –ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü
4. –î–µ–ª–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

### –§–ê–ó–ê 2: –û–ß–ò–°–¢–ö–ê –î–£–ë–õ–ò–ö–ê–¢–û–í (15 –º–∏–Ω—É—Ç)
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã - –∑–∞–ø—É—Å–∫–∞–µ–º `2_clean_duplicates.sql`
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª–µ–Ω—ã
- –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞
- –ë–î –≥–æ—Ç–æ–≤–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∏–Ω–¥–µ–∫—Å–∞

### –§–ê–ó–ê 3: –ó–ê–©–ò–¢–ê –û–¢ –ë–£–î–£–©–ò–• –î–£–ë–õ–ò–ö–ê–¢–û–í (10 –º–∏–Ω—É—Ç)
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –ó–∞–ø—É—Å–∫–∞–µ–º `3_create_unique_index.sql`
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
3. –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ metadata->>'tx_hash' —Å–æ–∑–¥–∞–Ω
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º tx_hash
- –ó–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∞–∫—Ç–∏–≤–Ω–∞

### –§–ê–ó–ê 4: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï BOOST_PURCHASES (15 –º–∏–Ω—É—Ç)
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –ó–∞–ø—É—Å–∫–∞–µ–º `4_migrate_boost_purchases.sql`
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–∞–±–ª–∏—Ü–∞ boost_purchases –∏–º–µ–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- –ö–æ–¥ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å boost_purchases

### –§–ê–ó–ê 5: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –í–ê–õ–ò–î–ê–¶–ò–Ø (1 —á–∞—Å)
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–º –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É boost –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
4. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ—Ç –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø

1. **–ù–ï –ú–ï–ù–Ø–ï–ú –ö–û–î** –ø–æ–∫–∞ –Ω–µ —É–±–µ–¥–∏–º—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î
2. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–µ–ª–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
3. **–í–´–ü–û–õ–ù–Ø–ï–ú –°–ö–†–ò–ü–¢–´** —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ—Ä—è–¥–∫—É
4. **–ú–û–ù–ò–¢–û–†–ò–ú** —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

1. ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º tx_hash
2. ‚úÖ boost_purchases —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
3. ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
4. ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞

---

## üìû –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

**–®–ê–ì 1:** –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ SQL –¥–æ—Å—Ç—É–ø –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  
**–®–ê–ì 2:** –ó–∞–ø—É—Å—Ç–∏–º —Å–∫—Ä–∏–ø—Ç 1 –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
**–®–ê–ì 3:** –ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏–º–µ–º —Ä–µ—à–µ–Ω–∏–µ –æ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö  

**–ë–ï–ó –í–ê–®–ï–ì–û –û–î–û–ë–†–ï–ù–ò–Ø –ù–ò–ö–ê–ö–ò–• –ò–ó–ú–ï–ù–ï–ù–ò–ô –í –ö–û–î–ï –ù–ï –ë–£–î–ï–¢!**