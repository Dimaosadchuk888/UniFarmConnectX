# üîç –ì–õ–£–ë–û–ö–ò–ô –ê–£–î–ò–¢ –ú–û–î–£–õ–ï–ô UniFarm - –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ç–∏–ø–æ–≤ –≤ wallet/logic/transactions.ts
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `modules/wallet/logic/transactions.ts`
**–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ enum TransactionType –∏ TransactionStatus
```typescript
// –ö–û–ù–§–õ–ò–ö–¢: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∏–ø–æ–≤ –∏–∑ model.ts
export enum TransactionType {
  DEPOSIT = 'deposit',
  // ... –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
}
```
**–í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ç–∏–ø–æ–≤ –≤ TypeScript, –Ω–∞—Ä—É—à–µ–Ω–∏–µ DRY –ø—Ä–∏–Ω—Ü–∏–ø–∞
**–°—Ç–∞—Ç—É—Å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

### ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ referral/logic/deepReferral.ts
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `modules/referral/logic/deepReferral.ts`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–∞
```typescript
// –û–®–ò–ë–ö–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
const { db } = await import('../../server/db');
const { users } = await import('../../shared/schema');
```
**–ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å**:
```typescript
const { db } = await import('../../../server/db');
const { users } = await import('../../../shared/schema');
```
**–°—Ç–∞—Ç—É—Å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

### ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ wallet/logic/transactions.ts
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `modules/wallet/logic/transactions.ts`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –º–æ–¥—É–ª–µ
```typescript
// –û–®–ò–ë–ö–ê: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–¥–µ
import { apiRequest } from '@/lib/queryClient';
import { correctApiRequest } from '@/lib/correctApiRequest';
```
**–°—Ç–∞—Ç—É—Å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê #4: –°–º–µ—à–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ù–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥—É–ª–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- `farming/controller.ts` - –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL
- `wallet/controller.ts` - –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL
- `user/controller.ts` - –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL
**–°—Ç–∞—Ç—É—Å**: –í–´–°–û–ö–ò–ô

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê #5: –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –í—Å–µ –º–æ–¥—É–ª–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –†–∞–∑–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
**–°—Ç–∞—Ç—É—Å**: –°–†–ï–î–ù–ò–ô

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –º–æ–¥—É–ª—è–º

### ‚úÖ –ú–û–î–£–õ–¨: admin
- **Controller**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Service**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, PostgreSQL —Å—Ö–µ–º—ã
- **Types**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–°—Ç–∞—Ç—É—Å**: –ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ù

### ‚úÖ –ú–û–î–£–õ–¨: auth
- **Controller**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Service**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –∑–∞–≥–ª—É—à–∫–∏ JWT
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω, —Å–µ—Å—Å–∏–∏ –∏ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
- **Types**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–°—Ç–∞—Ç—É—Å**: –ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ù

### ‚ùå –ú–û–î–£–õ–¨: boost
- **Controller**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Service**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Logic**: ‚úÖ tonBoostCalculation.ts –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–°—Ç–∞—Ç—É—Å**: –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò

### ‚ùå –ú–û–î–£–õ–¨: farming
- **Controller**: ‚ùå –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- **Service**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Logic**: ‚úÖ rewardCalculation.ts –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–°—Ç–∞—Ç—É—Å**: –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò

### ‚ùå –ú–û–î–£–õ–¨: referral
- **Controller**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Service**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Logic**: ‚ùå deepReferral.ts - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- **–°—Ç–∞—Ç—É—Å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò

### ‚ùå –ú–û–î–£–õ–¨: wallet
- **Controller**: ‚ùå –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- **Service**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Logic**: ‚ùå transactions.ts - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- **–°—Ç–∞—Ç—É—Å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò

### ‚ùå –ú–û–î–£–õ–¨: user
- **Controller**: ‚ùå –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- **Service**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Routes**: –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **Model**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–°—Ç–∞—Ç—É—Å**: –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò

### ‚úÖ –ú–û–î–£–õ–¨: dailyBonus
- **–°—Ç–∞—Ç—É—Å**: –ù–ï –ü–†–û–í–ï–†–ï–ù –ü–û–õ–ù–û–°–¢–¨–Æ

### ‚úÖ –ú–û–î–£–õ–¨: missions
- **–°—Ç–∞—Ç—É—Å**: –ù–ï –ü–†–û–í–ï–†–ï–ù –ü–û–õ–ù–û–°–¢–¨–Æ

### ‚úÖ –ú–û–î–£–õ–¨: telegram
- **–°—Ç–∞—Ç—É—Å**: –ù–ï –ü–†–û–í–ï–†–ï–ù –ü–û–õ–ù–û–°–¢–¨–Æ

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ referral/logic/deepReferral.ts**
2. **–£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ç–∏–ø—ã –≤ wallet/logic/transactions.ts**
3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö**

### üî¥ –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢  
4. **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ SQL –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤ —Å–µ—Ä–≤–∏—Å—ã**
5. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**

### üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
6. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π**
7. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
2. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥
3. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Drizzle ORM –±–µ–∑ –ø—Ä—è–º—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
3. –†–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥

## –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π

- **–ì–æ—Ç–æ–≤—ã –∫ –ø—Ä–æ–¥–∞–∫—à–Ω**: admin, auth (2/10)
- **–¢—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**: boost, farming, user, dailyBonus, missions, telegram (6/10)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**: referral, wallet (2/10)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ UniFarm –∏–º–µ–µ—Ç —Å–µ—Ä—å–µ–∑–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–Ω.