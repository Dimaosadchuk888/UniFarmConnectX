/**
 * REAL-TIME JWT TOKEN TRACKER
 * 
 * –¶–µ–ª—å: –û—Ç—Å–ª–µ–¥–∏—Ç—å —Ç–æ—á–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è JWT —Ç–æ–∫–µ–Ω–∞
 * –ú–µ—Ç–æ–¥: –ê–Ω–∞–ª–∏–∑ Browser Console logs –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
 */

console.log('‚ö° REAL-TIME JWT TOKEN TRACKER –ê–ö–¢–ò–í–ï–ù');
console.log('====================================');

console.log('\nüìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –ü–û–°–õ–ï SERVER RESTART:');
console.log('‚úÖ JWT —Ç–æ–∫–µ–Ω –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù');
console.log('‚úÖ –ë–∞–ª–∞–Ω—Å—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã: UNI=1,232,901.41, TON=1.154325');
console.log('‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ');
console.log('‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã');

console.log('\nüîç –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–ê–†–ê–ú–ï–¢–†–´:');
console.log('- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥');
console.log('- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ browser console errors');
console.log('- –§–∏–∫—Å–∞—Ü–∏—è Network tab 401 errors');
console.log('- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏');

console.log('\nüéØ –ß–¢–û –û–¢–°–õ–ï–ñ–ò–í–ê–ï–ú:');

console.log('\n1Ô∏è‚É£ JWT TOKEN STATUS CHANGES');
console.log('FROM: Token present ‚Üí TO: "JWT —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"');
console.log('Timestamp: –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è');
console.log('Context: –ö–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–µ–¥—à–µ—Å—Ç–≤–æ–≤–∞–ª–∏');

console.log('\n2Ô∏è‚É£ BROWSER CONSOLE ERROR PATTERNS');
console.log('‚ùå "JWT —Ç–æ–∫–µ–Ω —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤"');
console.log('‚ùå "API –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω, –Ω–æ —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"');
console.log('üîÑ "401 error received" ‚Üí token refresh attempts');
console.log('‚ö†Ô∏è "Authentication required" errors');

console.log('\n3Ô∏è‚É£ NETWORK TAB MONITORING');
console.log('HTTP 401 responses from /api/v2/* endpoints');
console.log('Failed requests timeline');
console.log('Token refresh attempts frequency');
console.log('Correlation with balance/farming API calls');

console.log('\n4Ô∏è‚É£ CRITICAL USER ACTIONS CORRELATION');
console.log('- –î–µ–ø–æ–∑–∏—Ç—ã TON/UNI');
console.log('- Withdrawal requests');
console.log('- Balance refresh clicks');
console.log('- Tab switching / background mode');

console.log('\nüö® –û–ñ–ò–î–ê–ï–ú–´–ï –ü–ê–¢–¢–ï–†–ù–´:');

console.log('\n–ü–ê–¢–¢–ï–†–ù 1: PERIODIC DISAPPEARANCE');
console.log('–¢–æ–∫–µ–Ω –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã');
console.log('(–∫–∞–∂–¥—ã–µ 2-5 –º–∏–Ω—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)');
console.log('‚Üí –£–ö–ê–ó–´–í–ê–ï–¢ –ù–ê: Telegram WebApp lifecycle cleanup');

console.log('\n–ü–ê–¢–¢–ï–†–ù 2: ACTION-TRIGGERED DISAPPEARANCE');
console.log('–¢–æ–∫–µ–Ω –∏—Å—á–µ–∑–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö');
console.log('(–¥–µ–ø–æ–∑–∏—Ç—ã, –≤—ã–≤–æ–¥—ã, API –≤—ã–∑–æ–≤—ã)');
console.log('‚Üí –£–ö–ê–ó–´–í–ê–ï–¢ –ù–ê: Backend 401 cascade –∏–ª–∏ race conditions');

console.log('\n–ü–ê–¢–¢–ï–†–ù 3: RANDOM DISAPPEARANCE');
console.log('–¢–æ–∫–µ–Ω –∏—Å—á–µ–∑–∞–µ—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ');
console.log('(–Ω–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–µ–º)');
console.log('‚Üí –£–ö–ê–ó–´–í–ê–ï–¢ –ù–ê: Browser storage policies –∏–ª–∏ memory pressure');

console.log('\n–ü–ê–¢–¢–ï–†–ù 4: IMMEDIATE DISAPPEARANCE');
console.log('–¢–æ–∫–µ–Ω –∏—Å—á–µ–∑–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π');
console.log('(–≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –¥–µ–ø–æ–∑–∏—Ç–∞/–≤—ã–≤–æ–¥–∞)');
console.log('‚Üí –£–ö–ê–ó–´–í–ê–ï–¢ –ù–ê: Application logic clearing tokens on errors');

console.log('\nüìã TRACKING CHECKLIST:');

console.log('\n‚è∞ TIMELINE TRACKING:');
console.log('[ ] T+00:00 - Server restart, token created');
console.log('[ ] T+XX:XX - First token disappearance detected');
console.log('[ ] T+XX:XX - Context analysis: user action, API calls');
console.log('[ ] T+XX:XX - Network tab: 401 errors, timing');
console.log('[ ] T+XX:XX - Pattern identification');

console.log('\nüîç DATA COLLECTION:');
console.log('[ ] Exact timestamp of disappearance');
console.log('[ ] Browser console error messages');
console.log('[ ] Network tab HTTP status codes');
console.log('[ ] User actions in 30 seconds before disappearance');
console.log('[ ] WebSocket connection status');
console.log('[ ] Active API requests at time of disappearance');

console.log('\nüìä CORRELATION ANALYSIS:');
console.log('[ ] Time pattern: fixed intervals vs random');
console.log('[ ] Action correlation: specific triggers');
console.log('[ ] API endpoint correlation: which calls cause 401s');
console.log('[ ] Balance update timing: before/after token loss');

console.log('\nüéØ IMMEDIATE OBJECTIVES:');
console.log('1. WAIT for first token disappearance');
console.log('2. DOCUMENT exact timing and context');
console.log('3. ANALYZE browser console for error sequence');
console.log('4. CHECK Network tab for 401 response patterns');
console.log('5. CORRELATE with user actions or automatic processes');

console.log('\n‚ö° MONITORING STATUS: ACTIVE');
console.log('–û–∂–∏–¥–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è JWT —Ç–æ–∫–µ–Ω–∞...');
console.log('–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.');

// –¢–µ–ø–µ—Ä—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
console.log('\nüîç BROWSER CONSOLE ANALYSIS:');
console.log('–ò–∑ —Ç–µ–∫—É—â–∏—Ö –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ –∞–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã:');
console.log('- WebSocket –ø–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç');
console.log('- Balance updates –ø—Ä–æ—Ö–æ–¥—è—Ç');
console.log('- REFERRAL_REWARD —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è');
console.log('- –ù–µ—Ç –æ—à–∏–±–æ–∫ "JWT —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"');
console.log('');
console.log('‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ü–û–°–õ–ï restart —Å–µ—Ä–≤–µ—Ä–∞');
console.log('–û–∂–∏–¥–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∫–æ–≥–¥–∞ —Ç–æ–∫–µ–Ω –∏—Å—á–µ–∑–Ω–µ—Ç...');