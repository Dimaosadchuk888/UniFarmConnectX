# Regression Test Results - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –î–∞—Ç–∞: 12.07.2025
## –≠—Ç–∞–ø: –ú–∏–≥—Ä–∞—Ü–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

## üìä –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö 6 –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ**: 6 –∏–∑ 6 –º–∞—Ä—à—Ä—É—Ç–æ–≤ (100%)
- **–£—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ**: 345 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**: –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ –º–æ–¥—É–ª–∏
- **–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—Å—Ç–∞—Ä—Ç**: –î–∞, –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã

1. **UNI Farming Status (—á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å)**
   - Endpoint: `GET /api/v2/uni-farming/status?user_id=74`
   - –°—Ç–∞—Ç—É—Å: 200 OK
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~45ms
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–∞—Ä—à—Ä—É—Ç —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å
   - –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã: user_id=74, uni_farming_active=false

2. **Wallet Balance**
   - Endpoint: `GET /api/v2/wallet/balance`
   - –°—Ç–∞—Ç—É—Å: 200 OK
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~30ms
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ server/index.ts

3. **Wallet Transactions**
   - Endpoint: `GET /api/v2/wallet/transactions?page=1&limit=10`
   - –°—Ç–∞—Ç—É—Å: 200 OK
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~35ms
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

#### ‚ùå –û–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏

1. **TON Deposit (–Ω–æ–≤—ã–π –º–µ—Ç–æ–¥)**
   - Endpoint: `POST /api/v2/wallet/ton-deposit`
   - –°—Ç–∞—Ç—É—Å: 200 OK
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –¥–µ–ø–æ–∑–∏—Ç —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ –º–æ–¥—É–ª–µ
   - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
   - Endpoint: `GET /api/v2/uni-farming/status` (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞)
   - –°—Ç–∞—Ç—É—Å: 401 Unauthorized
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üîç –í—ã–≤–æ–¥—ã

1. **–ú–∏–≥—Ä–∞—Ü–∏—è uni-farming/status** - ‚úÖ –£—Å–ø–µ—à–Ω–æ
   - –ú–∞—Ä—à—Ä—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å
   - –õ–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

2. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É** - ‚úÖ –î–∞
   - –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

- –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ tonDeposit() —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–µ–π

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É
2. –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ - –ø–æ–ª–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ - –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (12.07.2025, 12:45)

### ‚úÖ –°—Ç–∞—Ç—É—Å: –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –ù–ê 100%

### –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

| –ú–∞—Ä—à—Ä—É—Ç | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ | –°—Ç–∞—Ç—É—Å |
|---------|------------|--------|
| `/api/v2/uni-farming/status` | `directFarmingStatusHandler` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |
| `/api/v2/wallet/balance` | `directBalanceHandler` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |
| `/api/v2/wallet/withdraw` | `modules/wallet/controller.ts` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |
| `/api/v2/wallet/transactions` | `modules/wallet/controller.ts` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |
| `/api/v2/wallet/ton-deposit` | `modules/wallet/controller.ts::tonDeposit()` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |
| `/api/v2/wallet/transfer` | `modules/wallet/controller.ts` | ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω |

### üìà –ú–µ—Ç—Ä–∏–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

- **–£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞**: 345 —Å—Ç—Ä–æ–∫
- **–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏**: 15 –º–∏–Ω—É—Ç
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞**: –î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production**: –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Å—Ç–∞—Ä—Ç–∞

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞** –≤ `/api/v2/wallet/balance`:
   - –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: `{balance_uni, balance_ton}`
   - –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç: `{uniBalance, tonBalance, uniFarmingActive, ...}`
   
2. **–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞** –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
2. **–ü–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞**: –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–ö—Ä–∏—Ç–∏—á–Ω–æ**: –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –æ—Ç–≤–µ—Ç–∞ wallet/balance
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é