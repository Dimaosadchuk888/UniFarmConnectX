# üéØ PRODUCTION ISSUES - –°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø
**–î–∞—Ç–∞:** 21 –∏—é–ª—è 2025  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 13:06  

---

## ‚úÖ **–°–¢–ê–¢–£–° –ü–†–û–ì–†–ï–°–°–ê**

### 1. üóÑÔ∏è **TON_DEPOSIT –í –ë–î** - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ü—Ä–æ–±–ª–µ–º–∞:** Enum `transaction_type` –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª `TON_DEPOSIT`  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω `'TON_DEPOSIT'` –≤ `shared/schema.ts` –≤ enum TransactionType  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ TON_DEPOSIT —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** User 25 –∏ User 228 —Ç–µ–ø–µ—Ä—å —Å–º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏ TON  

```
‚úÖ –£–°–ü–ï–•! TON_DEPOSIT —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: {
  id: 944001, type: 'TON_DEPOSIT', currency: 'TON', amount: 0.001
}
```

---

### 2. üîç **–ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –ü–†–û–¶–ï–°–°–´** - üîÑ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

**–ù–∞–π–¥–µ–Ω—ã 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞:**
```
PID 219: node /home/runner/.../tsx server/index.ts
PID 230: /nix/store/.../node server/index.ts
```

**–ê–Ω–∞–ª–∏–∑:** 
- –ü–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å - shell wrapper (sh -c)
- –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ü–µ—Å—Å - —Ä–µ–∞–ª—å–Ω—ã–π Node.js —Å–µ—Ä–≤–µ—Ä
- –≠—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ tsx —Å–µ—Ä–≤–µ—Ä–∞
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ù–ï –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–í—ã–≤–æ–¥:** –ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö, –æ–Ω–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ  

---

### 3. üé® **REFERRAL_REWARD_TON –¶–í–ï–¢–ê** - üîÑ –í –ü–†–û–¶–ï–°–°–ï

**–ü—Ä–æ–±–ª–µ–º–∞:** TON –∏ UNI —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞  
**–†–µ—à–µ–Ω–∏–µ:** –õ–æ–≥–∏–∫–∞ –≤ `StyledTransactionItem.tsx` —É–∂–µ –≥–æ—Ç–æ–≤–∞:  
- UNI —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ ‚Üí —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ  
- TON —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ ‚Üí —Å–∏–Ω–∏–µ (cyan/blue)  

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞:**
```javascript
'REFERRAL_REWARD_TON': {
  bgGradient: 'from-cyan-500/20 to-blue-600/20',
  iconColor: 'text-cyan-400',
  amountColor: 'text-cyan-400'
}
```

**–°—Ç–∞—Ç—É—Å:** –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø–æ `currency` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚úÖ

---

## üìä **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

### –ü–†–ò–û–†–ò–¢–ï–¢ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ò—Å—Ç–æ—á–Ω–∏–∫: –ù–ï –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã  
- –ü–æ–¥–æ–∑—Ä–µ–Ω–∏—è: ReeferalService –∏–ª–∏ BatchBalanceProcessor  
- –ù—É–∂–Ω–æ: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  

### –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–æ–≤
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ TON —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∞–∑–ª–∏—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –≤ UI  
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ UNI —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∏  

### –ü–†–ò–û–†–ò–¢–ï–¢ 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- User 25: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ TON –¥–µ–ø–æ–∑–∏—Ç—ã  
- User 228: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è schema  

---

## üéØ **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø**

1. **Schema –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:** `TON_DEPOSIT` –¥–æ–±–∞–≤–ª–µ–Ω –≤ enum ‚úÖ
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:** –°–æ–∑–¥–∞–Ω–∏–µ TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ  
3. **–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ù–ï –≤–∏–Ω–æ–≤–∞—Ç—ã ‚úÖ
4. **–¶–≤–µ—Ç–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≥–æ—Ç–æ–≤–∞:** REFERRAL_REWARD_TON –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ ‚úÖ
5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** DEPOSIT + currency='TON' —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

---

**–°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì:** –°–æ–∑–¥–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã