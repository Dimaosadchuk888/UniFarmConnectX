# –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö TON Connect

## –°—Ç–∞—Ç—É—Å: ‚úÖ –§–ê–ó–ê 1 –ó–ê–í–ï–†–®–ï–ù–ê

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π —ç–º—É–ª—è—Ü–∏–∏ –≤ Tonkeeper/Ton Space —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω bounce —Ñ–ª–∞–≥ (–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï)
**–§–∞–π–ª:** `client/src/services/tonConnectService.ts` —Å—Ç—Ä–æ–∫–∏ 371-378
```typescript
// –î–û:
messages: [
  {
    address: TON_PROJECT_ADDRESS,
    amount: nanoTonAmount,
    payload: payload
  }
]

// –ü–û–°–õ–ï:
messages: [
  {
    address: TON_PROJECT_ADDRESS,
    amount: nanoTonAmount,
    payload: payload,
    bounce: false // –î–ª—è –æ–±—ã—á–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ - —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫–∏ —ç–º—É–ª—è—Ü–∏–∏
  }
]
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—à–µ–ª–µ–∫ —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

### 2. ‚úÖ –°–æ–∫—Ä–∞—â–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π BOC (–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï)
**–§–∞–π–ª:** `client/src/services/tonConnectService.ts` —Å—Ç—Ä–æ–∫–∞ 352
```typescript
// –î–û:
const rawPayload = `UniFarmBoost:${userId}:${boostId}`;

// –ü–û–°–õ–ï:
const rawPayload = "UniFarm";
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ–º –ª–∏–º–∏—Ç–æ–≤ storeStringTail()

### 3. ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï)
**–§–∞–π–ª:** `client/src/services/tonConnectService.ts` —Å—Ç—Ä–æ–∫–∏ 528-529
```typescript
// –î–û:
console.log('[DEBUG] ‚ö†Ô∏è –ü–†–û–í–ï–†–ö–ê isTonPaymentReady –û–¢–ö–õ–Æ–ß–ï–ù–ê –ü–û –¢–ó, –í–û–ó–í–†–ê–©–ê–ï–ú TRUE –î–õ–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò');
return true; // –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º true –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è sendTransaction

// –ü–û–°–õ–ï:
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
return isReady;
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≥–æ—Ç–æ–≤–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

### 4. ‚úÖ –ó–∞–º–µ–Ω–µ–Ω —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï)
**–§–∞–π–ª:** `client/src/services/tonConnectService.ts` —Å—Ç—Ä–æ–∫–∏ 106-117
```typescript
// –î–û:
const fallbackPayload = 'te6cckEBAQEADgAAGAAAAABVbmlGYXJtAACjJA==';

// –ü–û–°–õ–ï:
const { beginCell } = await import('@ton/core');
const fallbackCell = beginCell()
  .storeUint(0, 32)
  .storeStringTail("UniFarm")
  .endCell();
const fallbackPayload = uint8ArrayToBase64(fallbackCell.toBoc());
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ BOC –≤–º–µ—Å—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç:
–ó–∞–ø—É—â–µ–Ω `ton-connect-transaction-validator.cjs` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π —ç–º—É–ª—è—Ü–∏–∏** - bounce —Ñ–ª–∞–≥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ—à–µ–ª—å–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ BOC** - –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π fallback
3. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
4. **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ TON Connect —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç TON Connect —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

1. **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
   - –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å Tonkeeper
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º—É–ª—è—Ü–∏–∏:**
   - –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ Tonkeeper
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "–ú—ã –Ω–µ —Å–º–æ–≥–ª–∏ –ø—Ä–æ–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é" –∏—Å—á–µ–∑–ª–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

3. **Testnet —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å –º–∞–ª–æ–π —Å—É–º–º–æ–π (0.01 TON)
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∞–¥—Ä–µ—Å–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ backend

## –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:** 15-20 –º–∏–Ω—É—Ç
- **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏:** 12 –º–∏–Ω—É—Ç
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ 1 —Ñ–∞–π–ª–µ

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ development –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Tonkeeper –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

### –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ production
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–§–∞–∑–∞ 2):
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è URL
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ TonAPI

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 20 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:** –£–°–¢–†–ê–ù–ï–ù–ê  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:** –î–ê (–ø–æ—Å–ª–µ testnet –ø—Ä–æ–≤–µ—Ä–∫–∏)