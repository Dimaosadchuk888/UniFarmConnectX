# AdminBot - –ò—Ç–æ–≥–æ–≤—ã–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç
**–î–∞—Ç–∞:** 22 –∏—é–ª—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù–´

## –ü—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–†–ï–®–ï–ù–´)

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –î–û —É–ª—É—á—à–µ–Ω–∏–π:
1. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è –ë–î
2. **–ó–∞—è–≤–∫–∏ —Å–º–µ—à–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π** - –∫–∞–∂–¥–∞—è –∑–∞—è–≤–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏  
3. **–ù–µ—É–¥–æ–±–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å–∞** - –Ω–µ—Ç –º–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ù–µ–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç username/telegram_id

### ‚úÖ –†–µ—à–µ–Ω–∏—è –ü–û–°–õ–ï —É–ª—É—á—à–µ–Ω–∏–π:

#### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ë–î
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** `request.amount_ton` ‚Üí `request.amount`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** `request.ton_wallet` ‚Üí `request.wallet_address`  
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** JOIN —Å —Ç–∞–±–ª–∏—Ü–µ–π users –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è username/telegram_id
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

#### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- **–ë—ã–ª–æ:** –ö–∞–∂–¥–∞—è –∑–∞—è–≤–∫–∞ = –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Å–ø–∞–º)
- **–°—Ç–∞–ª–æ:** –í—Å–µ –∑–∞—è–≤–∫–∏ –≤ –æ–¥–Ω–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** –≠–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å—ã ‚è≥ Pending / ‚úÖ Approved / ‚ùå Rejected
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** –ù—É–º–µ—Ä–∞—Ü–∏—è –∏ —á–µ—Ç–∫–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏

#### 3. –£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏
- **–§–∏–ª—å—Ç—Ä—ã:** –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (pending/approved/rejected)
- **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
- **–ü–æ–∏—Å–∫:** –ö–æ–º–∞–Ω–¥–∞ `/search_user <telegram_id>` –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –ö–æ–º–∞–Ω–¥–∞ `/withdrawal_stats` —Å –ø–æ–ª–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

#### 4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
  - `/search_user <telegram_id>` - –ø–æ–∏—Å–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `/withdrawal_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º
- **–ù–æ–≤—ã–µ callback –∫–Ω–æ–ø–∫–∏:**
  - `withdrawals:pending/approved/rejected/all` - —Ñ–∏–ª—å—Ç—Ä—ã
  - `copy_all_addresses` - –º–∞—Å—Å–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤
  - `withdrawal_stats` - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### modules/adminBot/service.ts
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω JOIN —Å users –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è –ë–î (amount_ton ‚Üí amount, ton_wallet ‚Üí wallet_address)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: `getWithdrawalStats()`, `searchWithdrawalsByUser()`
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### modules/adminBot/controller.ts
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω `handleWithdrawalsCommand()` —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º UX
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: `handleSearchUserCommand()`, `handleWithdrawalStatsCommand()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (showApprovalConfirmation, showRejectionConfirmation)

## –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ë–´–õ–û (–ø—Ä–æ–±–ª–µ–º—ã):
```
üí∏ –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥

üÜî ID: abc123
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @unknown (undefined)
üí∞ –°—É–º–º–∞: undefined TON  
üëõ –ö–æ—à–µ–ª–µ–∫: undefined
üìÖ –î–∞—Ç–∞: Invalid Date
üìå –°—Ç–∞—Ç—É—Å: pending
[–û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏]
```

### –°–¢–ê–õ–û (—É–ª—É—á—à–µ–Ω–∏—è):
```
üí∏ –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ ‚è≥ PENDING
–ü–æ–∫–∞–∑–∞–Ω–æ: 5 –∑–∞—è–≤–æ–∫

1. ‚è≥ ID: abc123
üë§ @username (123456789)
üí∞ 1.2500 TON
üè¶ UQAbc123...def456
üìÖ 22.07.2025, 15:30:00
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

[–í—Å–µ –∑–∞—è–≤–∫–∏ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏]

–ö–Ω–æ–ø–∫–∏:
[‚è≥ Pending] [‚úÖ Approved] [‚ùå Rejected]
[üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å–∞ (5)]
[‚úÖ –û–¥–æ–±—Ä–∏—Ç—å –≤—Å–µ (3)] [‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å –≤—Å–µ (3)]
[üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞] [üîç –ü–æ–∏—Å–∫]
```

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π

- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ:** 8 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ë–î
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** 5 –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **–£–ª—É—á—à–µ–Ω–æ:** 100% –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- **–°–æ–∫—Ä–∞—â–µ–Ω —Å–ø–∞–º:** —Å N —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ 1 —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –≤—Å–µ –∑–∞—è–≤–∫–∏
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
/admin                    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/withdrawals             # –í—Å–µ –∑–∞—è–≤–∫–∏  
/withdrawals pending     # –¢–æ–ª—å–∫–æ pending
/withdrawals approved    # –¢–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ
/withdrawals rejected    # –¢–æ–ª—å–∫–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ

# –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã  
/search_user 123456789   # –ü–æ–∏—Å–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/withdrawal_stats        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—è–≤–æ–∫
```

## –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚úÖ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**
- ‚úÖ **UX –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω** 
- ‚úÖ **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**
- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞**

**–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö PRODUCTION –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**