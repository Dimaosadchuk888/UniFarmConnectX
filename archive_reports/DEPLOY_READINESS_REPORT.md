# üìã –û–¢–ß–Å–¢ –ì–û–¢–û–í–ù–û–°–¢–ò –ö DEPLOY –° REPLIT SECRETS

## üöÄ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: **85%** (–ï—Å—Ç—å –±–ª–æ–∫–µ—Ä!)

### 1. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–µ–∫—Ä–µ—Ç—ã (100%)
- ‚úÖ –í—Å–µ 14 —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Replit Secrets
- ‚úÖ .env —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ .env_backup —É–¥–∞–ª—ë–Ω
- ‚úÖ .gitignore –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ö†Ô∏è .replit —Ñ–∞–π–ª—ã –∑–∞—â–∏—â–µ–Ω—ã —Å–∏—Å—Ç–µ–º–æ–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

### 2. ‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –∏ Backend (80%)
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ .env —Ñ–∞–π–ª–∞
- ‚úÖ Health endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç (/health ‚Üí status: ok)
- ‚úÖ API health —Ä–∞–±–æ—Ç–∞–µ—Ç (/api/v2/health ‚Üí ok)
- ‚úÖ WebSocket heartbeat –∞–∫—Ç–∏–≤–µ–Ω (–∏–∑ –ª–æ–≥–æ–≤)
- ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –û—à–∏–±–∫–∞ 401 Unauthorized –≤ –ª–æ–≥–∞—Ö
- ‚ùå JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### 3. ‚ö†Ô∏è Frontend (70%)
- ‚úÖ 4 VITE_* –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚ö†Ô∏è Telegram WebApp –Ω–µ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

### 4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (90%)
- ‚úÖ 3 Telegram –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ ADMIN_BOT_TOKEN –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ TON_BOOST_RECEIVER_ADDRESS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ webhook'–æ–≤

### 5. ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (100%)
- ‚úÖ –ù–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ
- ‚úÖ JWT_SECRET –≤ Replit Secrets
- ‚úÖ –í—Å–µ —Ç–æ–∫–µ–Ω—ã –∑–∞—â–∏—â–µ–Ω—ã
- ‚úÖ .gitignore –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 6. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ Workflow (95%)
- ‚úÖ .replit.workflow –Ω–∞ production —Ä–µ–∂–∏–º–µ
- ‚úÖ replit.md –∞–∫—Ç—É–∞–ª–µ–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### 7. ‚ö†Ô∏è –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–¢—Ä–µ–±—É–µ—Ç—Å—è!)

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–õ–û–ö–ï–†–´:

### 1. **401 Unauthorized Error**
```
[DEBUG] QueryClient - Response error: 
{
  "status": 401,
  "statusText": "Unauthorized",
  "errorData": {
    "success": false,
    "error": "Authentication required",
    "need_jwt_token": true
  }
}
```

**–ü—Ä–∏—á–∏–Ω–∞**: Frontend –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç JWT —Ç–æ–∫–µ–Ω
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ preview —Ä–µ–∂–∏–º–µ

### 2. **Telegram WebApp –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω**
```
[UserService] Telegram WebApp –ù–ï –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
```

**–ü—Ä–∏—á–∏–Ω–∞**: Preview —Ä–µ–∂–∏–º –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Telegram initData
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º Telegram Mini App

## üìù –î–ï–ô–°–¢–í–ò–Ø –ü–ï–†–ï–î DEPLOY:

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT middleware
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ preview —Ä–µ–∂–∏–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É JWT —Ç–æ–∫–µ–Ω–∞ –≤–æ frontend

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram**:
   - –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ @UniFarming_Bot
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ initData
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

3. **Smoke —Ç–µ—Å—Ç—ã**:
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üéØ –í–ï–†–î–ò–ö–¢:

**–ù–ï –ì–û–¢–û–í –ö DEPLOY** –∏–∑-–∑–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (401 Unauthorized).

### üîß –†–ï–®–ï–ù–ò–ï –ë–õ–û–ö–ï–†–ê:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `/check-jwt-auth.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
2. **–ù–∞–∂–º–∏—Ç–µ "Create Preview User"** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è JWT —Ç–æ–∫–µ–Ω–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω** –∫–Ω–æ–ø–∫–æ–π "Check Current Auth"
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API** –∫–Ω–æ–ø–∫–æ–π "Test API Call"

### üì± –î–õ–Ø PRODUCTION:

1. **Telegram Mini App**:
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ initData
   - JWT —Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

2. **Preview —Ä–µ–∂–∏–º**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/check-jwt-auth.html` –¥–ª—è —Ä—É—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –∫ production deployment –Ω–∞ 100%.