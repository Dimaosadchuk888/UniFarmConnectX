# üìã TON BOOST ‚Äì –§–ò–ù–ê–õ–¨–ù–´–ô –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢

**–î–∞—Ç–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:** 13 –∏—é–ª—è 2025, 15:23  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã  
**–ú–µ—Ç–æ–¥:** –§–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞  
**–ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏:** 2 –ø–∞–∫–µ—Ç–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (15:14 –∏ 15:19)

---

## ‚úÖ 1. –°–û–°–¢–û–Ø–ù–ò–ï –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–û–í

### üîÑ UNI Farming —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `node-cron` –≤ `core/scheduler/farmingScheduler.ts`
- –ü–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ: 0 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

### ‚ùå TON Boost –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `setInterval` –≤ `modules/scheduler/tonBoostIncomeScheduler.ts`
- –ü–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ: **43.5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥**
- **–ù–∏–∫–∞–∫–∏—Ö –ª–æ–≥–æ–≤ –æ —Å—Ç–∞—Ä—Ç–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞**
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞

---

## üß© 2. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê

**–ö–æ–¥ –≤ `server/index.ts` (—Å—Ç—Ä–æ–∫–∏ 949-955):**
```typescript
try {
  tonBoostIncomeScheduler.start();
  logger.info('‚úÖ TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω');
} catch (error) {
  logger.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞', { error });
}
```

### ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞
### ‚ùå –ù–æ –ª–æ–≥–æ–≤ –æ —Å—Ç–∞—Ä—Ç–µ –Ω–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –º–µ—Ç–æ–¥–µ `start()`:**
- –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ `setInterval`
- –û—à–∏–±–∫–∏ –≤ `this.processTonBoostIncome()` –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üî• 3. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ë–ê–ì –í –†–ê–°–ß–ï–¢–ï –î–û–•–û–î–ê

**–§–∞–π–ª:** `modules/scheduler/tonBoostIncomeScheduler.ts`, —Å—Ç—Ä–æ–∫–∞ 117

```typescript
const userDeposit = Math.max(0, parseFloat(user.farming_balance || '0'));
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
–•–æ—Ç—è –∫–æ–¥ –ü–†–ê–í–ò–õ–¨–ù–´–ô (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `farming_balance`), –Ω–æ:
- `farming_balance` –í–°–ï–ì–î–ê = 0
- –ü–æ–∫—É–ø–∫–∞ –ø–∞–∫–µ—Ç–∞ –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç—Ç–æ –ø–æ–ª–µ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–æ—Ö–æ–¥ –ù–ï –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è

---

## üß± 4. –°–û–°–¢–û–Ø–ù–ò–ï –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 74 –ø–æ—Å–ª–µ 2 –Ω–æ–≤—ã—Ö –ø–æ–∫—É–ø–æ–∫:

| –ü–æ–ª–µ | –¢–∞–±–ª–∏—Ü–∞ `users` | –¢–∞–±–ª–∏—Ü–∞ `ton_farming_data` |
|------|-----------------|----------------------------|
| balance_ton | 794.25 TON | - |
| ton_boost_active | true | true |
| ton_boost_package_id | NULL | 2 |
| ton_farming_balance | NULL | **0** ‚ùå |

### –í–°–ï 10 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **100% –∏–º–µ—é—Ç farming_balance = 0**
- –°–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–∞–∫–µ—Ç–æ–≤

---

## üß† 5. –õ–û–ì–ò–ö–ê –ü–û–ö–£–ü–ö–ò ‚Äì –ù–ï –°–û–•–†–ê–ù–Ø–ï–¢ –î–ï–ü–û–ó–ò–¢

**–§–∞–π–ª:** `modules/boost/TonFarmingRepository.ts`, –º–µ—Ç–æ–¥ `activateBoost()`

```typescript
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–∞ –í–ö–õ–Æ–ß–ê–Æ–¢ depositAmount
async activateBoost(userId, packageId, rate, expiresAt?, depositAmount?)

// –ù–æ –≤ upsert –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
upsert({
  boost_active: true,
  boost_package_id: packageId,
  farming_rate: rate.toString(),
  farming_balance: depositAmount ? depositAmount.toString() : '0', // ‚úÖ –ö–æ–¥ –µ—Å—Ç—å
  // ...
});
```

### üí• –ü—Ä–æ–±–ª–µ–º–∞ –≤ –≤—ã–∑–æ–≤–µ:
**–§–∞–π–ª:** `modules/boost/service.ts`, —Å—Ç—Ä–æ–∫–∞ 331
```typescript
await tonFarmingRepo.activateBoost(
  userId,
  boostPackage.id,
  boostPackage.daily_rate / 100,
  expiresAt,
  requiredAmount // ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è
);
```

**–ù–æ farming_balance –≤—Å–µ —Ä–∞–≤–Ω–æ = 0 –¥–ª—è –≤—Å–µ—Ö!**

---

## üìâ 6. –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ù–û–ï –ü–û–í–ï–î–ï–ù–ò–ï

| –®–∞–≥ | –û–∂–∏–¥–∞–Ω–∏–µ | –†–µ–∞–ª—å–Ω–æ—Å—Ç—å |
|-----|----------|------------|
| 1 | –ü–æ–∫—É–ø–∫–∞ —Å–ø–∏—Å—ã–≤–∞–µ—Ç TON | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| 2 | –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è farming_balance | ‚ùå –û—Å—Ç–∞–µ—Ç—Å—è 0 |
| 3 | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è | ‚ùå –ù–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è |
| 4 | –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è –¥–æ—Ö–æ–¥ | ‚ùå –ù–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π |

---

## üí∞ 7. –§–ò–ù–ê–ù–°–û–í–û–ï –í–û–ó–î–ï–ô–°–¢–í–ò–ï

**–ï—Å–ª–∏ –±—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞–±–æ—Ç–∞–ª —Å —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–æ–π:**
- –ë–∞–∑–∞ —Ä–∞—Å—á–µ—Ç–∞: 0 TON (farming_balance)
- –î–æ—Ö–æ–¥ –≤ –¥–µ–Ω—å: 0 TON
- **–ù–∏–∫—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Ö–æ–¥!**

---

## üõ†Ô∏è 8. –í–´–í–û–î–´

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
2. **farming_balance = 0** –¥–ª—è –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏** (15:14, 15:19) –ù–ï –∏—Å–ø—Ä–∞–≤–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É
4. **–ö–æ–¥ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏** –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –ù–ï –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –∫ —Ä–∞–±–æ—Ç–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º–µ
- –í–æ–∑–º–æ–∂–Ω–æ, —Å–µ—Ä–≤–µ—Ä –∑–∞–≥—Ä—É–∑–∏–ª —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
- –ò–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–í–°–ï –ø—É–Ω–∫—Ç—ã –¢–ó –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –Ω–∞ 100%:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|----------|--------|
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| farming_balance | –í—Å–µ–≥–¥–∞ 0 –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| –ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏ | –ù–µ –æ–±–Ω–æ–≤–ª—è—é—Ç farming_balance | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| –î–æ—Ö–æ–¥ | –ù–µ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∏–∫–æ–º—É | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |

**–°–∏—Å—Ç–µ–º–∞ TON Boost –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞!**