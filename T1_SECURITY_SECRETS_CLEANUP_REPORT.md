# üîê T1. –û–¢–ß–ï–¢: –£–¥–∞–ª–µ–Ω–∏–µ .env –∏ –∑–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤

## ‚úÖ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û:

### 1. **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª `.env` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª `.env.local` —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –§–∞–π–ª—ã –±–æ–ª—å—à–µ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ .gitignore**
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —á—Ç–æ `.env` –∏ `.env.local` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .gitignore
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ env —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ fallback —Å–µ–∫—Ä–µ—Ç–æ–≤**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è `SESSION_SECRET` –∏ `JWT_SECRET` –≤ `config/app.ts`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–æ —Å `process.env.SESSION_SECRET || 'fallback'` –Ω–∞ `process.env.SESSION_SECRET!`
- ‚úÖ –¢–µ–ø–µ—Ä—å —Å–µ–∫—Ä–µ—Ç—ã —á–∏—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
- ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å `SESSION_SECRET` –∏ `JWT_SECRET` –∏–∑ optional –≤ required –≤ `core/envValidator.ts`
- ‚úÖ –°–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ —ç—Ç–∏—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üß™ –ß–¢–û –ë–´–õ–û –ü–†–û–í–ï–†–ï–ù–û:

### 1. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `core/`, `config/`, `server/`, `modules/` –Ω–∞ —Ö–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —á—Ç–æ –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `process.env`
- ‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —É–¥–∞–ª–µ–Ω–∏–µ `.env` –∏ `.env.local` –∏–∑ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ–∞–π–ª—ã: `.env.example`, `.env.replit`

### 3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ `config/app.ts` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –£–±–µ–¥–∏–ª—Å—è —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

## ‚ö†Ô∏è –ß–¢–û –û–°–¢–ê–í–õ–ï–ù–û –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô:

### 1. **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
- `.env.example` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤)
- `.env.replit` - —Å–ª—É–∂–µ–±–Ω—ã–π —Ñ–∞–π–ª Replit (–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤)

### 2. **Middleware —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏**
- `core/middleware/telegramMiddleware.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç crypto –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
- `core/middleware/auth.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç crypto –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π  
- `modules/telegram/service.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç crypto –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π

### 3. **–ù–µ–æ–ø–∞—Å–Ω—ã–µ fallback –∑–Ω–∞—á–µ–Ω–∏—è**
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã fallback –¥–ª—è –Ω–µ–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (PORT, HOST, NODE_ENV)

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö #1 –£–°–¢–†–ê–ù–ï–ù**: –§–∞–π–ª—ã .env –±–æ–ª—å—à–µ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤**: 
- ‚ùå –†–∞–Ω—å—à–µ: –°–µ–∫—Ä–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ –¢–µ–ø–µ—Ä—å: –°–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ Replit Secrets, –±–µ–∑ fallback

**–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
- ‚ùå –†–∞–Ω—å—à–µ: –°–µ—Ä–≤–µ—Ä –º–æ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ JWT_SECRET/SESSION_SECRET
- ‚úÖ –¢–µ–ø–µ—Ä—å: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

**–°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: üü¢ –ò–°–ü–†–ê–í–õ–ï–ù–û