# üß© –¢–ó: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ñ–∞—Ä–º–∏–Ω–≥–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞:** 9 –∏—é–ª—è 2025
**–û—Å–Ω–æ–≤–∞–Ω–∏–µ:** `UNIFARM_SYNCHRONIZATION_AUDIT_REPORT.md` + —Ç–µ–∫—É—â–∏–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã

---

## üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Ññ1: **–§–ª–∞–≥ `uni_farming_active` –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è**

### üö´ –ü—Ä–æ–±–ª–µ–º–∞:

* –í –∫–æ–¥–µ –º–µ—Ç–æ–¥–∞ `depositUniForFarming()` –ø—Ä–æ–ø–∏—Å–∞–Ω–æ:

  ```ts
  uni_farming_active: true  // –ò–°–ü–†–ê–í–õ–ï–ù–û
  ```
* –ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–µ–ø–æ–∑–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–ª–∞–≥ **–æ—Å—Ç–∞—ë—Ç—Å—è `false`**
* –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, **—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π –∫–æ–¥–∞** (–±–µ–∑ —Ñ–∏–∫—Å–∞)

### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

* –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ **–ø–µ—Ä–µ–∑–∞–ª–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–µ—Ä–≤–∏—Å–∞**, –≤ –∫–æ—Ç–æ—Ä–æ–π:

  * –§–ª–∞–≥ `uni_farming_active` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `true`
* –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—Ä—É—á–Ω—É—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

  1. –°–¥–µ–ª–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç
  2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `uni_farming_active = true`
  3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—Ç—É—é—Ç

---

## üßÆ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ2: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ `FARMING_DEPOSIT`

### üö´ –°–µ–π—á–∞—Å:

* –î–ª—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –≤ —Ñ–∞—Ä–º–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `FARMING_REWARD` —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π —Å—É–º–º–æ–π
* –≠—Ç–æ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ –∏ –ª–æ–º–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ:

* –î–æ–±–∞–≤–∏—Ç—å –≤ `transactions/model.ts` –Ω–æ–≤—ã–π —Ç–∏–ø:

  ```ts
  FARMING_DEPOSIT = 'FARMING_DEPOSIT'
  ```
* –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –¥–µ–ø–æ–∑–∏—Ç–µ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø
* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–∫:

  * `type: 'FARMING_DEPOSIT'`
  * `amount_uni: (-depositAmount).toString()`

---

## üì¶ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ3: TON-–∫–æ—à–µ–ª—ë–∫ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ë–î

### üö´ –í `users` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è:

* `ton_wallet_address`
* `ton_wallet_verified`
* `ton_wallet_linked_at`

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

* –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É `users` –≤ Supabase:

  ```sql
  ALTER TABLE users
    ADD COLUMN ton_wallet_address TEXT,
    ADD COLUMN ton_wallet_verified BOOLEAN DEFAULT false,
    ADD COLUMN ton_wallet_linked_at TIMESTAMP;
  ```

---

## üß© –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

* –ù–µ–æ–±—Ö–æ–¥–∏–º–æ **—Å—Ä–æ—á–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ñ–∞—Ä–º–∏–Ω–≥–∞**
* –í–Ω–µ—Å—Ç–∏ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
* –ü—Ä–æ–≤–µ—Å—Ç–∏ **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã `users` —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π TON Boost**

‚úâÔ∏è –ú–æ–∂–µ—à—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π `.md` —Ñ–∞–π–ª –∏–ª–∏ —Ç–∏–∫–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏.