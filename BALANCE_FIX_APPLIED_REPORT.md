# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï "–ü–†–´–ì–ê–Æ–©–ï–ì–û" –ë–ê–õ–ê–ù–°–ê –ü–†–ò–ú–ï–ù–ï–ù–û

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ 264 (—Å—Ç–∞—Ä—ã–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á):
```javascript
// –£–î–ê–õ–ï–ù–û: queryClient.invalidateQueries({ queryKey: ['/api/wallet/balance'] });
```
–≠—Ç–æ –±—ã–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–ª—é—á API, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 2. –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ 270 (–¥—É–±–ª–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤):
```javascript
// –£–î–ê–õ–ï–ù–û: refreshBalance();
```
–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å—Ç—Ä–æ–∫–∏ 325

### 3. –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ 332 (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π invalidate):
```javascript
// –£–î–ê–õ–ï–ù–û: queryClient.invalidateQueries({ queryKey: ['/api/v2/wallet/balance'] });
```
–≠—Ç–æ –±—ã–ª –¥—É–±–ª—å –≤—ã–∑–æ–≤–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏ 327

## –†–µ–∑—É–ª—å—Ç–∞—Ç:

### –ë—ã–ª–æ:
- 3 –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
- Race condition –º–µ–∂–¥—É refreshBalance() –∏ invalidateQueries
- –ë–∞–ª–∞–Ω—Å "–ø—Ä—ã–≥–∞–ª": 33 ‚Üí 20.84 ‚Üí 33 ‚Üí 20.84

### –°—Ç–∞–ª–æ:
- 1 —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ refreshBalance(true)
- 1 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π invalidateQueries –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ API
- –ü–ª–∞–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –±–µ–∑ "–ø—Ä—ã–∂–∫–æ–≤"

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:

‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ - —Ç–æ–ª—å–∫–æ —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞
‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞
‚úÖ WebSocket –∏ –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã
‚úÖ –õ–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è

## –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∫—É–ø–∫–µ TON Boost:
1. –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ (20.84 TON)
2. –ù–µ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å—Ç–∞—Ä–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é (33 TON)
3. WebSocket —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –°—Ç–∞—Ç—É—Å: 
üü¢ **–ü–†–ò–ú–ï–ù–ï–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.