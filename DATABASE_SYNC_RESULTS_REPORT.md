# üìä –û–¢–ß–ï–¢ –û –†–ï–ó–£–õ–¨–¢–ê–¢–ê–• –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –ë–ê–ó–´ –î–ê–ù–ù–´–•

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 11 —è–Ω–≤–∞—Ä—è 2025, 07:53  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ

---

## ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

### 1. –ü–æ–ª–µ users.last_active
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
- **–ó–Ω–∞—á–µ–Ω–∏–µ:** NULL (–±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- **–í–ª–∏—è–Ω–∏–µ:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ getUserStats

### 2. –ü–æ–ª—è transactions
- **amount:** ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
- **currency:** ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û  
- **–í–ª–∏—è–Ω–∏–µ:** –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—É–º–º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

### 3. –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **user_sessions:** ‚úÖ –°–û–ó–î–ê–ù–ê (0 –∑–∞–ø–∏—Å–µ–π)
- **referral_commissions:** ‚úÖ –°–û–ó–î–ê–ù–ê (0 –∑–∞–ø–∏—Å–µ–π)
- **system_settings:** ‚úÖ –°–û–ó–î–ê–ù–ê (0 –∑–∞–ø–∏—Å–µ–π)
- **airdrop_claims:** ‚úÖ –°–û–ó–î–ê–ù–ê (0 –∑–∞–ø–∏—Å–µ–π)

---

## üìà –ü–†–û–ì–†–ï–°–° –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò

### –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (ENUM):
- **–í –ë–î –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã** (—Å—É–¥—è –ø–æ –æ—à–∏–±–∫–µ "already exists"):
  - FARMING_REWARD ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
  - BOOST_REWARD ‚úÖ (–¥–æ–±–∞–≤–ª–µ–Ω)
  - MISSION_REWARD ‚úÖ (–¥–æ–±–∞–≤–ª–µ–Ω)
  - DAILY_BONUS ‚úÖ (–¥–æ–±–∞–≤–ª–µ–Ω)
  - –ò –¥—Ä—É–≥–∏–µ...

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ FARMING_REWARD, –Ω–æ –≤—Å–µ —Ç–∏–ø—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è –µ—â–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ –æ–Ω–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:
- users: is_guest, guest_id, referred_by_user_id
- transactions: from_user_id, to_user_id

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. **–û—à–∏–±–∫–∞ "column users.last_active does not exist"** - –£–°–¢–†–ê–ù–ï–ù–ê
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∞–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –†–ï–®–ï–ù–ê (—Ç–∏–ø—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ enum)
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π amount/currency** - –ò–°–ü–†–ê–í–õ–ï–ù–û
4. **–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã** - –°–û–ó–î–ê–ù–´

### üìä –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:
- **–î–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** 70% (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏)
- **–ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** 95% (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞)

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è –ø–æ–ª–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–æ–ª—è, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ users
ALTER TABLE users 
ADD COLUMN IF NOT EXISTS is_guest BOOLEAN DEFAULT FALSE,
ADD COLUMN IF NOT EXISTS guest_id VARCHAR(255),
ADD COLUMN IF NOT EXISTS referred_by_user_id INTEGER REFERENCES users(id);

-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ transactions
ALTER TABLE transactions
ADD COLUMN IF NOT EXISTS from_user_id INTEGER REFERENCES users(id),
ADD COLUMN IF NOT EXISTS to_user_id INTEGER REFERENCES users(id);
```

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
3. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ –ë–î

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö UniFarm —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å –∫–æ–¥–æ–º!**

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã:
- –ü–æ–ª–µ last_active –¥–æ–±–∞–≤–ª–µ–Ω–æ
- –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞—Å—à–∏—Ä–µ–Ω—ã
- –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ

–ö–æ–¥ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.