# –ü–µ—Ä–µ–Ω–æ—Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ –º–æ–¥—É–ª–∏ - –ó–ê–í–ï–†–®–ï–ù

## –ß—Ç–æ –±—ã–ª–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ

### ‚úÖ –ò–∑ server/routes-clean.ts –≤ –º–æ–¥—É–ª–∏:

**User –º–æ–¥—É–ª—å:**
- `/api/v2/me` ‚Üí `modules/user/controller.ts::getCurrentUser`
- `/api/v2/users/generate-refcode` ‚Üí `modules/user/controller.ts::generateRefCode`

**Wallet –º–æ–¥—É–ª—å:**
- `/api/v2/wallet` ‚Üí `modules/wallet/controller.ts::getWalletData`
- –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**Farming –º–æ–¥—É–ª—å:**
- `/api/v2/farming` ‚Üí `modules/farming/controller.ts::getFarmingData`
- –†–∞—Å—á–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ —Ñ–∞—Ä–º–∏–Ω–≥–∞ –∏ —Å—Ç–∞–≤–æ–∫

**Missions –º–æ–¥—É–ª—å:**
- `/api/v2/missions/active` ‚Üí `modules/missions/controller.ts::getActiveMissions`
- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –º–∏—Å—Å–∏–π –∏ —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**Telegram –º–æ–¥—É–ª—å:**
- `/api/v2/telegram/debug` ‚Üí `modules/telegram/controller.ts::debugMiddleware`
- `server/telegram/stable-middleware.ts` ‚Üí `modules/telegram/middleware.ts`

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç:
```
modules/[module_name]/
‚îú‚îÄ‚îÄ controller.ts    # API –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ service.ts       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
‚îú‚îÄ‚îÄ routes.ts        # Express –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ model.ts         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
‚îî‚îÄ‚îÄ types.ts         # TypeScript —Ç–∏–ø—ã (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
```

## –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- ‚úÖ User - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ref –∫–æ–¥–æ–≤
- ‚úÖ Wallet - –¥–∞–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∞, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
- ‚úÖ Farming - —Ä–∞—Å—á–µ—Ç —Ñ–∞—Ä–º–∏–Ω–≥–∞, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ Missions - –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏—Å—Å–∏–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö
- ‚úÖ Telegram - middleware, debug endpoints

**–ì–æ—Ç–æ–≤—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- üîÑ Referral - —Ç–æ–ª—å–∫–æ service –∑–∞–≥–ª—É—à–∫–∞
- üîÑ Boost - —Ç–æ–ª—å–∫–æ service –∑–∞–≥–ª—É—à–∫–∞  
- üîÑ DailyBonus - —Ç–æ–ª—å–∫–æ service –∑–∞–≥–ª—É—à–∫–∞
- üîÑ Admin - —Ç–æ–ª—å–∫–æ service –∑–∞–≥–ª—É—à–∫–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3003:
- –°—Ç–∞—Ç—É—Å: http://localhost:3003/health
- –ú–æ–¥—É–ª–∏: http://localhost:3003/api/v2/modules
- –í—Å–µ endpoints –∏–∑ routes-clean.ts —Ä–∞–±–æ—Ç–∞—é—Ç

## –û—á–∏—Å—Ç–∫–∞

–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å:
- `server/routes-clean.ts` (–ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)
- `server/telegram/` (–ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)  
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã –≤ server/

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞. –í—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–∑ `server/routes-clean.ts` —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.