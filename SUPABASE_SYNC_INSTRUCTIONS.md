# üìã –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò SUPABASE

## üéØ –¶–µ–ª—å
–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ 100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö UniFarm –≤ Supabase

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ë–î**: 64%
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã**: 7 –∏–∑ 11
- **–¢–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏**: 3 (users, transactions, withdraw_requests)
- **–ü—É—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã**: 4 (referrals, farming_sessions, boost_purchases, missions)
- **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã**: 4 (user_sessions, user_missions, airdrops, daily_bonus_logs)

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª SQL Editor
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `scripts/supabase-create-tables.sql`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è 4 –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü:
   - user_sessions
   - user_missions
   - airdrops
   - daily_bonus_logs

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ SQL –∫–æ–º–∞–Ω–¥—ã –≤ Supabase Dashboard:

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ referrer_id –≤ —Ç–∞–±–ª–∏—Ü—É users
ALTER TABLE users ADD COLUMN IF NOT EXISTS referrer_id integer;

-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ reward_ton –≤ —Ç–∞–±–ª–∏—Ü—É missions
ALTER TABLE missions ADD COLUMN IF NOT EXISTS reward_ton numeric(20,8) DEFAULT 0;

-- –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è referrals
ALTER TABLE referrals ADD CONSTRAINT referrals_user_id_referred_user_id_key 
UNIQUE (user_id, referred_user_id);
```

### –®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
node scripts/supabase-fill-data.js
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞—É–¥–∏—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë–î:

```bash
node scripts/supabase-schema-audit.js
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ë–î**: 100%
- **–í—Å–µ 11 —Ç–∞–±–ª–∏—Ü** —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- **–î–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã** –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
- **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
1. **Backup**: –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º SQL
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ Supabase
3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ SUPABASE_URL –∏ SUPABASE_KEY
4. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç –æ–∫–æ–ª–æ 10-15 –º–∏–Ω—É—Ç

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ SQL —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —á–µ—Ä–µ–∑ `node scripts/supabase-schema-audit.js`