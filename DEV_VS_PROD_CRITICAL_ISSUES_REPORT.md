# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ DEV vs PROD –†–ï–ñ–ò–ú–û–í
–î–∞—Ç–∞: 18 —è–Ω–≤–∞—Ä—è 2025
–°—Ç–∞—Ç—É—Å: –¢–†–ï–ë–£–ï–¢–°–Ø –í–ù–ò–ú–ê–ù–ò–ï –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

## üö® –ù–ê–ô–î–ï–ù–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚ùå TON Connect Manifest URL –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω
**–§–∞–π–ª:** `client/src/App.tsx` (—Å—Ç—Ä–æ–∫–∞ 285)
```jsx
<TonConnectUIProvider manifestUrl="https://uni-farm-connect-x-ab245275.replit.app/tonconnect-manifest.json">
```
**–ü—Ä–æ–±–ª–µ–º–∞:** URL –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É Replit –¥–æ–º–µ–Ω—É
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤ PROD:** TON Connect –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–º–µ–Ω–µ
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π URL –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. ‚ùå TON Connect Manifest —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ URL
**–§–∞–π–ª:** `client/public/tonconnect-manifest.json`
```json
{
  "url": "https://uni-farm-connect-x-ab245275.replit.app",
  "iconUrl": "https://uni-farm-connect-x-ab245275.replit.app/assets/unifarm-icon.svg"
}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ URL –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ Replit –¥–æ–º–µ–Ω—É
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤ PROD:** TON Connect –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

### 3. ‚ö†Ô∏è CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è
**–§–∞–π–ª:** `core/config.ts` (—Å—Ç—Ä–æ–∫–∞ 16)
```javascript
corsOrigins: process.env.CORS_ORIGINS || (process.env.NODE_ENV === 'production' ? 'https://t.me' : 'http://localhost:3000')
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –í production —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω `https://t.me`
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ó–∞–ø—Ä–æ—Å—ã —Å –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤ –±—É–¥—É—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ CORS_ORIGINS —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ production

### 4. ‚ö†Ô∏è WebSocket URL —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
**–§–∞–π–ª:** `client/src/contexts/webSocketContext.tsx`
```javascript
const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
const wsUrl = `${protocol}//${host}/ws`;
```
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ proxy –∏–ª–∏ CDN –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
**–†–µ—à–µ–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏

### 5. ‚ö†Ô∏è –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ WebSocket –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
**–ù–∞–π–¥–µ–Ω–æ 3 —Ä–∞–∑–Ω—ã—Ö WebSocket –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
- `client/src/contexts/webSocketContext.tsx` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ App.tsx)
- `client/src/core/providers/WebSocketProvider.tsx`
- `client/src/core/providers/ConfigurableWebSocketProvider.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä

### 6. ‚úÖ Rate Limiting –æ—Ç–∫–ª—é—á–µ–Ω
**–§–∞–π–ª:** `server/index.ts` (—Å—Ç—Ä–æ–∫–∞ 411)
```javascript
logger.info('[Server] Express Rate Limiting –ü–û–õ–ù–û–°–¢–¨–Æ –û–¢–ö–õ–Æ–ß–ï–ù');
```
**–°—Ç–∞—Ç—É—Å:** –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è production
**–†–∏—Å–∫:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ –¥–ª—è DDoS –∞—Ç–∞–∫

### 7. ‚ö†Ô∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `NODE_ENV` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `production`
- `CORS_ORIGINS` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
- `TELEGRAM_WEBAPP_URL` - URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `SUPABASE_URL` –∏ `SUPABASE_ANON_KEY` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 8. ‚ö†Ô∏è –§–∞–Ω—Ç–æ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞:** 67 —Ñ–∞–Ω—Ç–æ–º–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ `ton_farming_data` –±–ª–æ–∫–∏—Ä—É—é—Ç TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∏—Ç—å –ë–î –ø–µ—Ä–µ–¥ production –¥–µ–ø–ª–æ–µ–º

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

1. [ ] –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ URL –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. [ ] –û—á–∏—Å—Ç–∏—Ç—å —Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
4. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å TON Connect –Ω–∞ production –¥–æ–º–µ–Ω–µ
5. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
6. [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π WebSocket –ø—Ä–æ–≤–∞–π–¥–µ—Ä
7. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
8. [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã TON Connect

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   ```javascript
   const APP_URL = process.env.VITE_APP_URL || window.location.origin;
   ```

2. **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL
   - –ó–∞–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º

3. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å WebSocket –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥

4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**
   - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   - –í—ã–≤–æ–¥–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ