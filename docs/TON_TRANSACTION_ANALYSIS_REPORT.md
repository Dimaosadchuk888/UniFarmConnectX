# üîç –û–¢–ß–ï–¢: –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´ TON-–¢–†–ê–ù–ó–ê–ö–¶–ò–ô

**–î–∞—Ç–∞**: 3 –∏—é–ª—è 2025  
**–¢–∏–ø –∞–Ω–∞–ª–∏–∑–∞**: –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞)  
**–°—Ç–∞—Ç—É—Å**: –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ—á–Ω–æ –≤—ã—è–≤–ª–µ–Ω–∞  

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

| –®–∞–≥ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----|-----------|-------------|
| –ù–∞–π–¥–µ–Ω –ª–∏ —Ñ–∞–π–ª –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π? | ‚úÖ | `/client/src/components/wallet/TransactionHistory.tsx` |
| –ï—Å—Ç—å –ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ TON –≤ API? | ‚ùå | API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ UNI —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| –ï—Å—Ç—å –ª–∏ –æ–Ω–∏ –≤ –ë–î? | ‚ùå | –í –ë–î –ù–ï–¢ TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è user_id=48 |
| –§–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ª–∏ –≤ –∫–æ–¥–µ? | ‚ùå | –ö–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥–∞–Ω–Ω—ã—Ö |
| **–í—ã–≤–æ–¥** | üîç | **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π TON –ø—Ä–æ—Å—Ç–æ –ù–ï–¢ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** |

## üìã –î–ï–¢–ê–õ–¨–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Supabase)
**–¢–∞–±–ª–∏—Ü–∞**: `transactions`  
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: ID 48 (telegram_id: 88888888)  

```json
{
  "id": 360426,
  "user_id": 48,
  "type": "FARMING_REWARD",
  "amount_uni": 0.000804,
  "amount_ton": 0,
  "currency": null,
  "description": "UNI farming income",
  "status": "completed"
}
```

### 2. –ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π user_id=48
- **–í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ**: 20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–¢–∏–ø—ã**: 100% `FARMING_REWARD` (—Ç–æ–ª—å–∫–æ UNI farming)
- **–í–∞–ª—é—Ç—ã**: 100% `currency: null` (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ amount_uni/amount_ton)
- **TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: 0 —à—Ç—É–∫
- **Boost —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: 0 —à—Ç—É–∫

### 3. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–π–¥–µ–Ω—ã –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)

#### TransactionHistory.tsx
- **–ü—É—Ç—å**: `/client/src/components/wallet/TransactionHistory.tsx`
- **API –∑–∞–ø—Ä–æ—Å**: `/api/v2/transactions?page=1&limit=20`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### StyledTransactionItem.tsx
- **–ü—É—Ç—å**: `/client/src/components/wallet/StyledTransactionItem.tsx` 
- **–§—É–Ω–∫—Ü–∏—è**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### TonTransactions.tsx
- **–ü—É—Ç—å**: `/client/src/components/wallet/TonTransactions.tsx`
- **–§—É–Ω–∫—Ü–∏—è**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ, –Ω–æ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

### 4. Backend API –º–∞—Ä—à—Ä—É—Ç—ã

#### TransactionsController
- **–ü—É—Ç—å**: `/modules/transactions/controller.ts`
- **Endpoint**: `GET /api/v2/transactions`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ UnifiedTransactionService

#### UnifiedTransactionService
- **–ü—É—Ç—å**: `/core/TransactionService.ts`
- **–§—É–Ω–∫—Ü–∏—è**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: formatTransactionResponse –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∞–ª—é—Ç—É –ø–æ amount_uni > 0

```typescript
// –õ–û–ì–ò–ö–ê –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –í–ê–õ–Æ–¢–´
const currency = amount_uni > 0 ? 'UNI' : 'TON';
```

## üö® –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### ‚ùå –ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
1. **–ù–µ—Ç TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –ë–î**: –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 48 –≤–æ–æ–±—â–µ –ù–ï–¢ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å `amount_ton > 0`
2. **–ë–∞–ª–∞–Ω—Å –µ—Å—Ç—å, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ—Ç**: –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å `balance_ton: 917`, –Ω–æ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∫–∞–∫ –æ–Ω –ø–æ—è–≤–∏–ª—Å—è

### ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û:
1. **Frontend –≥–æ—Ç–æ–≤**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç TON
2. **API –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω**: TransactionService –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
3. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞**: StyledTransactionItem –ø–æ–∫–∞–∂–µ—Ç TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞**: TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö **–ø—Ä–æ—Å—Ç–æ –ù–ï–¢ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**.

**–ò—Å—Ç–æ—á–Ω–∏–∫**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 48 –∏–º–µ–µ—Ç –±–∞–ª–∞–Ω—Å TON = 917, –Ω–æ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –æ —Ç–æ–º, –æ—Ç–∫—É–¥–∞ –æ–Ω –≤–∑—è–ª—Å—è:
- –ù–µ—Ç –∑–∞–ø–∏—Å–µ–π TON Boost –ø–æ–∫—É–ø–æ–∫  
- –ù–µ—Ç –∑–∞–ø–∏—Å–µ–π TON –¥–µ–ø–æ–∑–∏—Ç–æ–≤
- –ù–µ—Ç –∑–∞–ø–∏—Å–µ–π TON farming –¥–æ—Ö–æ–¥–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ TON Boost —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è—Ö.

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å TON Boost –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** - —Å–æ–∑–¥–∞–µ—Ç –ª–∏ –æ–Ω —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫—É–¥–∞ –ø–æ—è–≤–∏–ª—Å—è balance_ton: 917** 
3. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ UI
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ TON Boost –¥–æ—Ö–æ–¥–æ–≤**

---
*–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.*