# План очистки реферальной системы UniFarm

## Обнаруженные проблемы:

### 1. Дублирующие компоненты в папке friends:
- ReferralSystemProduction.tsx - основной production компонент (ОСТАВИТЬ)
- ReferralSystemFixed.tsx - старая версия
- ReferralSystemWorking.tsx - старая версия  
- SimpleReferralDemo.tsx - демо версия
- ReferralDebug.tsx - отладочный компонент (ВОЗМОЖНО ОСТАВИТЬ)
- UniFarmReferralLink.tsx - отдельный компонент ссылки (ПРОВЕРИТЬ)
- ReferralLevelsTable.tsx - таблица уровней (ВОЗМОЖНО ИНТЕГРИРОВАТЬ)
- FriendsWithErrorBoundary.tsx - обёртка с обработкой ошибок

### 2. Проблемы импортов:
- ReferralSystemProduction импортировал несуществующий userServiceV2 (ИСПРАВЛЕНО)

### 3. Проблемы кэширования:
- Браузер кэширует старый JavaScript код
- Добавлены meta теги cache-control но требуется жёсткая перезагрузка

### 4. API статус:
- Сервер работает корректно
- API возвращает правильный ref_code: "REF_1750952576614_t938vs"
- UserContext правильно обрабатывает данные

## План действий:

### Шаг 1: Анализ компонентов
Проверить какие компоненты используются и какие можно удалить

### Шаг 2: Очистка дублей
Удалить неиспользуемые компоненты, оставив только production версии

### Шаг 3: Интеграция
Объединить полезные части из разных компонентов в единую систему

### Шаг 4: Верификация
Убедиться что всё работает корректно после очистки