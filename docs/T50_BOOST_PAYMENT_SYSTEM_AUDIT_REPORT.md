# –û–¢–ß–Å–¢ –ü–û T50 ‚Äî –ê–£–î–ò–¢ –°–ò–°–¢–ï–ú–´ –û–ü–õ–ê–¢–´ BOOST-–ü–ê–ö–ï–¢–û–í

## –û–±—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞
**–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –æ–ø–ª–∞—Ç—ã Boost-–ø–∞–∫–µ—Ç–æ–≤: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê**

–°–∏—Å—Ç–µ–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É frontend –∏ backend.

---

## 1. –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ wallet.balance.ton: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –ì–û–¢–û–í–ê

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **WalletService.withdrawFunds()** - –º–µ—Ç–æ–¥ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ —Å –±–∞–ª–∞–Ω—Å–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤ –ø–µ—Ä–µ–¥ —Å–ø–∏—Å–∞–Ω–∏–µ–º
- **Transactions –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - —Ç–∏–ø 'boost_purchase' –≤ —Å—Ö–µ–º–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **Balance —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ balance_uni/balance_ton –≤ —Ç–∞–±–ª–∏—Ü–µ users

### ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
- **API endpoint /api/v2/boost/purchase** - –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ routes.ts
- **BoostController.purchaseBoost()** - –º–µ—Ç–æ–¥ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å boost —Å–µ—Ä–≤–∏—Å–æ–º** - –Ω–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É wallet –∏ boost –º–æ–¥—É–ª—è–º–∏
- **–ó–∞–ø–∏—Å—å boost_purchases** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—É—Å—Ç–æ–≤

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
modules/wallet/service.ts:217 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤
modules/wallet/service.ts:228 - –°–ø–∏—Å–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∞  
modules/transactions/model.ts:26 - BOOST_PURCHASE —Ç–∏–ø
modules/transactions/service.ts:178 - –û–±—Ä–∞–±–æ—Ç–∫–∞ boost_purchase –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
```

---

## 2. –í–Ω–µ—à–Ω—è—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Tonkeeper / TON Connect: ‚úÖ –ì–û–¢–û–í–ê

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **TON Connect manifest** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production
- **TonConnectService** - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - PaymentMethodDialog, BoostPackagesCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Transaction handling** - sendTonTransaction() —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:
- **Manifest URL**: https://uni-farm-connect-x-osadchukdmitro2.replit.app
- **App Name**: "UniFarm" (–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ TONKeeper)
- **TON_PROJECT_ADDRESS**: UQBlrUfJMIlAcyYzttyxV2xrrvaHHIKEKeetGZbDoitTRWT8
- **Transaction lifetime**: 30 –º–∏–Ω—É—Ç

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã:
- **Backend –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç API –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **Transaction polling** - –Ω–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ blockchain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **Boost activation** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ frontend –ª–æ–≥–∏–∫–µ

---

## 3. Supabase —Ç–∞–±–ª–∏—Ü—ã: ‚ö†Ô∏è –°–•–ï–ú–ê –ù–ï–ü–û–õ–ù–ê–Ø

### ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
- **users** - balance_uni, balance_ton –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- **transactions** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 'boost_purchase' —Ç–∏–ø–∞

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
- **boost_purchases** - —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ —Å—Ö–µ–º–µ
- **boost_packages** - –Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
- **active_boosts** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—É—Å—Ç–æ–≤

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—è –¥–ª—è boost —Å–∏—Å—Ç–µ–º—ã:
```
users.balance_uni - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å UNI
users.balance_ton - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å TON  
transactions.type - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 'boost_purchase'
transactions.currency - UNI/TON –≤–∞–ª—é—Ç—ã
```

---

## 4. API /api/v2/boost/*: ‚ùå PURCHASE ENDPOINT –û–¢–°–£–¢–°–¢–í–£–ï–¢

### ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints:
```
GET /api/v2/boost/ - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—É—Å—Ç–æ–≤
GET /api/v2/boost/packages - –ø–∞–∫–µ—Ç—ã –±—É—Å—Ç–æ–≤  
GET /api/v2/boost/user/:userId - –∞–∫—Ç–∏–≤–Ω—ã–µ –±—É—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/v2/boost/activate - –∑–∞–≥–ª—É—à–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
```

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ:
- **POST /api/v2/boost/purchase** - –æ—Å–Ω–æ–≤–Ω–æ–π endpoint –ø–æ–∫—É–ø–∫–∏
- **POST /api/v2/boost/confirm-payment** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- **GET /api/v2/boost/payment-status/:txHash** - —Å—Ç–∞—Ç—É—Å blockchain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –ê–Ω–∞–ª–∏–∑ BoostController:
```
activateBoost() - —Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
getUserBoosts() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: purchaseBoost(), confirmExternalPayment()
```

---

## 5. Frontend –ª–æ–≥–∏–∫–∞: ‚úÖ –•–û–†–û–®–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê

### ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã:
- **PaymentMethodDialog** - –≤—ã–±–æ—Ä –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π/–≤–Ω–µ—à–Ω–µ–π –æ–ø–ª–∞—Ç—ã
- **BoostPackagesCard** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–∫—É–ø–∫–∏
- **TonConnect –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
- **Error handling** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### ‚úÖ –õ–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã:
```
client/src/components/farming/BoostPackagesCard.tsx:
- buyTonBoostMutation —Å payment_method –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
- API –≤—ã–∑–æ–≤ /api/v2/ton-farming/purchase (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ internal_balance –∏ external_wallet –º–µ—Ç–æ–¥–æ–≤
```

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã frontend:
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API endpoint** - –≤—ã–∑—ã–≤–∞–µ—Ç /ton-farming/purchase –≤–º–µ—Å—Ç–æ /boost/purchase
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ polling** - –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ blockchain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è** - –±—É—Å—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã

---

## 6. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### üö® –ë–ª–æ–∫–µ—Ä—ã —Å–∏—Å—Ç–µ–º—ã –æ–ø–ª–∞—Ç—ã:
1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç POST /api/v2/boost/purchase** - –æ—Å–Ω–æ–≤–Ω–æ–π API endpoint
2. **–ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ wallet ‚Üî boost** - –º–æ–¥—É–ª–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã
3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ö–µ–º–∞ boost_purchases** - –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –ø–æ–∫—É–ø–æ–∫
4. **Frontend –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API** - /ton-farming/purchase vs /boost/purchase
5. **–ù–µ—Ç backend –æ–±—Ä–∞–±–æ—Ç–∫–∏ blockchain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –≤–Ω–µ—à–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è

### üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- Boost –ø–∞–∫–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–¥–µ, –∞ –Ω–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±—É—Å—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –±—É—Å—Ç–∞–º–∏

---

## 7. –í–´–í–û–î

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ–ø–ª–∞—Ç–∞**: 30% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–µ—Å—Ç—å wallet –º–µ—Ç–æ–¥—ã, –Ω–µ—Ç API)
- **–í–Ω–µ—à–Ω—è—è –æ–ø–ª–∞—Ç–∞**: 70% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (TON Connect —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ—Ç backend)
- **–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã**: **40%**

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ TON Connect –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–∏–º –∫–æ—à–µ–ª—å–∫–∞–º  
‚úÖ Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã  
‚úÖ –ë–∞–∑–æ–≤—ã–µ wallet –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤  
‚úÖ Production-ready TON Connect manifest  

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚ùå –ü–æ–∫—É–ø–∫–∞ Boost-–ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å  
‚ùå –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ—Å–ª–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂–µ–π  
‚ùå –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ blockchain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  
‚ùå –ó–∞–ø–∏—Å—å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –±—É—Å—Ç–∞–º–∏  

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥:
**–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã Boost-–ø–∞–∫–µ—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤, –Ω–æ backend –ª–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–∫–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê. –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ API endpoints –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.**

---

*–ê—É–¥–∏—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω: 16 –∏—é–Ω—è 2025*  
*–°—Ç–∞—Ç—É—Å: –°–ò–°–¢–ï–ú–ê –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò BACKEND –õ–û–ì–ò–ö–ò*