# üîß –û–¢–ß–ï–¢ –û –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ò –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò –ë–û–¢–û–í

**–î–∞—Ç–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**: 28 –∏—é–ª—è 2025, 12:40 UTC  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–£–°–ü–ï–®–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û**  

---

## üîç –ü–†–û–ë–õ–ï–ú–ê, –ö–û–¢–û–†–ê–Ø –ë–´–õ–ê –†–ï–®–ï–ù–ê

### –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã:
- ‚ùå –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç @UniFarming_Bot: "Wrong response from the webhook: 404 Not Found"
- ‚ùå –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç: "Wrong response from the webhook: 500 Internal Server Error"
- ‚ùå –û–±–∞ –±–æ—Ç–∞ –±—ã–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üè• –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–û–ö–ê–ó–ê–õ–ê:
**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –ù–ï –≤ –∫–æ–¥–µ, –∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ!**

---

## ‚úÖ –†–ï–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –ë–û–¢–û–í (–ü–û–°–õ–ï –ü–†–û–í–ï–†–ö–ò)

### üìä –¢–µ—Å—Ç webhook –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞:
```
POST /api/v2/telegram/webhook
Status: 200 OK
Response: {"ok":true}
‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û
```

### üìä –¢–µ—Å—Ç webhook –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –±–æ—Ç–∞:
```
POST /api/v2/admin-bot/webhook  
Status: 200 OK
Response: OK
‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û
```

### üîß –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: Telegram routes –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ server/routes.ts (—Å—Ç—Ä–æ–∫–∞ 314)
- ‚úÖ **–ê–¥–º–∏–Ω—Å–∫–∏–µ routes**: AdminBot routes –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ server/routes.ts (—Å—Ç—Ä–æ–∫–∞ 329)
- ‚úÖ **–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü—Ä–æ—Ü–µ—Å—Å tsx server/index.ts –∞–∫—Ç–∏–≤–µ–Ω (PID: 4770)
- ‚úÖ **API –¥–æ—Å—Ç—É–ø–µ–Ω**: –í—Å–µ endpoint'—ã –æ—Ç–≤–µ—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üöÄ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ê

### –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç @UniFarming_Bot:
```javascript
// –ü–æ–ª–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ /start –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞–µ—Ç:
üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UniFarm ‚Äî 
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ç–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ç–µ–±—è!

üöú –ó–¥–µ—Å—å —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—à—å UNI –∏ TON ‚Äî —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å –∏—Ö –≤ —Ä–∞–±–æ—Ç—É.
–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –¥–æ—Ö–æ–¥ ‚Äî –≤—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–≤–æ–µ–≥–æ –≤—ã–±–æ—Ä–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

üéØ –í—ã–±–µ—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é. –ê–∫—Ç–∏–≤–∏—Ä—É–π —Ñ–∞—Ä–º–∏–Ω–≥. –°–ª–µ–¥–∏ –∑–∞ —Ä–æ—Å—Ç–æ–º.

üëá –ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å? –ñ–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ –∑–∞—Ö–æ–¥–∏ –≤ —Å–≤–æ—ë –ø–æ–ª–µ —Ç–æ–∫–µ–Ω–æ–≤!

[üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å UniFarm] -> WebApp
```

### –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç:
```javascript
// –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –≤—ã–≤–æ–¥–∞—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç:
üí∞ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @username (ID: XXX)
üíé –°—É–º–º–∞: X TON  
üìÆ –ê–¥—Ä–µ—Å: UQXXXXX
üìÖ –î–∞—Ç–∞: –î–î.–ú–ú.–ì–ì–ì–ì –ß–ß:–ú–ú

[–û–¥–æ–±—Ä–∏—Ç—å] [–û—Ç–∫–ª–æ–Ω–∏—Ç—å] [–í—Å–µ –∑–∞—è–≤–∫–∏]
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ LSP –æ—à–∏–±–æ–∫:
- ‚úÖ **modules/adminBot/service.ts**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ diagnostic –æ—à–∏–±–∫–∏
- ‚úÖ **modules/adminBot/controller.ts**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ diagnostic –æ—à–∏–±–∫–∏  
- ‚úÖ **–ö–æ–¥ —á–∏—Å—Ç—ã–π**: 0 LSP –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- ‚úÖ **TelegramService.processUpdate()**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç /start –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **TelegramService.handleStartCommand()**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å WebApp –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ **AdminBotService.notifyWithdrawal()**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- ‚úÖ **AdminBotController.handleUpdate()**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–æ–≤

### 3. Webhook –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç**: `https://uni-farm-connect-unifarm01010101.replit.app/api/v2/telegram/webhook`
- ‚úÖ **–ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç**: `https://uni-farm-connect-unifarm01010101.replit.app/api/v2/admin-bot/webhook`
- ‚úÖ **–û–±–∞ webhook'–∞**: –û—Ç–≤–µ—á–∞—é—Ç 200 OK –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

---

## üéØ –†–ï–ê–õ–¨–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê "–ü–†–û–ë–õ–ï–ú–´"

### –õ–æ–∂–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
1. **Webhook errors –≤ Telegram API**: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏ —Å—Ç–∞—Ä—ã–µ –æ—à–∏–±–∫–∏ (5+ —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥)
2. **404/500 –æ—à–∏–±–∫–∏**: –ë—ã–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏–ª–∏—Å—å –∫ —Å—Ç–∞—Ä—ã–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º
3. **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞**: –ù–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

### –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ **–ö–æ–¥**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π  
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **Webhook endpoints**: –î–æ—Å—Ç—É–ø–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- ‚úÖ **–õ–æ–≥–∏–∫–∞ –±–æ—Ç–æ–≤**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ

---

## üö® –í–ê–ñ–ù–´–ï –í–´–í–û–î–´

### –î–ª—è –±—É–¥—É—â–µ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
1. **–ù–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ getWebhookInfo**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º—ã–µ POST –∑–∞–ø—Ä–æ—Å—ã –∫ webhook
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å LSP diagnostics**: –£–±–µ–∂–¥–∞—Ç—å—Å—è —á—Ç–æ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞**: –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤

### –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç**: –ì–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ /start —Å WebApp –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ **–ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç**: –ì–æ—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞—è–≤–∫–∞—Ö –Ω–∞ –≤—ã–≤–æ–¥
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

---

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢

**–û–ë–ê TELEGRAM –ë–û–¢–ê –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ—Ç–≤–µ—Ç –Ω–∞ /start —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø—É—Å–∫–∞ WebApp
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
- –í—Å–µ webhook endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- –ö–æ–¥ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–æ–∫ (0 LSP diagnostics)

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ, –∞ –Ω–µ –≤ —Å–∏—Å—Ç–µ–º–µ. –ë–æ—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.**