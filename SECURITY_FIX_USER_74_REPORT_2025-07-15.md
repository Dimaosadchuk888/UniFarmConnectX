# –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–Ø–ó–í–ò–ú–û–°–¢–¨ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò - –û–¢–ß–ï–¢ –û –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò
## –î–∞—Ç–∞: 15 –∏—é–ª—è 2025
## –°—Ç–∞—Ç—É—Å: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### üö® –û–ø–∏—Å–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –í–´–°–û–ö–ê–Ø**

–í —Ñ–∞–π–ª–µ `client/index.html` –±—ã–ª –æ–±–Ω–∞—Ä—É–∂–µ–Ω hardcoded JWT —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 74, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Preview —Ä–µ–∂–∏–º–µ Replit.

### üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

```javascript
// client/index.html (—Å—Ç—Ä–æ–∫–∏ 24-35)
<!-- Preview Mode JWT Setup for User ID 74 -->
<script>
  if (window.location.hostname.includes('replit')) {
    const existingToken = localStorage.getItem('unifarm_jwt_token');
    if (!existingToken) {
      const previewToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...';
      localStorage.setItem('unifarm_jwt_token', previewToken);
    }
  }
</script>
```

### üîç –í–ª–∏—è–Ω–∏–µ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–£—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: –í—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 74
2. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∏—Å–∫–∏**: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —á—É–∂–∏–µ –±–∞–ª–∞–Ω—Å—ã (10,903,708.598 UNI –∏ 774.28 TON)
3. **–ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏**: –î–æ—Å—Ç—É–ø –∫ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∏ —Ñ–∞—Ä–º–∏–Ω–≥ –¥–µ–ø–æ–∑–∏—Ç–∞–º
4. **WebSocket –ø–æ–¥–ø–∏—Å–∫–∏**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —á—É–∂–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. **–£–¥–∞–ª–µ–Ω hardcoded JWT —Ç–æ–∫–µ–Ω** –∏–∑ `client/index.html`
2. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ backend API** - –≤—Å–µ endpoints –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç JWT middleware
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç userId –∏–∑ UserContext (JWT —Ç–æ–∫–µ–Ω)

### üõ°Ô∏è –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- ‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Backend API –∑–∞—â–∏—â–µ–Ω middleware `requireTelegramAuth`
- ‚úÖ Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ JWT
- ‚úÖ –ù–µ—Ç hardcoded —Ç–æ–∫–µ–Ω–æ–≤ –≤ production –∫–æ–¥–µ
- ‚úÖ WebSocket –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É userId

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **Code Review**: –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –≤—Å–µ–≥–æ –∫–æ–¥–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç hardcoded credentials
2. **CI/CD**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–æ–¥–µ
3. **Environment Variables**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **Monitoring**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### üîê –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ `client/index.html` - –æ—á–∏—â–µ–Ω –æ—Ç hardcoded —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ `client/src/main.tsx` - –ø—Ä–æ–≤–µ—Ä–µ–Ω, —á–∏—Å—Ç
- ‚úÖ `client/src/App.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- ‚úÖ `client/src/contexts/userContext.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç JWT –∏–∑ localStorage
- ‚úÖ `core/middleware/telegramAuth.ts` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT
- ‚úÖ `modules/farming/directFarmingStatus.ts` - –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–∂–∏–º –¥–∞–Ω–Ω—ã–º

### ‚ö†Ô∏è –û—Å—Ç–∞—Ç–æ—á–Ω—ã–µ —Ä–∏—Å–∫–∏

- –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `/scripts/` —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ ID 74 (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
- HTML —Ñ–∞–π–ª—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ —Å–ª–µ–¥—É–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–¥ production –¥–µ–ø–ª–æ–µ–º

---

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—É—é JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –±–µ–∑ hardcoded —Ç–æ–∫–µ–Ω–æ–≤.