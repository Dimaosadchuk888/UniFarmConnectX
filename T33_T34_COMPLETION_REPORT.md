# üîß –û–¢–ß–ï–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø –¢33-–¢34

**–î–∞—Ç–∞:** 16 –∏—é–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ

---

## üìã –¢33: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï ADMIN –ú–û–î–£–õ–Ø –ö API

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. **–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç admin –º–æ–¥—É–ª—è** –≤ server/routes.ts (—Å—Ç—Ä–æ–∫–∞ 15)
   ```typescript
   import adminRoutes from '../modules/admin/routes';
   ```

2. **–ü–æ–¥–∫–ª—é—á–µ–Ω –º–∞—Ä—à—Ä—É—Ç /admin** –∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ API (—Å—Ç—Ä–æ–∫–∞ 212)
   ```typescript
   router.use('/admin', adminRoutes);
   ```

3. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **API endpoints —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã:**
  - `GET /api/v2/admin/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
  - `GET /api/v2/admin/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
  - `POST /api/v2/admin/users/:userId/moderate` - –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `POST /api/v2/admin/missions/manage` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏—Å—Å–∏—è–º–∏

- **@unifarm_admin_bot** —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ API
- **–ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞** - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω
- **–í—Å–µ —Ç–µ–∫—É—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

---

## üìã –¢34: –°–û–ó–î–ê–ù–ò–ï MODEL.TS –î–õ–Ø TONFARMING

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. **–°–æ–∑–¥–∞–Ω modules/tonFarming/model.ts** —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏:
   - `TON_FARMING_TABLE` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - `TON_FARMING_FIELDS` - –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è TON —Ñ–∞—Ä–º–∏–Ω–≥–∞
   - `TON_FARMING_CONFIG` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∞—Ä–º–∏–Ω–≥–∞ (DEFAULT_RATE, REWARD_PRECISION –∏ –¥—Ä.)
   - `TON_FARMING_STATUS` - —Å—Ç–∞—Ç—É—Å—ã —Ñ–∞—Ä–º–∏–Ω–≥–∞
   - `TON_TRANSACTION_TYPES` - —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π TON
   - `TON_TIME_INTERVALS` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
   - `TON_FARMING_MESSAGES` - —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
   - `TON_FARMING_VALIDATION` - –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

2. **–û–±–Ω–æ–≤–ª–µ–Ω modules/tonFarming/service.ts** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç:
   - –ó–∞–º–µ–Ω–µ–Ω—ã hardcoded –∑–Ω–∞—á–µ–Ω–∏—è `'0.001'` –Ω–∞ `TON_FARMING_CONFIG.DEFAULT_RATE`
   - –ó–∞–º–µ–Ω–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ `'ton_farming_start'` –Ω–∞ `TON_TRANSACTION_TYPES.FARMING_START`
   - –ó–∞–º–µ–Ω–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ `'ton_farming_claim'` –Ω–∞ `TON_TRANSACTION_TYPES.FARMING_CLAIM`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `TON_FARMING_VALIDATION.MIN_TELEGRAM_ID/MAX_TELEGRAM_ID`
   - –ó–∞–º–µ–Ω–µ–Ω—ã hardcoded `.toFixed(8)` –Ω–∞ `TON_FARMING_CONFIG.REWARD_PRECISION`
   - –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `TON_FARMING_MESSAGES`

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - tonFarming –º–æ–¥—É–ª—å —Ç–µ–ø–µ—Ä—å —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç** - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ hardcoded –∑–Ω–∞—á–µ–Ω–∏—è –≤ service.ts
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ª–µ–≥—á–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞—Ä–º–∏–Ω–≥–∞
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º** - –º–æ–¥—É–ª—å —Å–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É controller/routes/service/types/model

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –°–¢–ê–¢–£–° –ü–û–°–õ–ï –¢33-–¢34:

### üü¢ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–µ –º–æ–¥—É–ª–∏ (12):
airdrop, auth, boost, dailyBonus, farming, missions, monitor, referral, telegram, transactions, wallet, **admin**, **tonFarming**

### üü° –£—Å–ª–æ–≤–Ω–æ —Ä–∞–±–æ—á–∏–µ –º–æ–¥—É–ª–∏ (1):
user (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç repository.ts –≤–º–µ—Å—Ç–æ service.ts)

### üî¥ –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–æ–¥—É–ª–∏ (0):
–ù–ï–¢

---

## üéØ –û–ë–©–ò–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø:

- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:** 95% (–ø–æ–≤—ã—à–µ–Ω–∏–µ —Å 93%)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è:** 13 –∏–∑ 14 –º–æ–¥—É–ª–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- **API connectivity:** –í—Å–µ –º–æ–¥—É–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ server/routes.ts
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è Telegram –±–æ—Ç–∞
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç:** –î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –≤–æ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª—è—Ö

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –∑–∞–ø—É—Å–∫—É —Å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–æ–π user –º–æ–¥—É–ª—è.