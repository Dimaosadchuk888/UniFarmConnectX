# –û–¢–ß–ï–¢: –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° –¢–†–ê–ù–ó–ê–ö–¶–ò–Ø–ú–ò UNIFARM
**–î–∞—Ç–∞:** 11 —è–Ω–≤–∞—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## üìã –†–ï–ó–Æ–ú–ï –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø

### ‚úÖ –ß—Ç–æ –Ω–∞–π–¥–µ–Ω–æ:
1. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–∫—É–ø–∫–∏ (FARMING_DEPOSIT)** - –ù–ï –°–û–ó–î–ê–Æ–¢–°–Ø
2. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π (FARMING_REWARD)** - –°–û–ó–î–ê–Æ–¢–°–Ø (256 –∑–∞–ø–∏—Å–µ–π)
3. **–ë–∞–ª–∞–Ω—Å UNI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (422,236 UNI)
4. **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤** - –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ UI

## üîç –î–ï–¢–ê–õ–¨–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### 1. –¢–†–ê–ù–ó–ê–ö–¶–ò–Ø –ü–û–ö–£–ü–ö–ò –ü–ê–ö–ï–¢–ê

#### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞:
- **0 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ç–∏–ø–∞ FARMING_DEPOSIT** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **0 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å "deposit" –≤ –æ–ø–∏—Å–∞–Ω–∏–∏**
- –ö–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (modules/farming/service.ts:316-380)
- –ù–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ù–ï –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –±–∞–∑—É

#### üîß –ü—Ä–∏—á–∏–Ω–∞ —Å–±–æ—è:
–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: `FARMING_REWARD`. –¢–∏–ø `FARMING_DEPOSIT` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ enum —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –ë–î, –ø–æ—ç—Ç–æ–º—É Supabase –æ—Ç–∫–ª–æ–Ω—è–µ—Ç INSERT –∑–∞–ø—Ä–æ—Å—ã.

### 2. –¢–†–ê–ù–ó–ê–ö–¶–ò–ò –ù–ê–ß–ò–°–õ–ï–ù–ò–ô –û–¢ –ê–ö–¢–ò–í–ù–´–• –ü–ê–ö–ï–¢–û–í

#### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- **256 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ç–∏–ø–∞ FARMING_REWARD** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 74
- –°–æ–∑–¥–∞—é—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (core/scheduler/farmingScheduler.ts:142-156)
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
  - 11:25 - 242.67 UNI
  - 11:20 - 228.53 UNI
  - 11:15 - 214.38 UNI

### 3. –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–ê–õ–ê–ù–°–ê

#### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- **–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å:** 422,236.12 UNI, 938.12 TON
- **–§–∞—Ä–º–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω:** true
- **–î–µ–ø–æ–∑–∏—Ç –≤ —Ñ–∞—Ä–º–∏–Ω–≥–µ:** 407,319 UNI
- **–ù–∞—á–∞–ª–æ —Ñ–∞—Ä–º–∏–Ω–≥–∞:** 11.07.2025 07:59:13

–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ BalanceManager –∏ WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è.

### 4. –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –í UI

#### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞:
- API endpoint `/api/v2/wallet/history` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –í –ª–æ–≥–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞: `{"transactions":[],"total":0}`
- –•–æ—Ç—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å 256 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. –ü—Ä–æ–±–ª–µ–º–∞ —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (—Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Ç–µ—Å—Ç–∞—Ö)
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ —É—Å–ª–æ–≤–∏—é
3. –û—à–∏–±–∫–∞ –≤ SQL –∑–∞–ø—Ä–æ—Å–µ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö

## üìä –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•

### –¢–∞–±–ª–∏—Ü–∞ transactions:
```sql
- id: INTEGER
- user_id: INTEGER (74)
- type: VARCHAR ('FARMING_REWARD')
- amount_uni: NUMERIC (–Ω–∞–ø—Ä–∏–º–µ—Ä, 242.674814)
- amount_ton: NUMERIC (0)
- status: VARCHAR ('completed')
- description: TEXT
- created_at: TIMESTAMP
```

### –¢–∞–±–ª–∏—Ü–∞ users:
```sql
- id: INTEGER (74)
- balance_uni: NUMERIC (422236.122573)
- balance_ton: NUMERIC (938.118945)
- uni_farming_active: BOOLEAN (true)
- uni_deposit_amount: NUMERIC (407319)
- uni_farming_start_timestamp: TIMESTAMP
```

## üéØ –í–´–í–û–î–´

1. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–∫—É–ø–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è** –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–∞ FARMING_DEPOSIT –≤ enum –ë–î
2. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î
3. **–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ** —á–µ—Ä–µ–∑ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏
4. **UI –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –≤ API –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üî® –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø FARMING_DEPOSIT –≤ enum —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ë–î:**
   ```sql
   ALTER TYPE transaction_type ADD VALUE 'FARMING_DEPOSIT';
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT —Ç–æ–∫–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ** - –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å—Ç–µ–∫ –∏–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è

3. **–û—Ç–ª–∞–¥–∏—Ç—å API endpoint** `/api/v2/wallet/history` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—á–µ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

4. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ WalletService.getTransactionHistory –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏