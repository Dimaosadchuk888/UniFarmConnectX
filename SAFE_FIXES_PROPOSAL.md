# üîß –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï –ë–ï–ó–û–ü–ê–°–ù–´–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù

**–°—Ç–∞—Ç—É—Å:** –ì–û–¢–û–í–û –ö –°–û–ì–õ–ê–°–û–í–ê–ù–ò–Æ  
**–†–∏—Å–∫:** –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô (—Ç–æ—á–µ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)  
**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç –Ω–∞ –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üéØ **3 –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

### **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï #1:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ `tonBoostPackages`

**–ü–†–û–ë–õ–ï–ú–ê:** –°—Ç—Ä–æ–∫–∏ 1017 –∏ 1109 - –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–≤–æ–π—Å—Ç–≤—É
**–†–ò–°–ö:** –ú–µ—Ç–æ–¥—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å boost

**–ë–ï–ó–û–ü–ê–°–ù–û–ï –†–ï–®–ï–ù–ò–ï:**
```typescript
// –ó–ê–ú–ï–ù–ò–¢–¨ –í –°–¢–†–û–ö–ï 1017:
const boostPackage = this.tonBoostPackages.find(pkg => pkg.id.toString() === packageId);

// –ù–ê:
const packages = await this.getBoostPackages();
const boostPackage = packages.find(pkg => pkg.id.toString() === packageId);

// –ó–ê–ú–ï–ù–ò–¢–¨ –í –°–¢–†–û–ö–ï 1109:
const tonPackage = this.tonBoostPackages.find(pkg => pkg.id === user.ton_boost_package);

// –ù–ê:
const packages = await this.getBoostPackages();
const tonPackage = packages.find(pkg => pkg.id === user.ton_boost_package);
```

### **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï #2:** Type Error –≤ addBalance

**–ü–†–û–ë–õ–ï–ú–ê:** –°—Ç—Ä–æ–∫–∞ 189 - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è string –≤–º–µ—Å—Ç–æ number
**–†–ò–°–ö:** BalanceManager –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ë–ï–ó–û–ü–ê–°–ù–û–ï –†–ï–®–ï–ù–ò–ï:**
```typescript
// –ó–ê–ú–ï–ù–ò–¢–¨ –í –°–¢–†–û–ö–ï 188-192:
const result = await balanceManager.addBalance(
  userId,
  boostPackage.uni_bonus,
  0,
  'BoostService.uni_bonus'
);

// –ù–ê:
const result = await balanceManager.addBalance(
  parseInt(userId),
  boostPackage.uni_bonus,
  0,
  'BoostService.uni_bonus'
);
```

### **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï #3:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ä–∞–Ω–µ–µ (reference error –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏)

**–°–¢–ê–¢–£–°:** ‚úÖ –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ
**–ü–†–û–í–ï–†–ö–ê:** –°—Ç—Ä–æ–∫–∏ 220-224 –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

## üõ°Ô∏è **–ì–ê–†–ê–ù–¢–ò–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**

### ‚úÖ **–ß–¢–û –î–ï–õ–ê–Æ–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- –ó–∞–º–µ–Ω—è—é—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–≤–æ–π—Å—Ç–≤—É –Ω–∞ —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥
- –ò—Å–ø—Ä–∞–≤–ª—è—é—Ç type casting –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å BalanceManager
- –ù–ï –ò–ó–ú–ï–ù–Ø–Æ–¢ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- –ù–ï –ó–ê–¢–†–ê–ì–ò–í–ê–Æ–¢ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ **–ß–¢–û –ù–ï –ó–ê–¢–†–ê–ì–ò–í–ê–ï–¢–°–Ø:**
- –õ–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–∫–∏ boost –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è  
- API endpoints –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è
- Frontend –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º

### ‚úÖ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ staging
- –ù–µ —Ç—Ä–µ–±—É—é—Ç –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å 100%
- –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∑–∞ 5 –º–∏–Ω—É—Ç

## üìã **–ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø**

### **–®–ê–ì 1:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `tonBoostPackages` (2 –º–µ—Å—Ç–∞)
- –í—Ä–µ–º—è: 5 –º–∏–Ω—É—Ç
- –†–∏—Å–∫: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—ã–∑–≤–∞—Ç—å getActiveBoosts() –∏ activatePackage()

### **–®–ê–ì 2:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å type casting –≤ addBalance  
- –í—Ä–µ–º—è: 2 –º–∏–Ω—É—Ç—ã
- –†–∏—Å–∫: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π  
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü–æ–∫—É–ø–∫–∞ boost —Å UNI –±–æ–Ω—É—Å–æ–º

### **–®–ê–ì 3:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
- –í—Ä–µ–º—è: 10 –º–∏–Ω—É—Ç
- –ü–æ–ª–Ω—ã–π —Ñ–ª–æ—É: –ü–æ–∫—É–ø–∫–∞ ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è ‚Üí –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞

## üöÄ **–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –û–ñ–ò–î–ê–ï–¢–°–Ø:**

### ‚úÖ **–ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø:**
- –ú–µ—Ç–æ–¥—ã `activatePackage()` –∏ `getActiveBoosts()` –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü–æ–∫—É–ø–∫–∞ boost –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- UNI –±–æ–Ω—É—Å—ã –±—É–¥—É—Ç –Ω–∞—á–∏—Å–ª—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚ö†Ô∏è **–ß–¢–û –ü–û–¢–†–ï–ë–£–ï–¢ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ô –†–ê–ë–û–¢–´:**
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è 10 –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞–Ω–∏–µ farming –∑–∞–ø–∏—Å–µ–π –¥–ª—è users —Å ton_boost_package
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞

## üìû **–ó–ê–ü–†–û–° –ù–ê –°–û–ì–õ–ê–°–û–í–ê–ù–ò–ï**

**–ì–û–¢–û–í –ü–†–ò–ú–ï–ù–ò–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–û–°–õ–ï –í–ê–®–ï–ì–û –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø:**

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `tonBoostPackages` ‚Üí `await this.getBoostPackages()`
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `userId` ‚Üí `parseInt(userId)`  
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
4. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

**–í–†–ï–ú–Ø –ù–ê –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:** 30 –º–∏–Ω—É—Ç  
**DOWNTIME:** 0 —Å–µ–∫—É–Ω–¥ (hot fixes)  
**–†–ò–°–ö –†–ï–ì–†–ï–°–°–ò–ò:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π

**–†–ê–ó–†–ï–®–ò–¢–ï –ù–ê–ß–ê–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø?**