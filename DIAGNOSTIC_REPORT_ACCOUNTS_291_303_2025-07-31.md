# üîç –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢: –ê–ö–ö–ê–£–ù–¢–´ 291-303 VS USER ID 25

**–î–∞—Ç–∞**: 31.07.2025  
**–°—Ç–∞—Ç—É—Å**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏  
**–ó–∞–¥–∞—á–∞**: –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –∞–∫–∫–∞—É–Ω—Ç–∞—Ö 291-303 –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —ç—Ç–∞–ª–æ–Ω–æ–º User ID 25

## üìä –ê–ù–ê–õ–ò–ó –ù–ê –û–°–ù–û–í–ï –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –î–ê–ù–ù–´–•

### üèÜ –≠–¢–ê–õ–û–ù USER ID 25 (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
```
‚úÖ ID: 25
‚úÖ Telegram ID: 425855744
‚úÖ Username: @DimaOsadchuk
‚úÖ ref_code: REF_1750079004411_nddfp2
‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: 583+ (BalanceManager —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚úÖ –ë–∞–ª–∞–Ω—Å—ã: –≤ —Ç–∞–±–ª–∏—Ü–µ users
‚úÖ TON Farming: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
‚úÖ User Sessions: –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
‚úÖ Admin –ø—Ä–∞–≤–∞: –¥–∞
‚úÖ –°–∏—Å—Ç–µ–º—ã: WebSocket, API, JWT, Schedulers - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### üîç –¢–ò–ü–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ê–ö–ö–ê–£–ù–¢–û–í (–∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤):

#### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ref_code**
- **–°–∏–º–ø—Ç–æ–º**: WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ü—Ä–∏—á–∏–Ω–∞**: ref_code = NULL –∏–ª–∏ –ø—É—Å—Ç–æ–π
- **–í–ª–∏—è–Ω–∏–µ**: –ù–µ—Ç —Ä–µ–∞–ª—å—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–∞–ª–∞–Ω—Å–∞

#### **–ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** 
- **–°–∏–º–ø—Ç–æ–º**: BalanceManager –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- **–ü—Ä–∏—á–∏–Ω–∞**: 0 –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ transactions
- **–í–ª–∏—è–Ω–∏–µ**: –ù–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å–ø–∏—Å–∞–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

#### **–ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç user_sessions**
- **–°–∏–º–ø—Ç–æ–º**: –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ user_sessions –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞
- **–í–ª–∏—è–Ω–∏–µ**: JWT —Ç–æ–∫–µ–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### **–ü—Ä–æ–±–ª–µ–º–∞ 4: TON Boost –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω**
- **–°–∏–º–ø—Ç–æ–º**: ton_boost_active = true, –Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ ton_farming_data
- **–ü—Ä–∏—á–∏–Ω–∞**: –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü
- **–í–ª–∏—è–Ω–∏–µ**: TON Boost –Ω–µ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è

#### **–ü—Ä–æ–±–ª–µ–º–∞ 5: –ë–∞–ª–∞–Ω—Å—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö**
- **–°–∏–º–ø—Ç–æ–º**: –ë–∞–ª–∞–Ω—Å—ã –≤ user_balances –≤–º–µ—Å—Ç–æ users
- **–ü—Ä–∏—á–∏–Ω–∞**: –≠–≤–æ–ª—é—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- **–í–ª–∏—è–Ω–∏–µ**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

## üéØ –ü–†–ï–î–ü–û–õ–ê–ì–ê–ï–ú–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –ê–ö–ö–ê–£–ù–¢–û–í 291-303

### **–†–ê–ë–û–ß–ê–Ø –ì–ò–ü–û–¢–ï–ó–ê**:
–ò–∑ 13 –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (291-303):
- ‚úÖ **8-10 –∞–∫–∫–∞—É–Ω—Ç–æ–≤**: —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∫–∞–∫ User ID 25)
- ‚ö†Ô∏è **2-3 –∞–∫–∫–∞—É–Ω—Ç–∞**: —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç (1-2 –ø—Ä–æ–±–ª–µ–º—ã)
- ‚ùå **1-2 –∞–∫–∫–∞—É–Ω—Ç–∞**: —Ç—Ä–µ–±—É—é—Ç —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### **–û–ñ–ò–î–ê–ï–ú–û–ï –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú**:
- **ref_code –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**: 2-3 –∞–∫–∫–∞—É–Ω—Ç–∞
- **–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**: 1-2 –∞–∫–∫–∞—É–Ω—Ç–∞
- **–ù–µ—Ç user_sessions**: 3-4 –∞–∫–∫–∞—É–Ω—Ç–∞
- **TON Boost –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω**: 1-2 –∞–∫–∫–∞—É–Ω—Ç–∞
- **–ë–∞–ª–∞–Ω—Å—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ**: 0-1 –∞–∫–∫–∞—É–Ω—Ç

## üîß –ì–û–¢–û–í–´–ô –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **–®–ê–ì 1: BACKUP (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)**
```sql
-- Backup –∞–∫–∫–∞—É–Ω—Ç–æ–≤ 291-303 –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
CREATE TABLE users_291_303_backup AS 
SELECT * FROM users WHERE id BETWEEN 291 AND 303;

CREATE TABLE transactions_291_303_backup AS 
SELECT * FROM transactions WHERE user_id BETWEEN 291 AND 303;

CREATE TABLE sessions_291_303_backup AS 
SELECT * FROM user_sessions WHERE user_id BETWEEN 291 AND 303;
```

### **–®–ê–ì 2: –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–ü–†–û–°–´**
```sql
-- –ó–∞–ø—Ä–æ—Å 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π
SELECT id, username, telegram_id, ref_code, balance_uni, balance_ton, ton_boost_active,
       CASE WHEN ref_code IS NULL THEN 'NEEDS_REF_CODE' ELSE 'OK' END as ref_status
FROM users WHERE id BETWEEN 291 AND 303;

-- –ó–∞–ø—Ä–æ—Å 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
SELECT u.id, u.username, COUNT(t.id) as tx_count,
       CASE WHEN COUNT(t.id) = 0 THEN 'NEEDS_TRANSACTIONS' ELSE 'OK' END as tx_status
FROM users u LEFT JOIN transactions t ON u.id = t.user_id
WHERE u.id BETWEEN 291 AND 303 GROUP BY u.id, u.username;

-- –ó–∞–ø—Ä–æ—Å 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–π
SELECT u.id, u.username, COUNT(s.id) as session_count,
       CASE WHEN COUNT(s.id) = 0 THEN 'NEEDS_SESSIONS' ELSE 'OK' END as session_status
FROM users u LEFT JOIN user_sessions s ON u.id = s.user_id
WHERE u.id BETWEEN 291 AND 303 GROUP BY u.id, u.username;

-- –ó–∞–ø—Ä–æ—Å 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ TON Boost —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
SELECT u.id, u.username, u.ton_boost_active, tfd.user_id as has_farming_data,
       CASE WHEN u.ton_boost_active = true AND tfd.user_id IS NULL 
            THEN 'NEEDS_SYNC' ELSE 'OK' END as boost_status
FROM users u LEFT JOIN ton_farming_data tfd ON u.id::text = tfd.user_id
WHERE u.id BETWEEN 291 AND 303;
```

### **–®–ê–ì 3: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ref_code**
```sql
-- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –±–µ–∑ ref_code
UPDATE users 
SET ref_code = 'REF_' || EXTRACT(EPOCH FROM NOW())::bigint || '_' || 
              SUBSTRING(MD5(RANDOM()::text), 1, 6)
WHERE id BETWEEN 291 AND 303 
    AND (ref_code IS NULL OR ref_code = '');
```

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
```sql
-- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
INSERT INTO transactions (user_id, transaction_type, currency, amount, status, description, created_at)
SELECT 
    id,
    'SYSTEM_INITIALIZATION',
    'UNI',
    '0.01',
    'confirmed',
    '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è BalanceManager —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏',
    created_at
FROM users 
WHERE id BETWEEN 291 AND 303
    AND NOT EXISTS(SELECT 1 FROM transactions WHERE user_id = users.id);
```

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3: –°–æ–∑–¥–∞–Ω–∏–µ user_sessions**
```sql
-- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –±–µ–∑ —Å–µ—Å—Å–∏–π
INSERT INTO user_sessions (user_id, session_token, expires_at, created_at)
SELECT 
    id,
    'unified_session_' || id || '_' || EXTRACT(EPOCH FROM NOW())::bigint,
    NOW() + INTERVAL '30 days',
    NOW()
FROM users 
WHERE id BETWEEN 291 AND 303
    AND telegram_id IS NOT NULL
    AND NOT EXISTS(SELECT 1 FROM user_sessions WHERE user_id = users.id);
```

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è TON Boost**
```sql
-- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω—ã–º TON Boost –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö
INSERT INTO ton_farming_data (user_id, farming_balance, farming_rate, boost_active, last_update)
SELECT 
    id::text,
    COALESCE(ton_farming_balance, '0'),
    COALESCE(ton_farming_rate, '0.000000231'),
    ton_boost_active,
    NOW()
FROM users 
WHERE id BETWEEN 291 AND 303
    AND ton_boost_active = true
    AND NOT EXISTS(SELECT 1 FROM ton_farming_data WHERE user_id = users.id::text);
```

### **–®–ê–ì 4: –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —ç—Ç–∞–ª–æ–Ω—É
WITH verification AS (
    SELECT 
        u.id,
        u.username,
        CASE WHEN u.ref_code IS NOT NULL THEN 1 ELSE 0 END +
        CASE WHEN EXISTS(SELECT 1 FROM transactions WHERE user_id = u.id) THEN 1 ELSE 0 END +
        CASE WHEN EXISTS(SELECT 1 FROM user_sessions WHERE user_id = u.id) THEN 1 ELSE 0 END +
        CASE WHEN u.ton_boost_active = false OR EXISTS(SELECT 1 FROM ton_farming_data WHERE user_id = u.id::text) THEN 1 ELSE 0 END
        as score
    FROM users u
    WHERE u.id BETWEEN 291 AND 303
)
SELECT 
    id,
    username,
    score,
    CASE 
        WHEN score = 4 THEN '‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û'
        WHEN score >= 3 THEN '‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û'
        ELSE '‚ùå –¢–†–ï–ë–£–ï–¢ –í–ù–ò–ú–ê–ù–ò–Ø'
    END as status
FROM verification
ORDER BY score DESC, id;
```

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –í–´–ü–û–õ–ù–ï–ù–ò–Æ

### **–ö–û–ì–î–ê –£ –í–ê–° –ë–£–î–ï–¢ –î–û–°–¢–£–ü –ö –ë–î**:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** - –≤—ã—è–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
2. **–°–æ–∑–¥–∞—Ç—å backup** - –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
3. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—ç—Ç–∞–ø–Ω–æ** - –ø–æ –æ–¥–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ –∑–∞ —Ä–∞–∑
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ User ID 25

### **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨**:
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –ù–ï –ó–ê–¢–†–ê–ì–ò–í–ê–Æ–¢–°–Ø
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã –ù–ï –ò–ó–ú–ï–ù–Ø–Æ–¢–°–Ø  
- ‚úÖ User ID 25 –æ—Å—Ç–∞–µ—Ç—Å—è –ù–ï–¢–†–û–ù–£–¢–´–ú
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –û–ë–†–ê–¢–ò–ú–´ —á–µ—Ä–µ–∑ backup

### **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**:
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –í–°–ï –∞–∫–∫–∞—É–Ω—Ç—ã 291-303 –±—É–¥—É—Ç:
- –†–∞–±–æ—Ç–∞—Ç—å —Å WebSocket (ref_code –µ—Å—Ç—å)
- –†–∞–±–æ—Ç–∞—Ç—å —Å BalanceManager (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –µ—Å—Ç—å)
- –ü—Ä–æ—Ö–æ–¥–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (user_sessions –µ—Å—Ç—å)
- –ò–º–µ—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π TON Boost
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ User ID 25

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –î–ï–ô–°–¢–í–ò–Ø

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Ñ–∞–π–ª–∞ `LIVE_ACCOUNTS_291_303_DIAGNOSTIC_2025-07-31.sql`
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º User ID 25

–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è —Ç–æ—á–µ—á–Ω–æ–π —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ 291-303!