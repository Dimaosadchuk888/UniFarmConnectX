# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏
**–î–∞—Ç–∞:** 12.07.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

## üîÑ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞:

### 1. –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏ `/api/v2/wallet/balance`
- **–ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞:** Frontend ‚Üí Routes ‚Üí DirectHandler ‚Üí UserService ‚Üí Supabase ‚Üí users table
- **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** –¢–∞–±–ª–∏—Ü–∞ `users` (balance_uni, balance_ton –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è)
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:** snake_case (–ë–î) ‚Üí camelCase (API) –≤ directBalanceHandler.ts

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- ‚úÖ –£–¥–∞–ª—ë–Ω `client/src/hooks/useBalance.ts`
- ‚úÖ –£–¥–∞–ª—ë–Ω –∏–º–ø–æ—Ä—Ç –∏–∑ App.tsx
- ‚úÖ –ù–µ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:

### Health Check:
```json
{
  "status": "ok",
  "timestamp": "2025-07-12T11:46:10.059Z",
  "version": "v2",
  "environment": "production"
}
```

### –§–æ—Ä–º–∞—Ç API `/api/v2/wallet/balance`:
```json
{
  "success": true,
  "data": {
    "uniBalance": 1004900.122573,
    "tonBalance": 898.118945,
    "uniFarmingActive": true,
    "uniDepositAmount": 412589,
    "uniFarmingBalance": 0
  }
}
```

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
- ‚úÖ –ë–∞–ª–∞–Ω—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (1004900.123 UNI, 898.119 TON)
- ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ runtime –æ—à–∏–±–æ–∫

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –í—Å–µ API endpoints –∏—Å–ø–æ–ª—å–∑—É—é—Ç camelCase
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** –û–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** balanceService.ts –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —á–µ—Ä–µ–∑ fallback
4. **–ß–∏—Å—Ç—ã–π –∫–æ–¥:** –£–¥–∞–ª—ë–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞:
- ‚úÖ replit.md - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ Changelog
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

–°–∏—Å—Ç–µ–º–∞ UniFarm —É—Å–ø–µ—à–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞:
- –ü—Ä–æ–≤–µ–¥—ë–Ω –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞–ª–∞–Ω—Å–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª—ë–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–æ–¥
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç API (camelCase)
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ