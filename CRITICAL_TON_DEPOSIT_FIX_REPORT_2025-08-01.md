# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: TON DEPOSIT SYSTEM FIXED

**–î–∞—Ç–∞**: 01 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

## üîç –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–ü—Ä–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ 304-307 –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

### ‚ùå –°–ò–ú–ü–¢–û–ú–´:
- –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–∏–ø–∞ `DEPOSIT` –≤–º–µ—Å—Ç–æ `TON_DEPOSIT`
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è TON –¥–µ–ø–æ–∑–∏—Ç–æ–≤
- TON Boost —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –±–∞–ª–∞–Ω—Å–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üîç –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê:
**–§–∞–π–ª**: `core/TransactionService.ts`, —Å—Ç—Ä–æ–∫–∞ 23  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

```typescript
// –ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
'TON_DEPOSIT': 'DEPOSIT',  // ‚ùå TON –¥–µ–ø–æ–∑–∏—Ç—ã –º–∞–ø–∏–ª–∏—Å—å –≤ –æ–±—ã—á–Ω—ã–µ DEPOSIT

// –ò–°–ü–†–ê–í–õ–ï–ù–û:
'TON_DEPOSIT': 'TON_DEPOSIT',  // ‚úÖ TON –¥–µ–ø–æ–∑–∏—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è TON_DEPOSIT
```

---

## ‚úÖ –ü–†–û–í–ï–î–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω UnifiedTransactionService**
**–§–∞–π–ª**: `core/TransactionService.ts`

```typescript
// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–æ–≤:
const TRANSACTION_TYPE_MAPPING = {
  'TON_DEPOSIT': 'TON_DEPOSIT',            // üî• –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï
  'TON_BOOST_PURCHASE': 'TON_BOOST_PURCHASE', // –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ç–∏–ø
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
};
```

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã**
**–§–∞–π–ª**: `modules/transactions/types.ts`

```typescript
export type TransactionsTransactionType = 
  | 'TON_DEPOSIT'        // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã
  | 'TON_BOOST_PURCHASE' // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –¥–ª—è TON Boost
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
```

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### ‚úÖ –ß–¢–û –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û:

1. **TON –î–µ–ø–æ–∑–∏—Ç—ã**:
   - –°–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∏–ø–æ–º `TON_DEPOSIT`
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∫–∞–∫ "üíé TON –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ"
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ SQL –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 191-303

2. **TON Boost System**:
   - –ü–æ–∫—É–ø–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–∏–ø–∞ `TON_BOOST_PURCHASE`
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:
   - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
   - –ù–æ–≤—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ö–µ–º–µ

---

## üìä –í–õ–ò–Ø–ù–ò–ï –ù–ê –°–ò–°–¢–ï–ú–£

### üü¢ –ü–û–ó–ò–¢–ò–í–ù–û–ï –í–õ–ò–Ø–ù–ò–ï:
- **–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (304+)**: –ü–æ–ª—É—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **TON Boost**: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- **–ú–∏–≥—Ä–∞—Ü–∏—è SQL**: –ë—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 191-303
- **UI/UX**: TON –¥–µ–ø–æ–∑–∏—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏

### üü° –¢–†–ï–ë–£–ï–¢ –í–ù–ò–ú–ê–ù–ò–Ø:
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ 304-307**: –ò–º–µ—é—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π `DEPOSIT`
- **–ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Ö –∏—Å—Ç–æ—Ä–∏–∏

---

## üîÑ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –î–ê–õ–¨–ù–ï–ô–®–ò–ú –î–ï–ô–°–¢–í–ò–Ø–ú

### 1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)**:
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 191-303
- ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 304-307

### 2. **–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è**:
- –°–æ–∑–¥–∞—Ç—å/–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `ton_boost_purchases`
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å TON Boost –ø–æ–∫—É–ø–∫–∏ –Ω–∞ –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ TON –¥–µ–ø–æ–∑–∏—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å —Ç–∏–ø–æ–º `TON_DEPOSIT`

---

## üõ°Ô∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

–î–∞–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—à–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–∏—Å—Ç–µ–º—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –í—Å–µ TON –¥–µ–ø–æ–∑–∏—Ç—ã —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —Ç–∏–ø
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–æ–≤ –¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
3. **–û—Ç–ª–∞–¥–∫–∞**: –õ–µ–≥—á–µ –Ω–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å TON —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
- TON –¥–µ–ø–æ–∑–∏—Ç—ã: —Ç–∏–ø `DEPOSIT` ‚ùå
- TON Boost: –Ω–µ—Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚ùå
- –ú–∏–≥—Ä–∞—Ü–∏—è: –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚ùå

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
- TON –¥–µ–ø–æ–∑–∏—Ç—ã: —Ç–∏–ø `TON_DEPOSIT` ‚úÖ
- TON Boost: –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É ‚úÖ
- –ú–∏–≥—Ä–∞—Ü–∏—è: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚úÖ

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã TON —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã UniFarm Connect.**