# üõ°Ô∏è –û–¢–ß–ï–¢ –û –ö–†–ò–¢–ò–ß–ï–°–ö–û–ú –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò
**–î–∞—Ç–∞**: 11 —è–Ω–≤–∞—Ä—è 2025, 15:50
**–¶–µ–ª—å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –°—É—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç–∏:
1. **–î–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞–ª–∏—Å—å —Å –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
2. **–î–µ–ø–æ–∑–∏—Ç—ã –ù–ï —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
3. **Frontend –¥—É–º–∞–ª —á—Ç–æ –≤—Å–µ —Ö–æ—Ä–æ—à–æ –∏ –æ–±–Ω–æ–≤–ª—è–ª UI**
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ—Ä—è–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±–µ–∑ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Å–ª—É–≥–∏**

### –ú–∞—Å—à—Ç–∞–± –ø—Ä–æ–±–ª–µ–º—ã:
- –ó–∞ 10 –º–∏–Ω—É—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–µ—Ä—è–Ω–æ 20 UNI
- uni_deposit_amount –Ω–µ —É–≤–µ–ª–∏—á–∏–ª—Å—è
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ FARMING_DEPOSIT –Ω–µ —Å–æ–∑–¥–∞–ª–∏—Å—å
- –°—Ä–µ–¥—Å—Ç–≤–∞ –∏—Å—á–µ–∑–ª–∏ –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ

## ‚úÖ –í–ù–ï–°–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Frontend (UniFarmingCard.tsx)
**–ë—ã–ª–æ:**
```typescript
if (!response || !response.success) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–µ–≥–æ success
}
```

**–°—Ç–∞–ª–æ:**
```typescript
if (!response || !response.success || (response.data && response.data.success === false)) {
  // –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π data.success
  const errorMessage = response?.data?.message || response?.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–µ–ø–æ–∑–∏—Ç–∞';
  setError(errorMessage);
  return; // –ù–ï –æ–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –æ—à–∏–±–∫–µ!
}
```

### 2. Backend (directDeposit.ts)
**–ë—ã–ª–æ:**
```typescript
res.json({
  success: true,  // –í—Å–µ–≥–¥–∞ true!
  data: result
});
```

**–°—Ç–∞–ª–æ:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç farmingService
if (result && result.success === false) {
  console.log('[DirectDeposit] CRITICAL: farmingService –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É', result);
  return res.status(400).json({
    success: false,
    error: result.message || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö',
    data: result
  });
}

res.json({
  success: true,
  data: result
});
```

## üìã –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. ‚úÖ Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (400) –∏ success: false
2. ‚úÖ Frontend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π data.success
3. ‚úÖ –ë–∞–ª–∞–Ω—Å –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ UI –ø—Ä–∏ –æ—à–∏–±–∫–µ
4. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
5. ‚úÖ –°—Ä–µ–¥—Å—Ç–≤–∞ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API –æ—Ç–≤–µ—Ç–æ–≤

## üéØ –°–¢–ê–¢–£–°

**–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –¢–µ–ø–µ—Ä—å:
- –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ù–ï —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏–∑ UI
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ frontend (–±–ª–∞–≥–æ–¥–∞—Ä—è Vite HMR). 
Backend —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ directDeposit.ts.

## üìä –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ "–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö" –±–∞–ª–∞–Ω—Å –ù–ï —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –¥–µ–ø–æ–∑–∏—Ç–µ

## üîí –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–µ—Ä–∏ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Å–±–æ—è—Ö —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤.