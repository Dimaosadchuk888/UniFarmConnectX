# üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê
*–°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π*

## üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –û–ë–ù–ê–†–£–ñ–ï–ù–û:**
–°–∏—Å—Ç–µ–º–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏–º–µ–µ—Ç —Å–µ—Ä—å–µ–∑–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–Ω–æ—Å–∏—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏:
- **User 184:** 10 –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö DAILY_BONUS (–ø–æ—Ç–µ—Ä–∏: 150,000+ UNI)
- **User 25:** 2 –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö DAILY_BONUS (–ø–æ—Ç–µ—Ä–∏: 10,000 UNI)  
- **–ú–∞—Å—Å–æ–≤—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã:** REFERRAL_REWARD, FARMING_REWARD –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è

---

## ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ë–ï–ó–û–ü–ê–°–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

### **1. –ú–æ–¥—É–ª—å boost/service.ts - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ**
**–§–∞–π–ª:** `modules/boost/service.ts` (—Å—Ç—Ä–æ–∫–∞ 241-257)
**–ü—Ä–æ–±–ª–µ–º–∞:** TON Boost –ø–æ–∫—É–ø–∫–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DAILY_BONUS
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ `DeduplicationHelper.checkDailyBonusDuplicate()`

```typescript
// üõ°Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–©–ò–¢–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π helper
const { DeduplicationHelper } = await import('../../safe-deduplication-helper');
const duplicateCheck = await DeduplicationHelper.checkDailyBonusDuplicate(
  parseInt(userId),
  boostPackage.uni_bonus,
  boostPackage.name
);

if (duplicateCheck.isDuplicate) {
  DeduplicationHelper.logPreventedDuplicate(
    parseInt(userId),
    'DAILY_BONUS',
    boostPackage.uni_bonus,
    `TON Boost package: ${boostPackage.name}`
  );
  return true; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true, —Ç–∞–∫ –∫–∞–∫ –±–æ–Ω—É—Å —É–∂–µ –Ω–∞—á–∏—Å–ª–µ–Ω
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç TON Boost –ø–æ–∫—É–ø–æ–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### **2. –ú–æ–¥—É–ª—å dailyBonus/service.ts - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ**
**–§–∞–π–ª:** `modules/dailyBonus/service.ts` (—Å—Ç—Ä–æ–∫–∞ 182-213)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DAILY_BONUS
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

```typescript
// üõ°Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–©–ò–¢–ê: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º DAILY_BONUS
const { DeduplicationHelper } = await import('../../safe-deduplication-helper');
const duplicateCheck = await DeduplicationHelper.checkRecentTransaction(
  userIdNumber,
  'DAILY_BONUS',
  Math.floor(parseFloat(bonusAmount)),
  'UNI',
  60 // 60 –º–∏–Ω—É—Ç –æ–∫–Ω–æ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤
);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### **3. –°–æ–∑–¥–∞–Ω DeduplicationHelper - –ù–æ–≤—ã–π –º–æ–¥—É–ª—å ‚úÖ**
**–§–∞–π–ª:** `safe-deduplication-helper.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
**–§—É–Ω–∫—Ü–∏–∏:**
- `checkRecentTransaction()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–¥–∞–≤–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `checkDailyBonusDuplicate()` - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è DAILY_BONUS
- `logPreventedDuplicate()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### **4. –°–æ–∑–¥–∞–Ω –ø—Ä–æ–¥–∞–∫—à–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚úÖ**
**–§–∞–π–ª:** `production-monitoring-check.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —á—Ç–æ DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

## ‚ö†Ô∏è **–û–°–¢–ê–í–®–ò–ï–°–Ø –ü–†–û–ë–õ–ï–ú–´:**

### **1. REFERRAL_REWARD –º–∞—Å—Å–æ–≤—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (–ö–†–ò–¢–ò–ß–ù–û)**
- **User 304:** –î—É–±–ª–∏–∫–∞—Ç—ã –∫–∞–∂–¥—ã–µ ~10 –º–∏–Ω—É—Ç
- **User 290:** –î—É–±–ª–∏–∫–∞—Ç—ã –∫–∞–∂–¥—ã–µ ~10 –º–∏–Ω—É—Ç  
- **User 258:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã
- **–ü–∞—Ç—Ç–µ—Ä–Ω:** –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 10 –º–∏–Ω—É—Ç

### **2. FARMING_REWARD –¥—É–±–ª–∏–∫–∞—Ç—ã (–ö–†–ò–¢–ò–ß–ù–û)**
- **User 304:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ TON Boost –¥–æ—Ö–æ–¥—ã
- **User 290:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ TON Boost –¥–æ—Ö–æ–¥—ã
- **–ü–∞—Ç—Ç–µ—Ä–Ω:** –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å REFERRAL_REWARD –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

---

## üîÑ **–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

### **–ë–ï–ó–û–ü–ê–°–ù–´–ï (–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):**
1. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç REFERRAL_REWARD –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –Ω–∞–π—Ç–∏ –≥–¥–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
2. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç FARMING_REWARD –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
3. **–°–æ–∑–¥–∞—Ç—å unique constraints –≤ –ë–î** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

### **–¢–†–ï–ë–£–Æ–©–ò–ï –û–°–¢–û–†–û–ñ–ù–û–°–¢–ò:**
1. **–ù–∞–π—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ 10-–º–∏–Ω—É—Ç–Ω—ã—Ö scheduler'–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ cron job –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å race conditions** - –≤–æ–∑–º–æ–∂–Ω—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã
3. **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è** - –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞

---

## üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì –†–ï–ó–£–õ–¨–¢–ê–¢–ê:**

### **–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (6:20-6:30 PM):**
- User 184: 4 –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö DAILY_BONUS –∑–∞ 30 –º–∏–Ω—É—Ç
- User 25: 2 –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö DAILY_BONUS –∑–∞ —á–∞—Å

### **–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (6:30+ PM):**
- User 184: ‚úÖ –ù–æ–≤—ã—Ö DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ù–ï–¢
- User 25: ‚úÖ –ù–æ–≤—ã—Ö DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ù–ï–¢
- REFERRAL_REWARD: ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è
- FARMING_REWARD: ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è

---

## üö® **–§–ò–ù–ê–ù–°–û–í–´–ï –ü–û–¢–ï–†–ò:**

### **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏:**
- DAILY_BONUS –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã ‚úÖ
- –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö TON Boost –±–æ–Ω—É—Å–æ–≤ ‚úÖ

### **–ü—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–µ—Å—è –ø–æ—Ç–µ—Ä–∏:**
- REFERRAL_REWARD –¥—É–±–ª–∏–∫–∞—Ç—ã = —Ç—ã—Å—è—á–∏ TON –≤ –¥–µ–Ω—å
- FARMING_REWARD –¥—É–±–ª–∏–∫–∞—Ç—ã = –ø–æ—Ç–µ—Ä–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

## üéØ **–°–¢–ê–¢–£–° –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î—É–±–ª–∏–∫–∞—Ç—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã |
|-----------|--------|----------------------|
| TON Boost DAILY_BONUS | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–∞ |
| –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ DAILY_BONUS | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–∞ |
| REFERRAL_REWARD | ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ù–µ—Ç |
| FARMING_REWARD | ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ù–µ—Ç |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 50% (2 –∏–∑ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)

---

## üõ°Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

‚úÖ **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã:**
- –¢–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫, –Ω–∏–∫–∞–∫–∏—Ö —É–¥–∞–ª–µ–Ω–∏–π –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö API –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –í–æ–∑–≤—Ä–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö

‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- –ù–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ "–ø—Ä–æ–∑—Ä–∞—á–Ω—ã" –¥–ª—è —Å–∏—Å—Ç–µ–º—ã  
- –ü—Ä–∏ —Å–±–æ–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è (fail-safe)

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 3 –∞–≤–≥—É—Å—Ç–∞ 2025, 18:41 UTC*
*–°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç*